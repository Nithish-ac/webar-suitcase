{
  "version": 3,
  "sources": ["../../ua-parser-js/src/ua-parser.js", "../../@zappar/zappar-threejs/lib/version.js", "../../@zappar/zappar/lib/event.js", "../../@zappar/zappar-cv/lib/gen/zappar-native.js", "../../@zappar/zappar-cv/lib/serializer.js", "../../@zappar/zappar-cv/lib/deserializer.js", "../../@zappar/zappar-cv/lib/gen/zappar-client.js", "../../@zappar/zappar-cv/lib/shader.js", "../../@zappar/zappar-cv/lib/drawplane.js", "../../gl-matrix/esm/common.js", "../../gl-matrix/esm/mat3.js", "../../gl-matrix/esm/mat4.js", "../../gl-matrix/esm/vec3.js", "../../gl-matrix/esm/vec4.js", "../../gl-matrix/esm/quat.js", "../../gl-matrix/esm/vec2.js", "../../@zappar/zappar-cv/lib/profile.js", "../../@zappar/zappar-cv/lib/cameramodel.js", "../../@zappar/zappar-cv/lib/event.js", "../../@zappar/zappar-cv/lib/messages.js", "../../@zappar/zappar-cv/lib/worker-client.js", "../../@zappar/zappar-cv/lib/permission.js", "../../@zappar/zappar-cv/lib/tr.js", "../../@zappar/zappar-cv/lib/loglevel.js", "../../@zappar/zappar-cv/lib/facemesh.js", "../../@zappar/zappar-cv/lib/drawcamera.js", "../../@zappar/zappar-cv/lib/drawface.js", "../../@zappar/zappar-cv/lib/drawfaceproject.js", "../../@zappar/zappar-cv/lib/sequencerecorder.js", "../../@zappar/zappar-cv/lib/source.js", "../../@zappar/zappar-cv/lib/gl-state-manager.js", "../../@zappar/zappar-cv/lib/image-process-gl.js", "../../@zappar/zappar-cv/lib/html-element-source.js", "../../@zappar/zappar-cv/lib/camera-source.js", "../../@zappar/zappar-cv/lib/imagebitmap-camera-source.js", "../../@zappar/zappar-cv/lib/mstp-camera-source.js", "../../@zappar/zappar-cv/lib/camera-source-map.js", "../../@zappar/zappar-cv/lib/drawpreviewmesh.js", "../../@zappar/zappar-cv/lib/pipeline.js", "../../@zappar/zappar-cv/lib/facelandmarkdata.js", "../../@zappar/zappar-cv/lib/facelandmark.js", "../../@zappar/zappar-cv/lib/compatibility.js", "../../@zappar/zappar-cv/lib/sequencesource.js", "../../@zappar/zappar-cv/lib/gfx.js", "../../@zappar/zappar-cv/lib/imagetracker-previewmesh.js", "../../@zappar/zappar-cv/lib/riff-reader.js", "../../@zappar/zappar-cv/lib/imagetracker.js", "../../@zappar/zappar-cv/lib/native.js", "../../@zappar/zappar-cv/lib/version.js", "../../@zappar/zappar-cv/lib/index.js", "../../@zappar/zappar/lib/version.js", "../../@zappar/zappar/lib/zappar.js", "../../@zappar/zappar/lib/imagetracker.js", "../../@zappar/zappar/lib/instantworldtracker.js", "../../@zappar/zappar/lib/barcodefinder.js", "../../@zappar/zappar/lib/facetracker.js", "../../@zappar/zappar/lib/facemesh.js", "../../@zappar/zappar/lib/camerasource.js", "../../@zappar/zappar/lib/htmlelementsource.js", "../../@zappar/zappar/lib/sequencesource.js", "../../@zappar/zappar/lib/pipeline.js", "../../@zappar/zappar/lib/facelandmark.js", "../../@zappar/zappar/lib/permission.js", "../../@zappar/zappar/lib/loglevel.js", "../../@zappar/zappar-threejs/lib/three.js", "../../@zappar/zappar-threejs/lib/defaultpipeline.js", "../../@zappar/zappar-threejs/lib/cameraTexture.js", "../../@zappar/zappar-threejs/lib/camera.js", "../../@zappar/zappar-threejs/lib/trackers/imageanchorgroup.js", "../../@zappar/zappar-threejs/lib/loaders/imagetrackerloader.js", "../../@zappar/zappar-threejs/lib/trackers/instantworldanchorgroup.js", "../../@zappar/zappar-threejs/lib/trackers/faceanchorgroup.js", "../../@zappar/zappar-threejs/lib/trackers/facelandmarkgroup.js", "../../@zappar/zappar-threejs/lib/loaders/facetrackerloader.js", "../../@zappar/zappar-threejs/lib/loaders/facemeshloader.js", "../../@zappar/zappar-threejs/lib/geometry/facebuffergeometry.js", "../../@zappar/zappar-threejs/lib/mesh/headmaskmesh.js", "../../@zappar/zappar-threejs/lib/loaders/headmaskmeshloader.js", "../../@zappar/zappar-threejs/lib/loaders/libraryloader.js", "../../@zappar/zappar-threejs/lib/loaders/loadingmanager.js", "../../@zappar/zappar-threejs/lib/cameraenvironmentmap.js", "../../@zappar/zappar-threejs/lib/geometry/targetimagepreviewbuffergeometry.js", "../../@zappar/zappar-threejs/lib/mesh/targetimagepreviewmesh.js", "../../@zappar/zappar-threejs/lib/index.js"],
  "sourcesContent": ["/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.33\n   Copyright Â© 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.33',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK   = 'Facebook';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /yabrowser\\/([\\w\\.]+)/i                                             // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            // Ordered by popularity\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /\\((ip(?:hone|od)[\\w ]*);/i                                         // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi)( bui|\\))/i,                                         // Kindle Fire without Silk\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i               // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2)?)/i                                                     // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i                                       // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+ ([\\w\\.]+\\w)/i                                         // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,            // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _ua = ua || ((typeof window !== UNDEF_TYPE && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser.major = majorize(_browser.version);\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n", "/**\n * SDK version.\n */\nexport const VERSION = \"2.5.2\";\n", "/**\n * A type-safe event handling class that multiple functions to be registered to be called when events are emitted.\n */\nexport class Event {\n    constructor() {\n        this._funcs = [];\n    }\n    /**\n     * Bind new handler function.\n     * @param f - The callback function to be bound.\n     */\n    bind(f) {\n        this._funcs.push(f);\n    }\n    /**\n     * Unbind an existing handler function.\n     * @param f - The callback function to be unbound.\n     */\n    unbind(f) {\n        const indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    /**\n     * Emit an event, calling the bound handler functions.\n     */\n    emit() {\n        for (let i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i]();\n        }\n    }\n}\n/**\n * A type-safe event handling class that multiple functions to be registered to be called when events are emitted.\n * This class will pass a single argument supplied to [[emit]] to the handler functions.\n *\n * @typeparam A - The type of the argument passed to the handler functions through [[emit]].\n */\nexport class Event1 {\n    constructor() {\n        this._funcs = [];\n    }\n    /**\n     * Bind new handler function.\n     * @param f - The callback function to be bound.\n    */\n    bind(f) {\n        this._funcs.push(f);\n    }\n    /**\n     * Unbind an existing function.\n     * @param f - The callback function to be unbound.\n     */\n    unbind(f) {\n        const indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    /**\n     * Emit an event.\n     *\n     * @param a - The argument to pass to handler functions.\n     */\n    emit(a) {\n        for (let i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i](a);\n        }\n    }\n}\n", "export var barcode_format_t;\n(function (barcode_format_t) {\n    barcode_format_t[barcode_format_t[\"UNKNOWN\"] = 131072] = \"UNKNOWN\";\n    barcode_format_t[barcode_format_t[\"AZTEC\"] = 1] = \"AZTEC\";\n    barcode_format_t[barcode_format_t[\"CODABAR\"] = 2] = \"CODABAR\";\n    barcode_format_t[barcode_format_t[\"CODE_39\"] = 4] = \"CODE_39\";\n    barcode_format_t[barcode_format_t[\"CODE_93\"] = 8] = \"CODE_93\";\n    barcode_format_t[barcode_format_t[\"CODE_128\"] = 16] = \"CODE_128\";\n    barcode_format_t[barcode_format_t[\"DATA_MATRIX\"] = 32] = \"DATA_MATRIX\";\n    barcode_format_t[barcode_format_t[\"EAN_8\"] = 64] = \"EAN_8\";\n    barcode_format_t[barcode_format_t[\"EAN_13\"] = 128] = \"EAN_13\";\n    barcode_format_t[barcode_format_t[\"ITF\"] = 256] = \"ITF\";\n    barcode_format_t[barcode_format_t[\"MAXICODE\"] = 512] = \"MAXICODE\";\n    barcode_format_t[barcode_format_t[\"PDF_417\"] = 1024] = \"PDF_417\";\n    barcode_format_t[barcode_format_t[\"QR_CODE\"] = 2048] = \"QR_CODE\";\n    barcode_format_t[barcode_format_t[\"RSS_14\"] = 4096] = \"RSS_14\";\n    barcode_format_t[barcode_format_t[\"RSS_EXPANDED\"] = 8192] = \"RSS_EXPANDED\";\n    barcode_format_t[barcode_format_t[\"UPC_A\"] = 16384] = \"UPC_A\";\n    barcode_format_t[barcode_format_t[\"UPC_E\"] = 32768] = \"UPC_E\";\n    barcode_format_t[barcode_format_t[\"UPC_EAN_EXTENSION\"] = 65536] = \"UPC_EAN_EXTENSION\";\n    barcode_format_t[barcode_format_t[\"ALL\"] = 131071] = \"ALL\";\n})(barcode_format_t || (barcode_format_t = {}));\n;\nexport var face_landmark_name_t;\n(function (face_landmark_name_t) {\n    face_landmark_name_t[face_landmark_name_t[\"EYE_LEFT\"] = 0] = \"EYE_LEFT\";\n    face_landmark_name_t[face_landmark_name_t[\"EYE_RIGHT\"] = 1] = \"EYE_RIGHT\";\n    face_landmark_name_t[face_landmark_name_t[\"EAR_LEFT\"] = 2] = \"EAR_LEFT\";\n    face_landmark_name_t[face_landmark_name_t[\"EAR_RIGHT\"] = 3] = \"EAR_RIGHT\";\n    face_landmark_name_t[face_landmark_name_t[\"NOSE_BRIDGE\"] = 4] = \"NOSE_BRIDGE\";\n    face_landmark_name_t[face_landmark_name_t[\"NOSE_TIP\"] = 5] = \"NOSE_TIP\";\n    face_landmark_name_t[face_landmark_name_t[\"NOSE_BASE\"] = 6] = \"NOSE_BASE\";\n    face_landmark_name_t[face_landmark_name_t[\"LIP_TOP\"] = 7] = \"LIP_TOP\";\n    face_landmark_name_t[face_landmark_name_t[\"LIP_BOTTOM\"] = 8] = \"LIP_BOTTOM\";\n    face_landmark_name_t[face_landmark_name_t[\"MOUTH_CENTER\"] = 9] = \"MOUTH_CENTER\";\n    face_landmark_name_t[face_landmark_name_t[\"CHIN\"] = 10] = \"CHIN\";\n    face_landmark_name_t[face_landmark_name_t[\"EYEBROW_LEFT\"] = 11] = \"EYEBROW_LEFT\";\n    face_landmark_name_t[face_landmark_name_t[\"EYEBROW_RIGHT\"] = 12] = \"EYEBROW_RIGHT\";\n})(face_landmark_name_t || (face_landmark_name_t = {}));\n;\nexport var instant_world_tracker_transform_orientation_t;\n(function (instant_world_tracker_transform_orientation_t) {\n    instant_world_tracker_transform_orientation_t[instant_world_tracker_transform_orientation_t[\"WORLD\"] = 3] = \"WORLD\";\n    instant_world_tracker_transform_orientation_t[instant_world_tracker_transform_orientation_t[\"MINUS_Z_AWAY_FROM_USER\"] = 4] = \"MINUS_Z_AWAY_FROM_USER\";\n    instant_world_tracker_transform_orientation_t[instant_world_tracker_transform_orientation_t[\"MINUS_Z_HEADING\"] = 5] = \"MINUS_Z_HEADING\";\n    instant_world_tracker_transform_orientation_t[instant_world_tracker_transform_orientation_t[\"UNCHANGED\"] = 6] = \"UNCHANGED\";\n})(instant_world_tracker_transform_orientation_t || (instant_world_tracker_transform_orientation_t = {}));\n;\nexport var log_level_t;\n(function (log_level_t) {\n    log_level_t[log_level_t[\"LOG_LEVEL_NONE\"] = 0] = \"LOG_LEVEL_NONE\";\n    log_level_t[log_level_t[\"LOG_LEVEL_ERROR\"] = 1] = \"LOG_LEVEL_ERROR\";\n    log_level_t[log_level_t[\"LOG_LEVEL_WARNING\"] = 2] = \"LOG_LEVEL_WARNING\";\n    log_level_t[log_level_t[\"LOG_LEVEL_VERBOSE\"] = 3] = \"LOG_LEVEL_VERBOSE\";\n})(log_level_t || (log_level_t = {}));\n;\nexport var frame_pixel_format_t;\n(function (frame_pixel_format_t) {\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_I420\"] = 0] = \"FRAME_PIXEL_FORMAT_I420\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_I420A\"] = 1] = \"FRAME_PIXEL_FORMAT_I420A\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_I422\"] = 2] = \"FRAME_PIXEL_FORMAT_I422\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_I444\"] = 3] = \"FRAME_PIXEL_FORMAT_I444\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_NV12\"] = 4] = \"FRAME_PIXEL_FORMAT_NV12\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_RGBA\"] = 5] = \"FRAME_PIXEL_FORMAT_RGBA\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_BGRA\"] = 6] = \"FRAME_PIXEL_FORMAT_BGRA\";\n    frame_pixel_format_t[frame_pixel_format_t[\"FRAME_PIXEL_FORMAT_Y\"] = 7] = \"FRAME_PIXEL_FORMAT_Y\";\n})(frame_pixel_format_t || (frame_pixel_format_t = {}));\n;\nexport var image_target_type_t;\n(function (image_target_type_t) {\n    image_target_type_t[image_target_type_t[\"IMAGE_TRACKER_TYPE_PLANAR\"] = 0] = \"IMAGE_TRACKER_TYPE_PLANAR\";\n    image_target_type_t[image_target_type_t[\"IMAGE_TRACKER_TYPE_CYLINDRICAL\"] = 1] = \"IMAGE_TRACKER_TYPE_CYLINDRICAL\";\n    image_target_type_t[image_target_type_t[\"IMAGE_TRACKER_TYPE_CONICAL\"] = 2] = \"IMAGE_TRACKER_TYPE_CONICAL\";\n})(image_target_type_t || (image_target_type_t = {}));\n;\n", "export class MessageSerializer {\n    constructor(_messageSender) {\n        this._messageSender = _messageSender;\n        this._freeBufferPool = [];\n        this._buffer = new ArrayBuffer(16);\n        this._i32View = new Int32Array(this._buffer);\n        this._f32View = new Float32Array(this._buffer);\n        this._f64View = new Float64Array(this._buffer);\n        this._u8View = new Uint8Array(this._buffer);\n        this._u8cView = new Uint8ClampedArray(this._buffer);\n        this._u16View = new Uint16Array(this._buffer);\n        this._u32View = new Uint32Array(this._buffer);\n        this._offset = 1;\n        this._startOffset = -1;\n        this._timeoutSet = false;\n        this._appender = {\n            int: i => this.int(i),\n            bool: i => this.int(i ? 1 : 0),\n            float: i => this.float(i),\n            string: i => this.string(i),\n            dataWithLength: i => this.arrayBuffer(i),\n            type: i => this.int(i),\n            matrix4x4: i => this.float32ArrayBuffer(i),\n            matrix3x3: i => this.float32ArrayBuffer(i),\n            identityCoefficients: i => this.float32ArrayBuffer(i),\n            expressionCoefficients: i => this.float32ArrayBuffer(i),\n            cameraModel: i => this.float32ArrayBuffer(i),\n            timestamp: i => this.double(i),\n            barcodeFormat: i => this.int(i),\n            faceLandmarkName: i => this.int(i),\n            instantTrackerTransformOrientation: i => this.int(i),\n            logLevel: i => this.int(i),\n        };\n        this._freeBufferPool.push(new ArrayBuffer(16));\n        this._freeBufferPool.push(new ArrayBuffer(16));\n    }\n    bufferReturn(ab) {\n        this._freeBufferPool.push(ab);\n    }\n    // public copySerializedData(): ArrayBuffer {\n    //     let data = this._buffer.slice(0, this._offset * Int32Array.BYTES_PER_ELEMENT);\n    //     this._offset = 0;\n    //     this._startOffset = -1;\n    //     return data;\n    // }\n    _ensureArrayBuffer(incremental) {\n        let requirement = (this._offset + incremental + 8) * 4;\n        if (this._buffer && this._buffer.byteLength >= requirement)\n            return;\n        let newBuffer = undefined;\n        // for (let i = 0; i < this._freeBufferPool.length; i++) {\n        //     if (this._freeBufferPool[i].byteLength > requirement) {\n        //         newBuffer = this._freeBufferPool[i];\n        //         this._freeBufferPool.splice(i, 1);\n        //         break;\n        //     }\n        // }\n        if (!newBuffer) {\n            let nextPow2 = requirement;\n            nextPow2--;\n            nextPow2 |= nextPow2 >> 1;\n            nextPow2 |= nextPow2 >> 2;\n            nextPow2 |= nextPow2 >> 4;\n            nextPow2 |= nextPow2 >> 8;\n            nextPow2 |= nextPow2 >> 16;\n            nextPow2++;\n            newBuffer = new ArrayBuffer(nextPow2);\n        }\n        let oldView = this._buffer ? this._i32View : undefined;\n        this._buffer = newBuffer;\n        this._i32View = new Int32Array(this._buffer);\n        this._f32View = new Float32Array(this._buffer);\n        this._f64View = new Float64Array(this._buffer);\n        this._u8View = new Uint8Array(this._buffer);\n        this._u8cView = new Uint8ClampedArray(this._buffer);\n        this._u16View = new Uint16Array(this._buffer);\n        this._u32View = new Uint32Array(this._buffer);\n        if (oldView)\n            this._i32View.set(oldView.subarray(0, this._offset));\n        // this._offset = 1; // First int is whole length\n        // this._startOffset = -1;\n    }\n    sendMessage(messageId, cb) {\n        this._ensureArrayBuffer(4);\n        this._startOffset = this._offset;\n        this._i32View[this._offset + 1] = messageId;\n        this._offset += 2;\n        cb(this._appender);\n        this._i32View[this._startOffset] = this._offset - this._startOffset;\n        this._startOffset = -1;\n        this._sendOneTime();\n    }\n    _sendOneTime() {\n        if (this._timeoutSet === false) {\n            this._timeoutSet = true;\n            setTimeout(() => {\n                this._timeoutSet = false;\n                this._send();\n            }, 0);\n        }\n    }\n    _send() {\n        // Continue filling the current buffer unless have a new buffer to fill\n        if (this._freeBufferPool.length === 0) {\n            this._sendOneTime();\n            return;\n        }\n        this._i32View[0] = this._offset;\n        this._messageSender(this._buffer);\n        this._buffer = undefined;\n        this._buffer = this._freeBufferPool.pop();\n        this._i32View = new Int32Array(this._buffer);\n        this._f32View = new Float32Array(this._buffer);\n        this._f64View = new Float64Array(this._buffer);\n        this._u8View = new Uint8Array(this._buffer);\n        this._u8cView = new Uint8ClampedArray(this._buffer);\n        this._u16View = new Uint16Array(this._buffer);\n        this._u32View = new Uint32Array(this._buffer);\n        this._offset = 1;\n        this._startOffset = -1;\n    }\n    int(arg) {\n        this._ensureArrayBuffer(1);\n        this._i32View[this._offset] = arg;\n        this._offset++;\n    }\n    double(arg) {\n        this._ensureArrayBuffer(2);\n        if (this._offset % 2 === 1)\n            this._offset++;\n        this._f64View[this._offset / 2] = arg;\n        this._offset += 2;\n    }\n    float(arg) {\n        this._ensureArrayBuffer(1);\n        this._f32View[this._offset] = arg;\n        this._offset++;\n    }\n    int32Array(args) {\n        this._ensureArrayBuffer(args.length);\n        for (let i = 0; i < args.length; ++i) {\n            this._i32View[this._offset + i] = args[i];\n        }\n        this._offset += args.length;\n    }\n    float32Array(args) {\n        this._ensureArrayBuffer(args.length);\n        for (let i = 0; i < args.length; ++i) {\n            this._f32View[this._offset + i] = args[i];\n        }\n        this._offset += args.length;\n    }\n    booleanArray(args) {\n        this._ensureArrayBuffer(args.length);\n        for (let i = 0; i < args.length; ++i) {\n            this._i32View[this._offset + i] = args[i] ? 1 : 0;\n        }\n        this._offset += args.length;\n    }\n    uint8ArrayBuffer(data) {\n        this._ensureArrayBuffer(data.byteLength / 4);\n        this._i32View[this._offset] = data.byteLength;\n        this._offset++;\n        this._u8View.set(data, this._offset * 4);\n        // Update the int32 offset\n        this._offset += (data.byteLength >> 2);\n        if ((data.byteLength & 3) !== 0)\n            this._offset++;\n    }\n    arrayBuffer(data) {\n        let view = new Uint8Array(data);\n        this.uint8ArrayBuffer(view);\n    }\n    uint8ClampedArrayBuffer(data) {\n        this._ensureArrayBuffer(data.byteLength / 4);\n        this._i32View[this._offset] = data.byteLength;\n        this._offset++;\n        this._u8cView.set(data, this._offset * 4);\n        // Update the int32 offset\n        this._offset += (data.byteLength >> 2);\n        if ((data.byteLength & 3) !== 0)\n            this._offset++;\n    }\n    float32ArrayBuffer(data) {\n        this._ensureArrayBuffer(data.byteLength / 4);\n        this._i32View[this._offset] = data.length;\n        this._offset++;\n        this._f32View.set(data, this._offset);\n        this._offset += data.length;\n    }\n    uint16ArrayBuffer(data) {\n        this._ensureArrayBuffer(data.byteLength / 4);\n        this._i32View[this._offset] = data.length;\n        this._offset++;\n        let u16Offset = this._offset * 2;\n        this._u16View.set(data, u16Offset);\n        // Update the int32 offset\n        this._offset += (data.length >> 1);\n        if ((data.length & 1) !== 0)\n            this._offset++;\n    }\n    int32ArrayBuffer(data) {\n        this._ensureArrayBuffer(data.byteLength / 4);\n        this._i32View[this._offset] = data.length;\n        this._offset++;\n        this._i32View.set(data, this._offset);\n        this._offset += data.length;\n    }\n    uint32ArrayBuffer(data) {\n        this._ensureArrayBuffer(data.byteLength / 4);\n        this._i32View[this._offset] = data.length;\n        this._offset++;\n        this._u32View.set(data, this._offset);\n        this._offset += data.length;\n    }\n    string(data) {\n        let encoder = new TextEncoder();\n        let res = encoder.encode(data);\n        this._ensureArrayBuffer(res.byteLength / 4);\n        this._i32View[this._offset] = res.byteLength;\n        this._offset++;\n        this._u8View.set(res, this._offset * 4);\n        // Update the int32 offset\n        this._offset += (res.byteLength >> 2);\n        if ((res.byteLength & 3) !== 0)\n            this._offset++;\n    }\n}\n", "export class MessageDeserializer {\n    constructor() {\n        this._buffer = new ArrayBuffer(0);\n        this._i32View = new Int32Array(this._buffer);\n        this._f32View = new Float32Array(this._buffer);\n        this._f64View = new Float64Array(this._buffer);\n        this._u8View = new Uint8Array(this._buffer);\n        this._u16View = new Uint16Array(this._buffer);\n        this._u32View = new Uint32Array(this._buffer);\n        this._offset = 0;\n        this._length = 0;\n        this._startOffset = -1;\n        this._processor = {\n            int: () => this._i32View[this._startOffset++],\n            bool: () => (this._i32View[this._startOffset++] === 1),\n            type: () => this._i32View[this._startOffset++],\n            float: () => this._f32View[this._startOffset++],\n            timestamp: () => {\n                if (this._startOffset % 2 === 1)\n                    this._startOffset++;\n                let ret = this._f64View[this._startOffset / 2];\n                this._startOffset += 2;\n                return ret;\n            },\n            string: () => {\n                let len = this._i32View[this._startOffset++];\n                let decoder = new TextDecoder();\n                let res = decoder.decode(new Uint8Array(this._buffer, this._startOffset * 4, len));\n                this._startOffset += (len >> 2);\n                if ((len & 3) !== 0)\n                    this._startOffset++;\n                return res;\n            },\n            dataWithLength: () => {\n                let len = this._i32View[this._startOffset++];\n                let ret = new Uint8Array(len);\n                ret.set(this._u8View.subarray(this._startOffset * 4, this._startOffset * 4 + len));\n                this._startOffset += (ret.byteLength >> 2);\n                if ((ret.byteLength & 3) !== 0)\n                    this._startOffset++;\n                return ret.buffer;\n            },\n            matrix4x4: () => {\n                let len = this._i32View[this._startOffset++];\n                let ret = new Float32Array(len);\n                ret.set(this._f32View.subarray(this._startOffset, this._startOffset + 16));\n                this._startOffset += len;\n                return ret;\n            },\n            matrix3x3: () => {\n                let len = this._i32View[this._startOffset++];\n                let ret = new Float32Array(len);\n                ret.set(this._f32View.subarray(this._startOffset, this._startOffset + 9));\n                this._startOffset += len;\n                return ret;\n            },\n            identityCoefficients: () => {\n                let len = this._i32View[this._startOffset++];\n                let ret = new Float32Array(len);\n                ret.set(this._f32View.subarray(this._startOffset, this._startOffset + 50));\n                this._startOffset += len;\n                return ret;\n            },\n            expressionCoefficients: () => {\n                let len = this._i32View[this._startOffset++];\n                let ret = new Float32Array(len);\n                ret.set(this._f32View.subarray(this._startOffset, this._startOffset + 29));\n                this._startOffset += len;\n                return ret;\n            },\n            cameraModel: () => {\n                let len = this._i32View[this._startOffset++];\n                let ret = new Float32Array(len);\n                ret.set(this._f32View.subarray(this._startOffset, this._startOffset + 6));\n                this._startOffset += len;\n                return ret;\n            },\n            barcodeFormat: () => this._i32View[this._startOffset++],\n            faceLandmarkName: () => this._i32View[this._startOffset++],\n            instantTrackerTransformOrientation: () => this._i32View[this._startOffset++],\n            logLevel: () => this._i32View[this._startOffset++],\n        };\n    }\n    setData(data) {\n        this._buffer = data;\n        this._i32View = new Int32Array(this._buffer);\n        this._f32View = new Float32Array(this._buffer);\n        this._f64View = new Float64Array(this._buffer);\n        this._u8View = new Uint8Array(this._buffer);\n        this._u16View = new Uint16Array(this._buffer);\n        this._u32View = new Uint32Array(this._buffer);\n        this._offset = 0;\n        this._length = 0;\n        if (data.byteLength >= 4) {\n            this._offset = 1;\n            this._length = this._i32View[0];\n        }\n        this._startOffset = -1;\n    }\n    hasMessage() {\n        return this._offset + 1 < this._length;\n    }\n    forMessages(cb) {\n        while (this.hasMessage()) {\n            let len = this._i32View[this._offset];\n            let messageId = this._i32View[this._offset + 1];\n            this._startOffset = this._offset + 2;\n            this._offset += len;\n            cb(messageId, this._processor);\n        }\n    }\n}\n", "import { MessageSerializer } from \"../serializer\";\nimport { MessageDeserializer } from \"../deserializer\";\nexport class zappar_client {\n    constructor(_messageSender) {\n        this._messageSender = _messageSender;\n        this._globalState = {\n            log_level: 1,\n        };\n        this.serializer = new MessageSerializer(ab => {\n            this._messageSender(ab);\n        });\n        this.deserializer = new MessageDeserializer();\n        this._latestId = 1;\n        this._pipeline_state_by_instance = new Map();\n        this._camera_source_state_by_instance = new Map();\n        this._sequence_source_state_by_instance = new Map();\n        this._image_tracker_state_by_instance = new Map();\n        this._face_tracker_state_by_instance = new Map();\n        this._face_mesh_state_by_instance = new Map();\n        this._face_landmark_state_by_instance = new Map();\n        this._barcode_finder_state_by_instance = new Map();\n        this._instant_world_tracker_state_by_instance = new Map();\n        this.impl = {\n            log_level: () => {\n                return this._globalState.log_level;\n            },\n            log_level_set: (level) => {\n                this.serializer.sendMessage(34, m => {\n                    m.logLevel(level);\n                });\n            },\n            analytics_project_id_set: (id, uid) => {\n                this.serializer.sendMessage(31, m => {\n                    m.string(id);\n                    m.string(uid);\n                });\n            },\n            // ####Â pipelineÂ ####\n            pipeline_create: () => {\n                let newId = (this._latestId++);\n                let s = {\n                    current_frame_user_data: 0,\n                    camera_model: new Float32Array([300, 300, 160, 120, 0, 0]),\n                    camera_pose: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\n                    camera_frame_camera_attitude: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\n                    camera_frame_device_attitude: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\n                    frame_number: 0,\n                };\n                this._pipeline_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(27, m => {\n                    m.type(newId);\n                });\n                return newId;\n            },\n            pipeline_destroy: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._pipeline_state_by_instance.delete(o);\n                this.serializer.sendMessage(28, m => {\n                    m.type(o);\n                });\n            },\n            pipeline_frame_update: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(9, m => {\n                    m.type(o);\n                });\n            },\n            pipeline_frame_number: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.frame_number;\n            },\n            pipeline_camera_model: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.camera_model;\n            },\n            pipeline_camera_frame_user_data: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.current_frame_user_data;\n            },\n            pipeline_camera_frame_submit: (o, data, width, height, user_data, camera_to_device_transform, camera_model, user_facing) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(8, m => {\n                    m.type(o);\n                    m.dataWithLength(data);\n                    m.int(width);\n                    m.int(height);\n                    m.int(user_data);\n                    m.matrix4x4(camera_to_device_transform);\n                    m.cameraModel(camera_model);\n                    m.bool(user_facing);\n                });\n            },\n            pipeline_camera_frame_submit_raw_pointer: (o, data, dataLength, format, width, height, user_data, camera_to_device_transform, rotation, camera_model, user_facing) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n            },\n            pipeline_camera_frame_camera_attitude: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.camera_frame_camera_attitude;\n            },\n            pipeline_camera_frame_device_attitude: (o) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.camera_frame_device_attitude;\n            },\n            pipeline_motion_accelerometer_submit: (o, time, x, y, z) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(10, m => {\n                    m.type(o);\n                    m.timestamp(time);\n                    m.float(x);\n                    m.float(y);\n                    m.float(z);\n                });\n            },\n            pipeline_motion_rotation_rate_submit: (o, time, x, y, z) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(11, m => {\n                    m.type(o);\n                    m.timestamp(time);\n                    m.float(x);\n                    m.float(y);\n                    m.float(z);\n                });\n            },\n            pipeline_motion_attitude_submit: (o, time, x, y, z) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(12, m => {\n                    m.type(o);\n                    m.timestamp(time);\n                    m.float(x);\n                    m.float(y);\n                    m.float(z);\n                });\n            },\n            pipeline_motion_attitude_matrix_submit: (o, mat) => {\n                let s = this._pipeline_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(13, m => {\n                    m.type(o);\n                    m.matrix4x4(mat);\n                });\n            },\n            // ####Â camera_sourceÂ ####\n            camera_source_create: (pipeline, device_id) => {\n                let newId = (this._latestId++);\n                let s = {};\n                this._camera_source_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(29, m => {\n                    m.type(newId);\n                    m.type(pipeline);\n                    m.string(device_id);\n                });\n                return newId;\n            },\n            camera_source_destroy: (o) => {\n                let s = this._camera_source_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._camera_source_state_by_instance.delete(o);\n                this.serializer.sendMessage(30, m => {\n                    m.type(o);\n                });\n            },\n            // ####Â sequence_sourceÂ ####\n            sequence_source_create: (pipeline) => {\n                let newId = (this._latestId++);\n                let s = {};\n                this._sequence_source_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(35, m => {\n                    m.type(newId);\n                    m.type(pipeline);\n                });\n                return newId;\n            },\n            sequence_source_destroy: (o) => {\n                let s = this._sequence_source_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._sequence_source_state_by_instance.delete(o);\n                this.serializer.sendMessage(36, m => {\n                    m.type(o);\n                });\n            },\n            // ####Â image_trackerÂ ####\n            image_tracker_create: (pipeline) => {\n                let newId = (this._latestId++);\n                let s = {\n                    enabled: true,\n                    target_loaded_version: -1,\n                    anchor_count: 0,\n                    anchor_id: [],\n                    anchor_pose: [],\n                };\n                this._image_tracker_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(2, m => {\n                    m.type(newId);\n                    m.type(pipeline);\n                });\n                return newId;\n            },\n            image_tracker_destroy: (o) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._image_tracker_state_by_instance.delete(o);\n                this.serializer.sendMessage(14, m => {\n                    m.type(o);\n                });\n            },\n            image_tracker_target_load_from_memory: (o, data) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(4, m => {\n                    m.type(o);\n                    m.dataWithLength(data);\n                });\n            },\n            image_tracker_target_loaded_version: (o) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.target_loaded_version;\n            },\n            image_tracker_enabled: (o) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.enabled;\n            },\n            image_tracker_enabled_set: (o, enabled) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(3, m => {\n                    m.type(o);\n                    m.bool(enabled);\n                });\n            },\n            image_tracker_anchor_count: (o) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_count;\n            },\n            image_tracker_anchor_id: (o, indx) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_id[indx];\n            },\n            image_tracker_anchor_pose_raw: (o, indx) => {\n                let s = this._image_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_pose[indx];\n            },\n            // ####Â face_trackerÂ ####\n            face_tracker_create: (pipeline) => {\n                let newId = (this._latestId++);\n                let s = {\n                    enabled: true,\n                    model_loaded: -1,\n                    max_faces: 1,\n                    anchor_count: 0,\n                    anchor_id: [],\n                    anchor_pose: [],\n                    anchor_identity_coefficients: [],\n                    anchor_expression_coefficients: [],\n                };\n                this._face_tracker_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(20, m => {\n                    m.type(newId);\n                    m.type(pipeline);\n                });\n                return newId;\n            },\n            face_tracker_destroy: (o) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._face_tracker_state_by_instance.delete(o);\n                this.serializer.sendMessage(21, m => {\n                    m.type(o);\n                });\n            },\n            face_tracker_model_load_from_memory: (o, data) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(22, m => {\n                    m.type(o);\n                    m.dataWithLength(data);\n                });\n            },\n            face_tracker_model_loaded_version: (o) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.model_loaded;\n            },\n            face_tracker_enabled_set: (o, enabled) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(23, m => {\n                    m.type(o);\n                    m.bool(enabled);\n                });\n            },\n            face_tracker_enabled: (o) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.enabled;\n            },\n            face_tracker_max_faces_set: (o, num) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(24, m => {\n                    m.type(o);\n                    m.int(num);\n                });\n            },\n            face_tracker_max_faces: (o) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.max_faces;\n            },\n            face_tracker_anchor_count: (o) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_count;\n            },\n            face_tracker_anchor_id: (o, indx) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_id[indx];\n            },\n            face_tracker_anchor_pose_raw: (o, indx) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_pose[indx];\n            },\n            face_tracker_anchor_identity_coefficients: (o, indx) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_identity_coefficients[indx];\n            },\n            face_tracker_anchor_expression_coefficients: (o, indx) => {\n                let s = this._face_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.anchor_expression_coefficients[indx];\n            },\n            // ####Â face_meshÂ ####\n            face_mesh_create: () => {\n                let newId = (this._latestId++);\n                let s = {};\n                this._face_mesh_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(25, m => {\n                    m.type(newId);\n                });\n                return newId;\n            },\n            face_mesh_destroy: (o) => {\n                let s = this._face_mesh_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._face_mesh_state_by_instance.delete(o);\n                this.serializer.sendMessage(26, m => {\n                    m.type(o);\n                });\n            },\n            // ####Â face_landmarkÂ ####\n            face_landmark_create: (landmark) => {\n                let newId = (this._latestId++);\n                let s = {};\n                this._face_landmark_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(32, m => {\n                    m.type(newId);\n                    m.faceLandmarkName(landmark);\n                });\n                return newId;\n            },\n            face_landmark_destroy: (o) => {\n                let s = this._face_landmark_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._face_landmark_state_by_instance.delete(o);\n                this.serializer.sendMessage(33, m => {\n                    m.type(o);\n                });\n            },\n            // ####Â barcode_finderÂ ####\n            barcode_finder_create: (pipeline) => {\n                let newId = (this._latestId++);\n                let s = {\n                    enabled: true,\n                    number_found: 0,\n                    found_text: [],\n                    found_format: [],\n                    formats: (1 << 17) - 1,\n                };\n                this._barcode_finder_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(16, m => {\n                    m.type(newId);\n                    m.type(pipeline);\n                });\n                return newId;\n            },\n            barcode_finder_destroy: (o) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._barcode_finder_state_by_instance.delete(o);\n                this.serializer.sendMessage(17, m => {\n                    m.type(o);\n                });\n            },\n            barcode_finder_enabled_set: (o, enabled) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(18, m => {\n                    m.type(o);\n                    m.bool(enabled);\n                });\n            },\n            barcode_finder_enabled: (o) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.enabled;\n            },\n            barcode_finder_found_number: (o) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.number_found;\n            },\n            barcode_finder_found_text: (o, indx) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.found_text[indx];\n            },\n            barcode_finder_found_format: (o, indx) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.found_format[indx];\n            },\n            barcode_finder_formats: (o) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.formats;\n            },\n            barcode_finder_formats_set: (o, f) => {\n                let s = this._barcode_finder_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(19, m => {\n                    m.type(o);\n                    m.barcodeFormat(f);\n                });\n            },\n            // ####Â instant_world_trackerÂ ####\n            instant_world_tracker_create: (pipeline) => {\n                let newId = (this._latestId++);\n                let s = {\n                    enabled: true,\n                    pose: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\n                };\n                this._instant_world_tracker_state_by_instance.set(newId, s);\n                this.serializer.sendMessage(5, m => {\n                    m.type(newId);\n                    m.type(pipeline);\n                });\n                return newId;\n            },\n            instant_world_tracker_destroy: (o) => {\n                let s = this._instant_world_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this._instant_world_tracker_state_by_instance.delete(o);\n                this.serializer.sendMessage(15, m => {\n                    m.type(o);\n                });\n            },\n            instant_world_tracker_enabled_set: (o, enabled) => {\n                let s = this._instant_world_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(6, m => {\n                    m.type(o);\n                    m.bool(enabled);\n                });\n            },\n            instant_world_tracker_enabled: (o) => {\n                let s = this._instant_world_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.enabled;\n            },\n            instant_world_tracker_anchor_pose_raw: (o) => {\n                let s = this._instant_world_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                return s.pose;\n            },\n            instant_world_tracker_anchor_pose_set_from_camera_offset_raw: (o, x, y, z, orientation) => {\n                let s = this._instant_world_tracker_state_by_instance.get(o);\n                if (!s)\n                    throw new Error(\"This object has been destroyed\");\n                this.serializer.sendMessage(7, m => {\n                    m.type(o);\n                    m.float(x);\n                    m.float(y);\n                    m.float(z);\n                    m.instantTrackerTransformOrientation(orientation);\n                });\n            },\n        };\n    }\n    processMessages(a) {\n        this.deserializer.setData(a);\n        this.deserializer.forMessages((messageId, msg) => {\n            switch (messageId) {\n                case 7: {\n                    let handle = msg.type();\n                    let inst = this._pipeline_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.frame_number = msg.int();\n                    break;\n                }\n                case 6: {\n                    let handle = msg.type();\n                    let inst = this._pipeline_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.camera_model = msg.cameraModel();\n                    break;\n                }\n                case 5: {\n                    let handle = msg.type();\n                    let inst = this._pipeline_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.current_frame_user_data = msg.int();\n                    break;\n                }\n                case 11: {\n                    let handle = msg.type();\n                    let inst = this._pipeline_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.camera_frame_camera_attitude = msg.matrix4x4();\n                    break;\n                }\n                case 12: {\n                    let handle = msg.type();\n                    let inst = this._pipeline_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.camera_frame_device_attitude = msg.matrix4x4();\n                    break;\n                }\n                case 19: {\n                    let handle = msg.type();\n                    let inst = this._image_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.target_loaded_version = msg.int();\n                    break;\n                }\n                case 1: {\n                    let handle = msg.type();\n                    let inst = this._image_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.anchor_count = msg.int();\n                    break;\n                }\n                case 2: {\n                    let handle = msg.type();\n                    let inst = this._image_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.anchor_id[indx] = msg.string();\n                    break;\n                }\n                case 3: {\n                    let handle = msg.type();\n                    let inst = this._image_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.anchor_pose[indx] = msg.matrix4x4();\n                    break;\n                }\n                case 18: {\n                    let handle = msg.type();\n                    let inst = this._face_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.model_loaded = msg.int();\n                    break;\n                }\n                case 13: {\n                    let handle = msg.type();\n                    let inst = this._face_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.anchor_count = msg.int();\n                    break;\n                }\n                case 14: {\n                    let handle = msg.type();\n                    let inst = this._face_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.anchor_id[indx] = msg.string();\n                    break;\n                }\n                case 15: {\n                    let handle = msg.type();\n                    let inst = this._face_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.anchor_pose[indx] = msg.matrix4x4();\n                    break;\n                }\n                case 16: {\n                    let handle = msg.type();\n                    let inst = this._face_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.anchor_identity_coefficients[indx] = msg.identityCoefficients();\n                    break;\n                }\n                case 17: {\n                    let handle = msg.type();\n                    let inst = this._face_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.anchor_expression_coefficients[indx] = msg.expressionCoefficients();\n                    break;\n                }\n                case 8: {\n                    let handle = msg.type();\n                    let inst = this._barcode_finder_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.number_found = msg.int();\n                    break;\n                }\n                case 9: {\n                    let handle = msg.type();\n                    let inst = this._barcode_finder_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.found_text[indx] = msg.string();\n                    break;\n                }\n                case 10: {\n                    let handle = msg.type();\n                    let inst = this._barcode_finder_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    let indx = msg.int();\n                    inst.found_format[indx] = msg.barcodeFormat();\n                    break;\n                }\n                case 4: {\n                    let handle = msg.type();\n                    let inst = this._instant_world_tracker_state_by_instance.get(handle);\n                    if (!inst)\n                        return;\n                    inst.pose = msg.matrix4x4();\n                    break;\n                }\n            }\n        });\n    }\n}\n", "export function compileShader(gl, type, src) {\n    let ret = gl.createShader(type);\n    if (!ret)\n        throw new Error(\"Unable to create shader\");\n    gl.shaderSource(ret, src);\n    gl.compileShader(ret);\n    let msg = gl.getShaderInfoLog(ret);\n    if (msg && msg.trim().length > 0)\n        throw new Error(\"Shader compile error: \" + msg);\n    return ret;\n}\nexport function linkProgram(gl, prog) {\n    gl.linkProgram(prog);\n    let msg = gl.getProgramInfoLog(prog);\n    if (msg && msg.trim().length > 0)\n        throw new Error(\"Unable to link: \" + msg);\n}\n", "import { compileShader, linkProgram } from \"./shader\";\nlet shader;\nlet vbo;\nlet uvbo;\nlet texturesByUrl = {};\nexport function disposeDrawPlane() {\n    shader = undefined;\n    vbo = undefined;\n    uvbo = undefined;\n    texturesByUrl = {};\n}\nfunction generate(gl) {\n    if (vbo)\n        return vbo;\n    vbo = gl.createBuffer();\n    if (!vbo)\n        throw new Error(\"Unable to create buffer object\");\n    let coords = [\n        -0.5, 0.125, 0,\n        -0.5, -0.125, 0,\n        0.5, 0.125, 0,\n        0.5, -0.125, 0\n    ];\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(coords), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    return vbo;\n}\nfunction generateUVBO(gl) {\n    if (uvbo)\n        return uvbo;\n    uvbo = gl.createBuffer();\n    if (!uvbo)\n        throw new Error(\"Unable to create buffer object\");\n    let coords = [\n        0, 1,\n        0, 0,\n        1, 1,\n        1, 0\n    ];\n    gl.bindBuffer(gl.ARRAY_BUFFER, uvbo);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(coords), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    return uvbo;\n}\nexport function drawPlane(gl, projectionMatrix, cameraMatrix, targetMatrix, textureUrl) {\n    let shader = getShader(gl);\n    let v = generate(gl);\n    let uvbo = generateUVBO(gl);\n    gl.disable(gl.DEPTH_TEST);\n    gl.useProgram(shader.prog);\n    gl.uniformMatrix4fv(shader.unif_proj, false, projectionMatrix);\n    gl.uniformMatrix4fv(shader.unif_camera, false, cameraMatrix);\n    gl.uniformMatrix4fv(shader.unif_matrix, false, targetMatrix);\n    gl.bindBuffer(gl.ARRAY_BUFFER, v);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, loadTexture(gl, textureUrl));\n    gl.uniform1i(shader.unif_skinSampler, 0);\n    gl.vertexAttribPointer(shader.attr_position, 3, gl.FLOAT, false, 3 * 4, 0);\n    gl.enableVertexAttribArray(shader.attr_position);\n    gl.bindBuffer(gl.ARRAY_BUFFER, uvbo);\n    gl.vertexAttribPointer(shader.attr_textureCoord, 2, gl.FLOAT, false, 2 * 4, 0);\n    gl.enableVertexAttribArray(shader.attr_textureCoord);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    gl.disableVertexAttribArray(shader.attr_position);\n    gl.disableVertexAttribArray(shader.attr_textureCoord);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n}\nfunction generateLocalMatrix() {\n    let position = [0, 0, -5];\n    return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, position[0], position[1], position[2], 1]);\n}\nlet vertexShaderSrc = `\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 projMatrix;\nuniform mat4 cameraMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec4 position;\nattribute vec2 textureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main()\n{\n    gl_Position = projMatrix * cameraMatrix * modelViewMatrix * position;\n    vTextureCoord = textureCoord;\n}`;\nlet fragmentShaderSrc = `\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nuniform sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2D(skinSampler, vTextureCoord);\n}`;\nfunction getShader(gl) {\n    if (shader)\n        return shader;\n    let prog = gl.createProgram();\n    if (!prog)\n        throw new Error(\"Unable to create program\");\n    let vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSrc);\n    let fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSrc);\n    gl.attachShader(prog, vertexShader);\n    gl.attachShader(prog, fragmentShader);\n    linkProgram(gl, prog);\n    let unif_proj = gl.getUniformLocation(prog, \"projMatrix\");\n    if (!unif_proj)\n        throw new Error(\"Unable to get uniform location projMatrix\");\n    let unif_matrix = gl.getUniformLocation(prog, \"modelViewMatrix\");\n    if (!unif_matrix)\n        throw new Error(\"Unable to get uniform location modelViewMatrix\");\n    let unif_camera = gl.getUniformLocation(prog, \"cameraMatrix\");\n    if (!unif_camera)\n        throw new Error(\"Unable to get uniform location cameraMatrix\");\n    let unif_skinSampler = gl.getUniformLocation(prog, \"skinSampler\");\n    if (!unif_skinSampler)\n        throw new Error(\"Unable to get uniform location skinSampler\");\n    shader = {\n        prog,\n        unif_matrix,\n        unif_proj,\n        unif_camera,\n        unif_skinSampler,\n        attr_position: gl.getAttribLocation(prog, \"position\"),\n        attr_textureCoord: gl.getAttribLocation(prog, \"textureCoord\")\n    };\n    return shader;\n}\nfunction loadTexture(gl, url) {\n    if (texturesByUrl[url])\n        return texturesByUrl[url];\n    let texture = gl.createTexture();\n    if (!texture)\n        throw new Error(\"Unable to create texture\");\n    texturesByUrl[url] = texture;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    // Because images have to be download over the internet\n    // they might take a moment until they are ready.\n    // Until then put a single pixel in the texture so we can\n    // use it immediately. When the image has finished downloading\n    // we'll update the texture with the contents of the image.\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([0, 0, 255, 255]); // opaque blue\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, pixel);\n    const image = new Image();\n    image.onload = function () {\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n        gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, image);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    };\n    image.src = url;\n    return texture;\n}\n", "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();", "import * as UAParser from \"ua-parser-js\";\nexport var EmbeddedVideoImplementation;\n(function (EmbeddedVideoImplementation) {\n    EmbeddedVideoImplementation[EmbeddedVideoImplementation[\"OBJECT_URL\"] = 0] = \"OBJECT_URL\";\n    EmbeddedVideoImplementation[EmbeddedVideoImplementation[\"SRC_OBJECT\"] = 1] = \"SRC_OBJECT\";\n})(EmbeddedVideoImplementation || (EmbeddedVideoImplementation = {}));\nexport let profile = {\n    deviceMotionMutliplier: -1.0,\n    blacklisted: false,\n    showGyroPermissionsWarningIfNecessary: false,\n    showSafariPermissionsResetIfNecessary: false,\n    requestHighFrameRate: false,\n    videoWidth: 640,\n    videoHeight: 480,\n    dataWidth: 320,\n    dataHeight: 240,\n    videoElementInDOM: false,\n    preferMediaStreamTrackProcessorCamera: false,\n    preferImageBitmapCamera: false,\n    ios164CameraSelection: false,\n    relyOnConstraintsForCameraSelection: false,\n    forceWindowOrientation: false,\n};\nif (typeof window !== \"undefined\") {\n    window[\"zeeProfile\"] = profile;\n    if (window.location.href.indexOf(\"_mstppipeline\") >= 0) {\n        console.log(\"Configuring for MSTP camera pipeline (if supported)\");\n        profile.preferMediaStreamTrackProcessorCamera = true;\n    }\n    if (window.location.href.indexOf(\"_imagebitmappipeline\") >= 0) {\n        console.log(\"Configuring for ImageBitmap camera pipeline (if supported)\");\n        profile.preferImageBitmapCamera = true;\n    }\n}\nlet agent = new UAParser.UAParser();\nlet os = (agent.getOS().name || \"unknown\").toLowerCase();\nlet engine = (agent.getEngine().name || \"unknown\").toLowerCase();\nif (engine === \"webkit\" && os !== \"ios\") {\n    profile.deviceMotionMutliplier = 1.0;\n    if (typeof window !== \"undefined\" && window.orientation !== undefined) {\n        // iPad\n        iDevice(\"15.0\");\n    }\n}\nif (engine === \"webkit\" && os === \"ios\") {\n    profile.deviceMotionMutliplier = 1.0;\n    const version = agent.getOS().version || \"15.0\";\n    iDevice(version);\n}\nfunction iDevice(version) {\n    profile.forceWindowOrientation = true;\n    let versionParts = version.split(\".\");\n    if (versionParts.length >= 2) {\n        const majorVersion = parseInt(versionParts[0]);\n        const minorVersion = parseInt(versionParts[1]);\n        if (majorVersion < 11 ||\n            (majorVersion === 11 && minorVersion < 3)) {\n            profile.blacklisted = true;\n        }\n        if (majorVersion < 12 ||\n            (majorVersion === 12 && minorVersion < 2)) {\n            profile.videoElementInDOM = true;\n        }\n        if ((majorVersion === 12 && minorVersion >= 2) || (majorVersion >= 13))\n            profile.showGyroPermissionsWarningIfNecessary = true;\n        if (majorVersion >= 13) {\n            profile.showSafariPermissionsResetIfNecessary = true;\n        }\n        if (((majorVersion >= 12 && minorVersion > 1) || (majorVersion >= 13)) &&\n            navigator.mediaDevices &&\n            navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().frameRate) {\n            profile.requestHighFrameRate = true;\n            if (majorVersion < 14) {\n                // Avoid bug where iOS letterboxes 16:9 into 4:3 for high fps\n                // Doesn't seem needed with newer versions of iOS, tested on 14.8.1 and 15.2\n                profile.videoHeight = 360;\n                profile.dataHeight = 180;\n            }\n        }\n        if (majorVersion === 16 && minorVersion >= 4) {\n            profile.ios164CameraSelection = true;\n        }\n        if (majorVersion >= 17) {\n            profile.relyOnConstraintsForCameraSelection = true;\n        }\n    }\n}\n", "import { mat4, vec3 } from \"gl-matrix\";\nimport { profile } from \"./profile\";\nexport function projectionMatrix(params, screenWidth, screenHeight, near = 0.01, far = 100.0) {\n    let cam_x = params[2] * 2;\n    let cam_y = params[3] * 2;\n    let projection = mat4.create();\n    mat4.frustum(projection, near * (-0.5 - params[2]) / params[0], near * (cam_x - 0.5 - params[2]) / params[0], near * (cam_y - 0.5 - params[3]) / params[1], near * (-0.5 - params[3]) / params[1], near, far);\n    // Flip camera y axis (before any other transformations) - converts from\n    // the y axis downwards of the  tracking camera models to the y axis upwards\n    // of rendering coordinate systems\n    projection[4] *= -1.0;\n    projection[5] *= -1.0;\n    projection[6] *= -1.0;\n    projection[7] *= -1.0;\n    let mult = mat4.create();\n    mat4.fromScaling(mult, [0.5 * cam_x, 0.5 * cam_y, 1]);\n    mat4.multiply(projection, mult, projection);\n    // If it's user facing or not doesn't matter here as long as we apply the same-but-opposite\n    // rotation at the end of the function\n    mat4.fromRotation(mult, cameraRotationForScreenOrientation(false) * Math.PI / 180.0, [0, 0, 1]);\n    mat4.multiply(projection, mult, projection);\n    let vec = vec3.create();\n    vec[0] = cam_x;\n    vec[1] = cam_y;\n    vec[2] = 0;\n    vec3.transformMat4(vec, vec, mult);\n    let absWidth = Math.abs(vec[0]);\n    let absHeight = Math.abs(vec[1]);\n    let scaleFactor = 1;\n    if (absWidth / screenWidth > absHeight / screenHeight) {\n        scaleFactor = screenHeight / absHeight;\n    }\n    else {\n        scaleFactor = screenWidth / absWidth;\n    }\n    mat4.fromScaling(mult, [scaleFactor, scaleFactor, 1]);\n    mat4.multiply(projection, mult, projection);\n    mat4.fromScaling(mult, [2 / screenWidth, 2 / screenHeight, 1]);\n    mat4.multiply(projection, mult, projection);\n    mat4.fromRotation(mult, cameraRotationForScreenOrientation(false) * Math.PI / -180.0, [0, 0, 1]);\n    mat4.multiply(projection, projection, mult);\n    return projection;\n}\nexport function cameraRotationForScreenOrientation(isUserFacing) {\n    if (window.screen.orientation && !profile.forceWindowOrientation) {\n        switch (window.screen.orientation.type) {\n            case \"portrait-primary\":\n                return isUserFacing ? 90 : 270;\n            case \"landscape-secondary\":\n                return 180;\n            case \"portrait-secondary\":\n                return isUserFacing ? 270 : 90;\n            default:\n                return 0;\n        }\n    }\n    else if (window.orientation !== undefined) {\n        switch (window.orientation) {\n            case 0: return isUserFacing ? 90 : 270;\n            case 90: return 0;\n            case 180: return isUserFacing ? 270 : 90;\n            case -90: return 180;\n        }\n    }\n    return 0;\n}\n", "export class Event {\n    constructor() {\n        this._funcs = [];\n    }\n    bind(f) {\n        this._funcs.push(f);\n    }\n    unbind(f) {\n        let indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    emit() {\n        for (var i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i]();\n        }\n    }\n}\nexport class Event1 {\n    constructor() {\n        this._funcs = [];\n    }\n    bind(f) {\n        this._funcs.push(f);\n    }\n    unbind(f) {\n        let indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    emit(a) {\n        for (var i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i](a);\n        }\n    }\n}\nexport class Event2 {\n    constructor() {\n        this._funcs = [];\n    }\n    bind(f) {\n        this._funcs.push(f);\n    }\n    unbind(f) {\n        let indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    emit(a, b) {\n        for (var i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i](a, b);\n        }\n    }\n}\nexport class Event3 {\n    constructor() {\n        this._funcs = [];\n    }\n    bind(f) {\n        this._funcs.push(f);\n    }\n    unbind(f) {\n        let indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    emit(a, b, c) {\n        for (var i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i](a, b, c);\n        }\n    }\n}\nexport class Event5 {\n    constructor() {\n        this._funcs = [];\n    }\n    bind(f) {\n        this._funcs.push(f);\n    }\n    unbind(f) {\n        let indx = this._funcs.indexOf(f);\n        if (indx > -1) {\n            this._funcs.splice(indx, 1);\n        }\n    }\n    emit(a, b, c, d, e) {\n        for (var i = 0, total = this._funcs.length; i < total; i++) {\n            this._funcs[i](a, b, c, d, e);\n        }\n    }\n}\n", "import { Event, Event1 } from \"./event\";\nexport class MsgManager {\n    constructor() {\n        this.onOutgoingMessage = new Event();\n        this.onIncomingMessage = new Event1();\n        this._outgoingMessages = [];\n    }\n    postIncomingMessage(msg) {\n        this.onIncomingMessage.emit(msg);\n    }\n    postOutgoingMessage(msg, trans) {\n        this._outgoingMessages.push({\n            msg: msg,\n            transferables: trans\n        });\n        this.onOutgoingMessage.emit();\n    }\n    getOutgoingMessages() {\n        let ret = this._outgoingMessages;\n        this._outgoingMessages = [];\n        return ret;\n    }\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { MsgManager } from \"./messages\";\nexport let messageManager = new MsgManager();\nexport function launchWorker(worker) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!worker)\n            worker = new Worker(new URL(\"./worker\", import.meta.url), { type: 'module' });\n        worker.postMessage({\n            t: \"wasm\",\n            url: new URL(\"./zappar-cv.wasm\", import.meta.url).toString()\n        });\n        yield waitForLoad(worker);\n        function sendOutgoing() {\n            let msgs = messageManager.getOutgoingMessages();\n            for (let msg of msgs) {\n                worker.postMessage(msg.msg, msg.transferables);\n            }\n        }\n        messageManager.onOutgoingMessage.bind(sendOutgoing);\n        sendOutgoing();\n        worker.addEventListener(\"message\", evt => {\n            messageManager.postIncomingMessage(evt.data);\n        });\n    });\n}\nfunction waitForLoad(w) {\n    return new Promise(resolve => {\n        let listener = (msg) => {\n            if (msg.data === \"loaded\") {\n                w.removeEventListener(\"message\", listener);\n                resolve();\n            }\n        };\n        w.addEventListener(\"message\", listener);\n    });\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { UAParser } from \"ua-parser-js\";\nimport { STRINGS, tr } from \"./tr\";\nlet parser = new UAParser();\nlet _permissionGrantedCamera = false;\nlet _permissionGrantedMotion = false;\nlet _permissionDeniedCamera = false;\nlet _permissionDeniedMotion = false;\nif (!window.DeviceOrientationEvent || !window.DeviceOrientationEvent.requestPermission) {\n    _permissionGrantedMotion = true;\n}\nfunction checkForCameraPermission() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (navigator.permissions && navigator.permissions.query) {\n            try {\n                let res = yield navigator.permissions.query({ name: \"camera\" });\n                _permissionDeniedCamera = res.state === 'denied';\n                _permissionGrantedCamera = res.state === 'granted';\n            }\n            catch (ex) { }\n        }\n    });\n}\ncheckForCameraPermission();\nexport function permissionGrantedCamera() { return _permissionGrantedCamera; }\nexport function permissionGrantedMotion() { return _permissionGrantedMotion; }\nexport function permissionDeniedCamera() { return _permissionDeniedCamera; }\nexport function permissionDeniedMotion() { return _permissionDeniedMotion; }\nexport function permissionDeniedAny() { return _permissionDeniedCamera || _permissionDeniedMotion; }\nexport function permissionGrantedAll() { return _permissionGrantedCamera && _permissionGrantedMotion; }\nexport function permissionRequestAll() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield permissionRequestMotion();\n        yield permissionRequestCamera();\n    });\n}\nexport function permissionRequestCamera() {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            let res = yield navigator.mediaDevices.getUserMedia({\n                video: true\n            });\n            let tracks = res.getTracks();\n            tracks.forEach(t => t.stop());\n            _permissionGrantedCamera = true;\n            _permissionDeniedCamera = false;\n        }\n        catch (err) {\n            _permissionGrantedCamera = false;\n            _permissionDeniedCamera = true;\n        }\n    });\n}\nexport function permissionRequestMotion() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (window.DeviceOrientationEvent && window.DeviceOrientationEvent.requestPermission) {\n            let permissionResult = yield window.DeviceOrientationEvent.requestPermission();\n            if (permissionResult !== 'granted') {\n                _permissionGrantedMotion = false;\n                _permissionDeniedMotion = true;\n                return false;\n            }\n        }\n        // No motion permissions or granted\n        _permissionGrantedMotion = true;\n        _permissionDeniedMotion = false;\n    });\n}\nexport function permissionRequestUI() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield checkForCameraPermission();\n        if (permissionGrantedAll()) {\n            return true;\n        }\n        let div = document.createElement(\"div\");\n        div.classList.add(\"zappar-permission-request\");\n        div.innerHTML = `\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class=\"zappar-inner\">\n        <div class=\"zappar-title\">${tr(STRINGS.PermissionTitle)}</div>\n        <div class=\"zappar-text\">${tr(STRINGS.PermissionDescription)}</div>\n        <button id=\"zappar-permission-request-button\">${tr(STRINGS.PermissionButton)}</button>\n    </div>\n`;\n        document.body.append(div);\n        let button = div.querySelector(\"#zappar-permission-request-button\");\n        return yield new Promise(resolve => {\n            button === null || button === void 0 ? void 0 : button.addEventListener(\"click\", () => __awaiter(this, void 0, void 0, function* () {\n                yield permissionRequestAll();\n                div.remove();\n                while (true) {\n                    yield nextFrame();\n                    if (permissionDeniedAny()) {\n                        resolve(false);\n                        return;\n                    }\n                    if (permissionGrantedAll()) {\n                        resolve(true);\n                        return;\n                    }\n                }\n            }));\n        });\n    });\n}\nfunction nextFrame() {\n    return new Promise(resolve => requestAnimationFrame(() => resolve()));\n}\nexport function permissionDeniedUI() {\n    switch (parser.getBrowser().name) {\n        case \"Chrome\":\n            permissionDeniedUIChrome();\n            break;\n        default:\n            permissionDeniedUIIOS();\n            break;\n    }\n}\nfunction permissionDeniedUIIOS() {\n    let div = document.createElement(\"div\");\n    div.classList.add(\"zappar-permission-request\");\n    div.innerHTML = `\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class=\"zappar-inner\">\n        <div class=\"zappar-title\">Permission is Needed</div>\n        <div class=\"zappar-text\">Permission to access your device's camera and motion sensors is necessary for this experience. Please reload the page to try again.</div>\n        <button id=\"zappar-permission-reload-button\">Reload</button>\n    </div>\n`;\n    document.body.append(div);\n    let button = div.querySelector(\"#zappar-permission-reload-button\");\n    button === null || button === void 0 ? void 0 : button.addEventListener(\"click\", () => window.location.reload());\n}\nfunction permissionDeniedUIChrome() {\n    let div = document.createElement(\"div\");\n    div.classList.add(\"zappar-permission-request\");\n    div.innerHTML = `\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class=\"zappar-inner\">\n        <div class=\"zappar-title\">Permission is Needed</div>\n        <div class=\"zappar-text\">Permission to access your device's camera and motion sensors is necessary for this experience.<br/><br/>To grant access, please tap the ! button in the address bar of your browser, then \"Site settings\", and finally \"Clear and reset\". You can then reload the page to try again.</div>\n        <button id=\"zappar-permission-reload-button\">Reload</button>\n    </div>\n`;\n    document.body.append(div);\n    let button = div.querySelector(\"#zappar-permission-reload-button\");\n    button === null || button === void 0 ? void 0 : button.addEventListener(\"click\", () => window.location.reload());\n}\n", "export var STRINGS;\n(function (STRINGS) {\n    STRINGS[STRINGS[\"PermissionTitle\"] = 0] = \"PermissionTitle\";\n    STRINGS[STRINGS[\"PermissionDescription\"] = 1] = \"PermissionDescription\";\n    STRINGS[STRINGS[\"PermissionButton\"] = 2] = \"PermissionButton\";\n})(STRINGS || (STRINGS = {}));\nfunction parseLanguage(inp) {\n    const [lang, locale] = inp.toLowerCase().split(\"-\");\n    return [lang, locale || \"\"];\n}\nconst [lang, locale] = parseLanguage(navigator.language);\nexport function tr(str) {\n    switch (lang) {\n        case \"es\":\n            switch (str) {\n                case STRINGS.PermissionTitle: return \"Ya casi...\";\n                case STRINGS.PermissionDescription: return \"Para brindar esta experiencia de realidad aumentada, necesitamos acceso a la cÃ¡mara y los sensores de movimiento de su dispositivo.\";\n                case STRINGS.PermissionButton: return \"Permitir acceso\";\n            }\n            break;\n        case \"de\":\n            switch (str) {\n                case STRINGS.PermissionTitle: return \"Fast am Ziel..\";\n                case STRINGS.PermissionDescription: return \"Um dir dieses Augmented Reality Erlebnis zu liefern, brauchen wir Zugriff auf die Kamera und Bewegungssensoren deines GerÃ¤tes.\";\n                case STRINGS.PermissionButton: return \"GewÃ¤hre Zugriff\";\n            }\n            break;\n        case \"pt\":\n            switch (str) {\n                case STRINGS.PermissionTitle: return \"EstÃ¡ quase!\";\n                case STRINGS.PermissionDescription: return \"Esta experiÃªncia de realidade aumentada precisa de acesso Ã  cÃ¢mera e aos sensores de movimento deste dispositivo.\";\n                case STRINGS.PermissionButton: return \"Permitir acesso\";\n            }\n            break;\n    }\n    switch (str) {\n        case STRINGS.PermissionTitle: return \"Almost there...\";\n        case STRINGS.PermissionDescription: return \"In order to provide this augmented reality experience, we need access to your device's camera and motion sensors.\";\n        case STRINGS.PermissionButton: return \"Grant Access\";\n    }\n    return \"\";\n}\n", "import { log_level_t } from \"./gen/zappar\";\nlet logLevel = log_level_t.LOG_LEVEL_ERROR;\nexport function setLogLevel(l) {\n    logLevel = l;\n}\nexport function zcout(...args) {\n    if (logLevel >= log_level_t.LOG_LEVEL_VERBOSE)\n        console.log(\"[Zappar] INFO\", ...args);\n}\nexport function zcerr(...args) {\n    if (logLevel >= log_level_t.LOG_LEVEL_ERROR)\n        console.error(\"[Zappar] ERROR\", ...args);\n}\nexport function zcwarn(...args) {\n    if (logLevel >= log_level_t.LOG_LEVEL_VERBOSE)\n        console.log(\"[Zappar] WARN\", ...args);\n}\n", "import { vec3 } from \"gl-matrix\";\nimport { zcout } from \"./loglevel\";\nlet latestFaceMesh = 1;\nlet faceMeshById = new Map();\nexport function createFaceMesh() {\n    let ret = (latestFaceMesh++);\n    faceMeshById.set(ret, new FaceMesh());\n    zcout(\"face_mesh_t initialized\");\n    return ret;\n}\nexport function destroyFaceMesh(m) {\n    faceMeshById.delete(m);\n}\nexport function getFaceMesh(m) {\n    return faceMeshById.get(m);\n}\nexport class FaceMesh {\n    constructor() {\n        this.render_mean_ = new Float32Array();\n        this.render_identity_ = new Float32Array(50);\n        this.render_expression_ = new Float32Array(29);\n        this.render_uvs_ = new Float32Array();\n        this.render_indices_ = new Uint16Array();\n        this.vertices_ = new Float32Array();\n        this.normals_ = new Float32Array();\n        this.normalsCalculated_ = false;\n        this.modelVersion_ = -1;\n        this.mirrored_ = false;\n    }\n    loadFromMemory(ab, fillMouth, fillEyeL, fillEyeR, fillNeck) {\n        let offset = 0;\n        let uint16View = new Uint16Array(ab);\n        let intView = new Int32Array(ab);\n        let floatView = new Float32Array(ab);\n        let readMatrix = () => {\n            let nr = intView[offset++];\n            let nc = intView[offset++];\n            let size = nr * nc;\n            let ret = floatView.subarray(offset, offset + size);\n            offset += size;\n            return ret;\n        };\n        let readShortVector = () => {\n            let size = intView[offset++];\n            let ret = uint16View.subarray(offset * 2, offset * 2 + size);\n            offset += size / 2;\n            return ret;\n        };\n        this.render_mean_ = readMatrix();\n        this.render_identity_ = readMatrix();\n        this.render_expression_ = readMatrix();\n        this.render_uvs_ = readMatrix();\n        let baseIndices = readShortVector();\n        let mouthIndices = (offset < intView.length) ? readShortVector() : new Uint16Array();\n        let leftEyeIndices = (offset < intView.length) ? readShortVector() : new Uint16Array();\n        let rightEyeIndices = (offset < intView.length) ? readShortVector() : new Uint16Array();\n        let neckIndices = (offset < intView.length) ? readShortVector() : new Uint16Array();\n        if (!fillMouth && !fillEyeL && !fillEyeR && !fillNeck) {\n            this.render_indices_ = baseIndices;\n        }\n        else {\n            let sizeRequired = baseIndices.length;\n            if (fillMouth)\n                sizeRequired += mouthIndices.length;\n            if (fillEyeL)\n                sizeRequired += leftEyeIndices.length;\n            if (fillEyeR)\n                sizeRequired += rightEyeIndices.length;\n            if (fillNeck)\n                sizeRequired += neckIndices.length;\n            this.render_indices_ = new Uint16Array(sizeRequired);\n            this.render_indices_.set(baseIndices, 0);\n            let indx = baseIndices.length;\n            if (fillMouth) {\n                this.render_indices_.set(mouthIndices, indx);\n                indx += mouthIndices.length;\n            }\n            if (fillEyeL) {\n                this.render_indices_.set(leftEyeIndices, indx);\n                indx += leftEyeIndices.length;\n            }\n            if (fillEyeR) {\n                this.render_indices_.set(rightEyeIndices, indx);\n                indx += rightEyeIndices.length;\n            }\n            if (fillNeck) {\n                this.render_indices_.set(neckIndices, indx);\n                indx += neckIndices.length;\n            }\n        }\n        this.vertices_ = new Float32Array(this.render_mean_);\n        this.normals_ = new Float32Array(this.vertices_.length);\n        this.modelVersion_++;\n    }\n    getVertices() {\n        return this.vertices_;\n    }\n    getUVs() {\n        return this.render_uvs_;\n    }\n    getIndices() {\n        if (this.mirrored_) {\n            if (!this.render_indices_reversed) {\n                this.render_indices_reversed = new Uint16Array(this.render_indices_.length);\n                for (let i = 0; i < this.render_indices_.length; i += 3) {\n                    this.render_indices_reversed[i] = this.render_indices_[i + 2];\n                    this.render_indices_reversed[i + 1] = this.render_indices_[i + 1];\n                    this.render_indices_reversed[i + 2] = this.render_indices_[i];\n                }\n            }\n            return this.render_indices_reversed;\n        }\n        return this.render_indices_;\n    }\n    getNormals() {\n        if (!this.normalsCalculated_)\n            this.calculateNormals();\n        return this.normals_;\n    }\n    getModelVersion() {\n        return this.modelVersion_;\n    }\n    getLandmarkDataForVertex(v) {\n        let mean = [\n            this.render_mean_[v * 3],\n            this.render_mean_[v * 3 + 1],\n            this.render_mean_[v * 3 + 2],\n        ];\n        let identity = [];\n        for (let i = 0; i < 50; i++) {\n            identity.push(this.render_identity_[(v * 3) * 50 + i]),\n                identity.push(this.render_identity_[(v * 3 + 1) * 50 + i]),\n                identity.push(this.render_identity_[(v * 3 + 2) * 50 + i]);\n        }\n        let expression = [];\n        for (let i = 0; i < 29; i++) {\n            expression.push(this.render_expression_[(v * 3) * 29 + i]),\n                expression.push(this.render_expression_[(v * 3 + 1) * 29 + i]),\n                expression.push(this.render_expression_[(v * 3 + 2) * 29 + i]);\n        }\n        return { mean, identity, expression };\n    }\n    update(identity, expression, mirrored) {\n        if (this.render_mean_.length === 0)\n            return;\n        if (this.render_identity_.length === 0)\n            return;\n        if (this.render_expression_.length === 0)\n            return;\n        this.mirrored_ = mirrored;\n        this.vertices_.set(this.render_mean_);\n        for (let i = 0; i < identity.length; i++) {\n            for (let j = 0; j < this.vertices_.length; j++) {\n                this.vertices_[j] += identity[i] * this.render_identity_[j * identity.length + i];\n            }\n        }\n        for (let i = 0; i < expression.length; i++) {\n            for (let j = 0; j < this.vertices_.length; j++) {\n                this.vertices_[j] += expression[i] * this.render_expression_[j * expression.length + i];\n            }\n        }\n        if (mirrored) {\n            for (let j = 0; j < this.vertices_.length; j += 3) {\n                this.vertices_[j] *= -1;\n            }\n        }\n        this.normalsCalculated_ = false;\n    }\n    calculateNormals() {\n        let indices = this.getIndices();\n        let vertices = this.vertices_;\n        let faceNormals = new Float32Array(indices.length);\n        if (!vertices)\n            return;\n        let size = indices.length;\n        let normals = this.normals_;\n        let v = new Float32Array([0, 0, 0]);\n        let w = new Float32Array([0, 0, 0]);\n        let out = new Float32Array([0, 0, 0]);\n        for (let i = 0; i < size; i += 3) {\n            let vertexStart0 = indices[i] * 3;\n            let vertexStart1 = indices[i + 1] * 3;\n            let vertexStart2 = indices[i + 2] * 3;\n            v[0] = vertices[vertexStart1] - vertices[vertexStart0];\n            v[1] = vertices[vertexStart1 + 1] - vertices[vertexStart0 + 1];\n            v[2] = vertices[vertexStart1 + 2] - vertices[vertexStart0 + 2];\n            w[0] = vertices[vertexStart2] - vertices[vertexStart0];\n            w[1] = vertices[vertexStart2 + 1] - vertices[vertexStart0 + 1];\n            w[2] = vertices[vertexStart2 + 2] - vertices[vertexStart0 + 2];\n            vec3.cross(out, v, w);\n            let length = vec3.length(out);\n            faceNormals[i] = out[0] / length;\n            faceNormals[i + 1] = out[1] / length;\n            faceNormals[i + 2] = out[2] / length;\n        }\n        normals.fill(0);\n        for (let i = 0; i < size; i += 3) {\n            let vertexStart0 = indices[i] * 3;\n            let vertexStart1 = indices[i + 1] * 3;\n            let vertexStart2 = indices[i + 2] * 3;\n            normals[vertexStart0] += faceNormals[i];\n            normals[vertexStart0 + 1] += faceNormals[i + 1];\n            normals[vertexStart0 + 2] += faceNormals[i + 2];\n            normals[vertexStart1] += faceNormals[i];\n            normals[vertexStart1 + 1] += faceNormals[i + 1];\n            normals[vertexStart1 + 2] += faceNormals[i + 2];\n            normals[vertexStart2] += faceNormals[i];\n            normals[vertexStart2 + 1] += faceNormals[i + 1];\n            normals[vertexStart2 + 2] += faceNormals[i + 2];\n        }\n        let numberNormals = normals.length / 3;\n        for (let i = 0; i < numberNormals; i++) {\n            let indx = i * 3;\n            v[0] = normals[indx];\n            v[1] = normals[indx + 1];\n            v[2] = normals[indx + 2];\n            vec3.normalize(w, v);\n            normals[indx] = w[0];\n            normals[indx + 1] = w[1];\n            normals[indx + 2] = w[2];\n        }\n        this.normalsCalculated_ = true;\n    }\n}\n", "import { profile } from \"./profile\";\nimport { compileShader, linkProgram } from \"./shader\";\nimport { mat4, vec3 } from \"gl-matrix\";\nlet identity = mat4.create();\nexport class CameraDraw {\n    constructor(_gl) {\n        this._gl = _gl;\n    }\n    dispose() {\n        if (this._vbo)\n            this._gl.deleteBuffer(this._vbo);\n        this._vbo = undefined;\n        if (this._shader)\n            this._gl.deleteProgram(this._shader.prog);\n        this._shader = undefined;\n    }\n    _generate(gl, i) {\n        if (this._vbo)\n            return this._vbo;\n        if (!this._vbo)\n            this._vbo = gl.createBuffer();\n        if (!this._vbo)\n            throw new Error(\"Unable to create buffer object\");\n        let vboData = new Float32Array([\n            -1, -1, 0, 0, 0,\n            -1, 1, 0, 0, 1,\n            1, -1, 0, 1, 0,\n            1, -1, 0, 1, 0,\n            -1, 1, 0, 0, 1,\n            1, 1, 0, 1, 1\n        ]);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vboData), gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._vbo;\n    }\n    drawCameraFrame(screenWidth, screenHeight, i, mirror) {\n        if (!i.texture)\n            return;\n        let gl = this._gl;\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.SCISSOR_TEST);\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.BLEND);\n        let shader = this._getCameraShader(gl);\n        let vbo = this._generate(gl, i);\n        gl.activeTexture(gl.TEXTURE0);\n        gl.useProgram(shader.prog);\n        gl.uniformMatrix4fv(shader.unif_skinTexTransform, false, cameraFrameTextureMatrix(i.dataWidth, i.dataHeight, screenWidth, screenHeight, i.uvTransform || identity, mirror));\n        gl.uniform1i(shader.unif_skinSampler, 0);\n        gl.bindTexture(gl.TEXTURE_2D, i.texture);\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n        gl.vertexAttribPointer(shader.attr_position, 3, gl.FLOAT, false, 5 * 4, 0);\n        gl.enableVertexAttribArray(shader.attr_position);\n        gl.vertexAttribPointer(shader.attr_texCoord, 2, gl.FLOAT, false, 5 * 4, 3 * 4);\n        gl.enableVertexAttribArray(shader.attr_texCoord);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        gl.disableVertexAttribArray(shader.attr_position);\n        gl.disableVertexAttribArray(shader.attr_texCoord);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.useProgram(null);\n    }\n    _getCameraShader(gl) {\n        if (this._shader)\n            return this._shader;\n        let prog = gl.createProgram();\n        if (!prog)\n            throw new Error(\"Unable to create program\");\n        let vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSrc);\n        let fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSrc);\n        gl.attachShader(prog, vertexShader);\n        gl.attachShader(prog, fragmentShader);\n        linkProgram(gl, prog);\n        let unif_skinTexTransform = gl.getUniformLocation(prog, \"skinTexTransform\");\n        if (!unif_skinTexTransform)\n            throw new Error(\"Unable to get uniform location skinTexTransform\");\n        let unif_skinSampler = gl.getUniformLocation(prog, \"skinSampler\");\n        if (!unif_skinSampler)\n            throw new Error(\"Unable to get uniform location skinSampler\");\n        this._shader = {\n            prog,\n            unif_skinTexTransform,\n            unif_skinSampler,\n            attr_position: gl.getAttribLocation(prog, \"position\"),\n            attr_texCoord: gl.getAttribLocation(prog, \"texCoord\")\n        };\n        return this._shader;\n    }\n}\nlet vertexShaderSrc = `\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nattribute vec4 position;\nattribute vec4 texCoord;\nvarying vec4 skinTexVarying;\nuniform mat4 skinTexTransform;\n\nvoid main()\n{\n    gl_Position = position;\n    skinTexVarying = skinTexTransform * texCoord;\n}`;\nlet fragmentShaderSrc = `\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2DProj(skinSampler, skinTexVarying);\n}`;\nfunction cameraRotationForScreenOrientation() {\n    if (window.screen.orientation && !profile.forceWindowOrientation) {\n        switch (window.screen.orientation.type) {\n            case \"portrait-primary\":\n                return 270;\n            case \"landscape-secondary\":\n                return 180;\n            case \"portrait-secondary\":\n                return 90;\n            default:\n                return 0;\n        }\n    }\n    else if (window.orientation !== undefined) {\n        switch (window.orientation) {\n            case 0: return 270;\n            case 90: return 0;\n            case 180: return 90;\n            case -90: return 180;\n        }\n    }\n    return 0;\n}\nexport function cameraFrameTextureMatrix(frameWidth, frameHeight, screenWidth, screenHeight, uvMatrix, mirror) {\n    let ret = mat4.create();\n    let trans = mat4.create();\n    // Translate to centre UV coords\n    mat4.fromTranslation(trans, [-0.5, -0.5, 0]);\n    mat4.multiply(ret, trans, ret);\n    if (mirror) {\n        mat4.fromScaling(trans, [-1, 1, 1]);\n        mat4.multiply(ret, trans, ret);\n    }\n    // Apply rotation back into ZCV's landscape space\n    mat4.fromRotation(trans, -1 * cameraRotationForScreenOrientation() * Math.PI / 180.0, [0, 0, 1]);\n    mat4.multiply(ret, trans, ret);\n    // Get our screenWidth and screenHeight into that same space\n    let vec = vec3.create();\n    vec[0] = screenWidth;\n    vec[1] = screenHeight;\n    vec[2] = 0;\n    vec3.transformMat4(vec, vec, trans);\n    let absScreenX = Math.abs(vec[0]);\n    let absScreenY = Math.abs(vec[1]);\n    // Apply a flip since the texture is upside-down\n    mat4.fromScaling(trans, [1, -1, 1]);\n    mat4.multiply(ret, trans, ret);\n    // Apply cropping\n    let screenAspect = absScreenX / absScreenY;\n    let frameAspect = frameWidth / frameHeight;\n    if (screenAspect > frameAspect) {\n        mat4.fromScaling(trans, [1, frameAspect / screenAspect, 1]);\n    }\n    else {\n        mat4.fromScaling(trans, [screenAspect / frameAspect, 1, 1]);\n    }\n    mat4.multiply(ret, trans, ret);\n    // Translate back to UV coords\n    mat4.fromTranslation(trans, [0.5, 0.5, 0]);\n    mat4.multiply(ret, trans, ret);\n    // Apply the camera frame's UV matrix\n    mat4.multiply(ret, uvMatrix, ret);\n    return ret;\n}\n", "import { compileShader, linkProgram } from \"./shader\";\nexport class FaceDraw {\n    constructor(_gl) {\n        this._gl = _gl;\n    }\n    dispose() {\n        if (this._vbo)\n            this._gl.deleteBuffer(this._vbo);\n        if (this._normalbo)\n            this._gl.deleteBuffer(this._normalbo);\n        if (this._ibo)\n            this._gl.deleteBuffer(this._ibo);\n        if (this._shader)\n            this._gl.deleteProgram(this._shader.prog);\n        this._vbo = undefined;\n        this._normalbo = undefined;\n        this._ibo = undefined;\n        this._shader = undefined;\n    }\n    _generateIBO(indices, gl) {\n        if (this._ibo && this._lastIndices === indices)\n            return this._ibo;\n        this._lastIndices = indices;\n        if (!this._ibo)\n            this._ibo = gl.createBuffer();\n        if (!this._ibo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this._ibo);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        return this._ibo;\n    }\n    _generateVBO(face, gl) {\n        if (!this._vbo)\n            this._vbo = gl.createBuffer();\n        if (!this._vbo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, face, gl.STREAM_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._vbo;\n    }\n    _generateNormalBO(face, gl) {\n        if (!this._normalbo)\n            this._normalbo = gl.createBuffer();\n        if (!this._normalbo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._normalbo);\n        gl.bufferData(gl.ARRAY_BUFFER, face, gl.STREAM_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._normalbo;\n    }\n    drawFace(matrix, o) {\n        let gl = this._gl;\n        let shader = this._getShader(gl);\n        let v = this._generateVBO(o.getVertices(), gl);\n        let n = this._generateNormalBO(o.getNormals(), gl);\n        let i = this._generateIBO(o.getIndices(), gl);\n        gl.enable(gl.DEPTH_TEST);\n        gl.enable(gl.CULL_FACE);\n        gl.useProgram(shader.prog);\n        gl.uniformMatrix4fv(shader.unif_matrix, false, matrix);\n        gl.bindBuffer(gl.ARRAY_BUFFER, v);\n        gl.vertexAttribPointer(shader.attr_position, 3, gl.FLOAT, false, 3 * 4, 0);\n        gl.enableVertexAttribArray(shader.attr_position);\n        gl.bindBuffer(gl.ARRAY_BUFFER, n);\n        gl.vertexAttribPointer(shader.attr_normal, 3, gl.FLOAT, false, 3 * 4, 0);\n        gl.enableVertexAttribArray(shader.attr_normal);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, i);\n        gl.drawElements(gl.TRIANGLES, o.getIndices().length, gl.UNSIGNED_SHORT, 0);\n        gl.disableVertexAttribArray(shader.attr_position);\n        gl.disableVertexAttribArray(shader.attr_normal);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    }\n    _getShader(gl) {\n        if (this._shader)\n            return this._shader;\n        let prog = gl.createProgram();\n        if (!prog)\n            throw new Error(\"Unable to create program\");\n        let vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSrc);\n        let fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSrc);\n        gl.attachShader(prog, vertexShader);\n        gl.attachShader(prog, fragmentShader);\n        linkProgram(gl, prog);\n        let unif_matrix = gl.getUniformLocation(prog, \"matrix\");\n        if (!unif_matrix)\n            throw new Error(\"Unable to get uniform location mattrix\");\n        this._shader = {\n            prog,\n            unif_matrix,\n            attr_position: gl.getAttribLocation(prog, \"position\"),\n            attr_normal: gl.getAttribLocation(prog, \"normal\")\n        };\n        return this._shader;\n    }\n}\nlet vertexShaderSrc = `\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nattribute vec4 position;\nattribute vec3 normal;\nvarying highp vec3 vnormal;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vnormal = normal;\n}`;\nlet fragmentShaderSrc = `\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nvarying highp vec3 vnormal;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    vec3 normal2 = 0.5 * vnormal + 0.5;\n    gl_FragColor = vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}`;\n", "import { compileShader, linkProgram } from \"./shader\";\nexport class FaceDrawProject {\n    constructor(_gl) {\n        this._gl = _gl;\n    }\n    dispose() {\n        if (this._vbo)\n            this._gl.deleteBuffer(this._vbo);\n        if (this._uvbo)\n            this._gl.deleteBuffer(this._uvbo);\n        if (this._ibo)\n            this._gl.deleteBuffer(this._ibo);\n        if (this._shader)\n            this._gl.deleteProgram(this._shader.prog);\n        this._vbo = undefined;\n        this._uvbo = undefined;\n        this._ibo = undefined;\n        this._shader = undefined;\n    }\n    _generateIBO(indices, gl) {\n        if (this._ibo && this._lastIndices === indices)\n            return this._ibo;\n        this._lastIndices = indices;\n        if (!this._ibo)\n            this._ibo = gl.createBuffer();\n        if (!this._ibo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this._ibo);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        return this._ibo;\n    }\n    _generateVBO(face, gl) {\n        if (!this._vbo)\n            this._vbo = gl.createBuffer();\n        if (!this._vbo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, face, gl.STREAM_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._vbo;\n    }\n    _generateUVBO(face, gl) {\n        if (!this._uvbo)\n            this._uvbo = gl.createBuffer();\n        if (!this._uvbo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._uvbo);\n        gl.bufferData(gl.ARRAY_BUFFER, face, gl.STREAM_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._uvbo;\n    }\n    drawFace(matrix, vertices, uvMatrix, uvs, indices, texture) {\n        let gl = this._gl;\n        let shader = this._getShader(gl);\n        let v = this._generateVBO(vertices, gl);\n        let u = this._generateUVBO(uvs, gl);\n        let i = this._generateIBO(indices, gl);\n        gl.enable(gl.DEPTH_TEST);\n        gl.enable(gl.CULL_FACE);\n        // gl.enable(gl.BLEND);\n        // gl.blendFunc(gl.ONE, gl.ONE);\n        // gl.blendEquation(gl.FUNC_SUBTRACT);\n        gl.useProgram(shader.prog);\n        gl.uniformMatrix4fv(shader.unif_matrix, false, matrix);\n        gl.uniformMatrix4fv(shader.unif_uvmatrix, false, uvMatrix);\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.uniform1i(shader.unif_sampler, 0);\n        gl.bindBuffer(gl.ARRAY_BUFFER, v);\n        gl.vertexAttribPointer(shader.attr_position, 3, gl.FLOAT, false, 3 * 4, 0);\n        gl.enableVertexAttribArray(shader.attr_position);\n        gl.bindBuffer(gl.ARRAY_BUFFER, u);\n        gl.vertexAttribPointer(shader.attr_uv, 3, gl.FLOAT, false, 3 * 4, 0);\n        gl.enableVertexAttribArray(shader.attr_uv);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, i);\n        gl.drawElements(gl.TRIANGLES, 2304 * 3, gl.UNSIGNED_SHORT, 0);\n        gl.disableVertexAttribArray(shader.attr_position);\n        gl.disableVertexAttribArray(shader.attr_uv);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    }\n    _getShader(gl) {\n        if (this._shader)\n            return this._shader;\n        let prog = gl.createProgram();\n        if (!prog)\n            throw new Error(\"Unable to create program\");\n        let vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSrc);\n        let fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSrc);\n        gl.attachShader(prog, vertexShader);\n        gl.attachShader(prog, fragmentShader);\n        linkProgram(gl, prog);\n        let unif_matrix = gl.getUniformLocation(prog, \"matrix\");\n        if (!unif_matrix)\n            throw new Error(\"Unable to get uniform location matrix\");\n        let unif_uvmatrix = gl.getUniformLocation(prog, \"uvmatrix\");\n        if (!unif_uvmatrix)\n            throw new Error(\"Unable to get uniform location matrix\");\n        let unif_sampler = gl.getUniformLocation(prog, \"uSampler\");\n        if (!unif_sampler)\n            throw new Error(\"Unable to get uniform location sampler\");\n        this._shader = {\n            prog,\n            unif_matrix,\n            unif_sampler,\n            unif_uvmatrix,\n            attr_position: gl.getAttribLocation(prog, \"position\"),\n            attr_uv: gl.getAttribLocation(prog, \"uv\"),\n            attr_texturecoord: gl.getAttribLocation(prog, \"aTextureCoord\"),\n        };\n        return this._shader;\n    }\n}\nlet vertexShaderSrc = `\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nuniform mat4 uvmatrix;\nattribute vec4 position;\nattribute vec3 normal;\nattribute vec3 uv;\n\n// varying highp vec3 vnormal;\n\nvarying highp vec2 vTextureCoord;\nvarying highp float vAlpha;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vec4 ret = uvmatrix * vec4(uv.x, uv.y, uv.z, 1.0);\n    ret.x /= ret.w * 2.0;\n    ret.y /= ret.w * 2.0;\n    ret.x += 0.5;\n    ret.y += 0.0;\n    vAlpha = 1.0;\n    vTextureCoord = ret.xy;\n}`;\nlet fragmentShaderSrc = `\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vnormal;\nvarying highp float vAlpha;\nuniform lowp sampler2D uSampler;\n\nvoid main()\n{\n    // vec3 normal2 = 0.5 * vnormal + 0.5;\n    vec4 p = texture2D(uSampler, vTextureCoord);\n    p.a = vAlpha;\n    gl_FragColor = p; // vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}`;\n", "import { zcerr } from \"./loglevel\";\nexport var SequenceRecorderPacketType;\n(function (SequenceRecorderPacketType) {\n    SequenceRecorderPacketType[SequenceRecorderPacketType[\"CAMERA_FRAME\"] = 0] = \"CAMERA_FRAME\";\n    SequenceRecorderPacketType[SequenceRecorderPacketType[\"ACCELEROMETER\"] = 1] = \"ACCELEROMETER\";\n    SequenceRecorderPacketType[SequenceRecorderPacketType[\"ROTATION_RATE\"] = 2] = \"ROTATION_RATE\";\n    SequenceRecorderPacketType[SequenceRecorderPacketType[\"ATTITUDE\"] = 3] = \"ATTITUDE\";\n    SequenceRecorderPacketType[SequenceRecorderPacketType[\"ATTITUDE_MATRIX\"] = 4] = \"ATTITUDE_MATRIX\";\n})(SequenceRecorderPacketType || (SequenceRecorderPacketType = {}));\nexport class SequenceRecorder {\n    constructor(estimatedFrames) {\n        this._insertionByte = 0;\n        this._numberPackets = 0;\n        this._started = false;\n        this._hasLoggedUnsuppored = false;\n        this._data = new ArrayBuffer(this._estimatedSize(estimatedFrames, 320, 240));\n        this._dataView = new DataView(this._data);\n        this._dataUint8 = new Uint8Array(this._data);\n        this._dataFloat32 = new Float32Array(this._data);\n    }\n    _estimatedSize(frames, cameraFrameWidth, cameraFrameHeight) {\n        return SequenceRecorder.headerSizeBytes + (SequenceRecorder.psbPacketType + SequenceRecorder.cameraPacketSizeBytes + cameraFrameWidth * cameraFrameHeight) * frames;\n    }\n    start() {\n        this._started = true;\n        this._insertionByte = 0;\n        this._numberPackets = 0;\n        this._growArrayBuffer(SequenceRecorder.headerSizeBytes);\n        let enc = new TextEncoder();\n        let headerData = enc.encode(\"UAR1\");\n        this._dataUint8.set(headerData);\n        this._dataView.setUint32(4, 0, true);\n        this._insertionByte += 8;\n    }\n    stop() {\n        this._started = false;\n        let trimmed = this._data.slice(0, this._insertionByte);\n        this._data = trimmed;\n        this._dataUint8 = new Uint8Array(this._data);\n        this._dataFloat32 = new Float32Array(this._data);\n        this._dataView = new DataView(this._data);\n    }\n    data() {\n        return this._dataUint8;\n    }\n    appendCameraFrame(c) {\n        if (!this._started)\n            return;\n        if (!c.data) {\n            if (this._hasLoggedUnsuppored)\n                return;\n            this._hasLoggedUnsuppored = true;\n            zcerr(\"Unable to record frames from this camera source\");\n            return;\n        }\n        if (c.data.byteLength !== (c.dataWidth * c.dataHeight)) {\n            zcerr(\"Unable to record frame to sequence: greyscale array doesn't match dimensions\");\n            return;\n        }\n        let increment = SequenceRecorder.psbPacketType + SequenceRecorder.cameraPacketSizeBytes + (c.dataWidth * c.dataHeight);\n        this._growArrayBuffer(increment);\n        this._dataView.setUint32(this._insertionByte, SequenceRecorderPacketType.CAMERA_FRAME, true);\n        this._insertionByte += SequenceRecorder.psbPacketType;\n        this._dataView.setUint32(this._insertionByte, c.dataWidth, true);\n        this._insertionByte += SequenceRecorder.psbCameraFrameWidth;\n        this._dataView.setUint32(this._insertionByte, c.dataHeight, true);\n        this._insertionByte += SequenceRecorder.psbCameraFrameHeight;\n        this._dataFloat32.set(c.cameraToDevice, this._insertionByte / 4);\n        this._insertionByte += SequenceRecorder.psbCameraToDeviceTransform;\n        this._dataFloat32.set(c.cameraModel, this._insertionByte / 4);\n        this._insertionByte += SequenceRecorder.psbCameraModel;\n        this._dataView.setUint32(this._insertionByte, c.userFacing ? 1 : 0, true);\n        this._insertionByte += SequenceRecorder.psbFlags;\n        this._dataUint8.set(new Uint8Array(c.data), this._insertionByte);\n        this._insertionByte += c.data.byteLength;\n        this._numberPackets++;\n        this._dataView.setUint32(4, this._numberPackets, true);\n    }\n    appendAccelerometer(t, x, y, z) {\n        this._appendTimestampedVec3(SequenceRecorderPacketType.ACCELEROMETER, t, x, y, z);\n    }\n    appendRotationRate(t, x, y, z) {\n        this._appendTimestampedVec3(SequenceRecorderPacketType.ROTATION_RATE, t, x, y, z);\n    }\n    appendAttitude(t, x, y, z) {\n        this._appendTimestampedVec3(SequenceRecorderPacketType.ATTITUDE, t, x, y, z);\n    }\n    _appendTimestampedVec3(type, t, x, y, z) {\n        if (!this._started)\n            return;\n        let increment = SequenceRecorder.psbPacketType + SequenceRecorder.accelerometerPacketSizeBytes;\n        this._growArrayBuffer(increment);\n        this._dataView.setUint32(this._insertionByte, type, true);\n        this._insertionByte += SequenceRecorder.psbPacketType;\n        this._dataView.setUint32(this._insertionByte, t, true);\n        this._insertionByte += 4;\n        this._dataView.setFloat32(this._insertionByte, x, true);\n        this._insertionByte += 4;\n        this._dataView.setFloat32(this._insertionByte, y, true);\n        this._insertionByte += 4;\n        this._dataView.setFloat32(this._insertionByte, z, true);\n        this._insertionByte += 4;\n        this._numberPackets++;\n        this._dataView.setUint32(4, this._numberPackets, true);\n    }\n    appendAttitudeMatrix(m) {\n        if (!this._started)\n            return;\n        let increment = SequenceRecorder.psbPacketType + SequenceRecorder.attitudeMatrixPacketSizeBytes;\n        this._growArrayBuffer(increment);\n        this._dataView.setUint32(this._insertionByte, SequenceRecorderPacketType.ATTITUDE_MATRIX, true);\n        this._insertionByte += SequenceRecorder.psbPacketType;\n        this._dataFloat32.set(m, this._insertionByte / 4);\n        this._insertionByte += SequenceRecorder.attitudeMatrixPacketSizeBytes;\n        this._numberPackets++;\n        this._dataView.setUint32(4, this._numberPackets, true);\n    }\n    _growArrayBuffer(requiredIncrement) {\n        while (this._insertionByte + requiredIncrement > this._data.byteLength) {\n            let newSize = Math.max(this._data.byteLength * 2, this._estimatedSize(50, 320, 240));\n            let newData = new ArrayBuffer(newSize);\n            let newDataUint8 = new Uint8Array(newData);\n            newDataUint8.set(this._dataUint8);\n            this._data = newData;\n            this._dataUint8 = newDataUint8;\n            this._dataFloat32 = new Float32Array(this._data);\n            this._dataView = new DataView(this._data);\n        }\n    }\n}\n// Header (8 bytes): \"UAR1\" + number of frames (uint32)\nSequenceRecorder.headerSizeBytes = 8;\n// Per-frame packet byte sizes\nSequenceRecorder.psbPacketType = 4;\n// Camera frames\nSequenceRecorder.psbCameraFrameWidth = 4;\nSequenceRecorder.psbCameraFrameHeight = 4;\nSequenceRecorder.psbFlags = 4;\nSequenceRecorder.psbCameraToDeviceTransform = 4 * 16;\nSequenceRecorder.psbCameraModel = 4 * 6;\nSequenceRecorder.cameraPacketSizeBytes = SequenceRecorder.psbCameraFrameWidth +\n    SequenceRecorder.psbCameraFrameHeight +\n    SequenceRecorder.psbCameraToDeviceTransform +\n    SequenceRecorder.psbCameraModel +\n    SequenceRecorder.psbFlags;\n// Accelerometer\nSequenceRecorder.accelerometerPacketSizeBytes = 4 * 4; // t, x, y, z\n// Rotation rate\nSequenceRecorder.rotationRatePacketSizeBytes = 4 * 4; // t, x, y, z\n// Attitude\nSequenceRecorder.attitudePacketSizeBytes = 4 * 4; // t, x, y, z\n// Attitude matrix\nSequenceRecorder.attitudeMatrixPacketSizeBytes = 4 * 16;\nexport class SequenceDecoder {\n    constructor(_data) {\n        this._data = _data;\n        this.dataByPacket = new Map();\n        this.dataByCameraFrame = new Map();\n        this.numberPackets = 0;\n        this.numberCameraFrames = 0;\n        this.numberAccelerometerPackets = 0;\n        this.numberRotationRatePackets = 0;\n        this.numberAttitudePackets = 0;\n        this.numberAttitudeMatrixPackets = 0;\n        let dec = new TextDecoder();\n        let txt = \"\";\n        try {\n            txt = dec.decode(this._data.slice(0, 4));\n        }\n        catch (err) {\n            throw new Error(\"Unable to decode header - perhaps this isn't a sequence file?\");\n        }\n        if (txt !== \"UAR1\") {\n            throw new Error(`Invalid - perhaps this isn't a sequence file: ${txt}`);\n        }\n        let readPoint = 0;\n        let dataView = new DataView(this._data);\n        this.numberPackets = dataView.getUint32(4, true);\n        readPoint += SequenceRecorder.headerSizeBytes;\n        for (let i = 0; i < this.numberPackets; i++) {\n            let type = dataView.getUint32(readPoint, true);\n            readPoint += SequenceRecorder.psbPacketType;\n            switch (type) {\n                case SequenceRecorderPacketType.CAMERA_FRAME:\n                    {\n                        let width = dataView.getUint32(readPoint, true);\n                        readPoint += SequenceRecorder.psbCameraFrameWidth;\n                        let height = dataView.getUint32(readPoint, true);\n                        readPoint += SequenceRecorder.psbCameraFrameHeight;\n                        let cameraToDevice = new Float32Array(this._data, readPoint, SequenceRecorder.psbCameraToDeviceTransform / 4);\n                        readPoint += SequenceRecorder.psbCameraToDeviceTransform;\n                        let cameraModel = new Float32Array(this._data, readPoint, SequenceRecorder.psbCameraModel / 4);\n                        readPoint += SequenceRecorder.psbCameraModel;\n                        let flags = dataView.getUint32(readPoint, true);\n                        readPoint += SequenceRecorder.psbFlags;\n                        let userFacing = flags === 1;\n                        let greyscale = new Uint8Array(this._data, readPoint, width * height);\n                        readPoint += width * height;\n                        let d = {\n                            type: SequenceRecorderPacketType.CAMERA_FRAME,\n                            width,\n                            height,\n                            cameraToDevice,\n                            cameraModel,\n                            userFacing,\n                            greyscale\n                        };\n                        this.dataByPacket.set(i, d);\n                        this.dataByCameraFrame.set(this.numberCameraFrames, d);\n                        this.numberCameraFrames++;\n                        break;\n                    }\n                case SequenceRecorderPacketType.ACCELEROMETER:\n                    {\n                        let t = dataView.getUint32(readPoint, true);\n                        readPoint += 4;\n                        let x = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        let y = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        let z = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        this.dataByPacket.set(i, {\n                            type: SequenceRecorderPacketType.ACCELEROMETER,\n                            t, x, y, z\n                        });\n                        this.numberAccelerometerPackets++;\n                        break;\n                    }\n                case SequenceRecorderPacketType.ROTATION_RATE:\n                    {\n                        let t = dataView.getUint32(readPoint, true);\n                        readPoint += 4;\n                        let x = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        let y = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        let z = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        this.dataByPacket.set(i, {\n                            type: SequenceRecorderPacketType.ROTATION_RATE,\n                            t, x, y, z\n                        });\n                        this.numberRotationRatePackets++;\n                        break;\n                    }\n                case SequenceRecorderPacketType.ATTITUDE:\n                    {\n                        let t = dataView.getUint32(readPoint, true);\n                        readPoint += 4;\n                        let x = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        let y = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        let z = dataView.getFloat32(readPoint, true);\n                        readPoint += 4;\n                        this.dataByPacket.set(i, {\n                            type: SequenceRecorderPacketType.ATTITUDE,\n                            t, x, y, z\n                        });\n                        this.numberAttitudePackets++;\n                        break;\n                    }\n                case SequenceRecorderPacketType.ATTITUDE_MATRIX:\n                    {\n                        let attitude = new Float32Array(this._data, readPoint, SequenceRecorder.attitudeMatrixPacketSizeBytes / 4);\n                        readPoint += SequenceRecorder.attitudeMatrixPacketSizeBytes;\n                        this.dataByPacket.set(i, {\n                            type: SequenceRecorderPacketType.ATTITUDE_MATRIX,\n                            attitude\n                        });\n                        this.numberAttitudeMatrixPackets++;\n                        break;\n                    }\n            }\n        }\n    }\n}\n", "export class Source {\n}\n", "const managers = new Map();\nexport class GLStateManager {\n    constructor(_gl) {\n        this._gl = _gl;\n        this._viewports = [];\n        this._underlyingViewport = this._gl.viewport;\n        this._viewports.push(this._gl.getParameter(this._gl.VIEWPORT));\n        this._gl.viewport = (x, y, width, height) => {\n            this._viewports[this._viewports.length - 1] = [x, y, width, height];\n            this._underlyingViewport.call(this._gl, x, y, width, height);\n        };\n    }\n    static get(gl) {\n        let existing = managers.get(gl);\n        if (!existing) {\n            existing = new GLStateManager(gl);\n            managers.set(gl, existing);\n        }\n        return existing;\n    }\n    push() {\n        this._viewports.push(this._viewports[this._viewports.length - 1]);\n    }\n    pop() {\n        const current = this._viewports.pop();\n        const prev = this._viewports[this._viewports.length - 1];\n        if (!current || current[0] !== prev[0] || current[1] !== prev[1] || current[2] !== prev[2] || current[3] !== prev[3]) {\n            this._underlyingViewport.call(this._gl, prev[0], prev[1], prev[2], prev[3]);\n        }\n    }\n}\n", "import { mat4 } from \"gl-matrix\";\nimport { GLStateManager } from \"./gl-state-manager\";\nimport { profile } from \"./profile\";\nimport { compileShader, linkProgram } from \"./shader\";\nexport class ImageProcessGL {\n    constructor(_gl) {\n        this._gl = _gl;\n        this._isPaused = true;\n        this._hadFrames = false;\n        this._isUserFacing = false;\n        this._cameraToScreenRotation = 0;\n        this._isUploadFrame = true;\n        this._computedTransformRotation = -1;\n        this._computedFrontCameraRotation = false;\n        this._cameraUvTransform = mat4.create();\n        this._framebufferWidth = 0;\n        this._framebufferHeight = 0;\n        this._framebufferId = null;\n        this._renderTexture = null;\n        this._isWebGL2 = false;\n        this._isWebGL2 = _gl.getParameter(_gl.VERSION).indexOf(\"WebGL 2\") >= 0;\n        if (!this._isWebGL2) {\n            this._instancedArraysExtension = this._gl.getExtension(\"ANGLE_instanced_arrays\");\n        }\n    }\n    resetGLContext() {\n        this._framebufferId = null;\n        this._renderTexture = null;\n        this._vertexBuffer = undefined;\n        this._indexBuffer = undefined;\n        this._greyscaleShader = undefined;\n    }\n    destroy() {\n        this.resetGLContext();\n    }\n    uploadFrame(texture, img, rotation, fc) {\n        let gl = this._gl;\n        const glStateManager = GLStateManager.get(gl);\n        glStateManager.push();\n        const reenableScissorTest = gl.isEnabled(gl.SCISSOR_TEST);\n        const reenableDepthTest = gl.isEnabled(gl.DEPTH_TEST);\n        const reenableBlend = gl.isEnabled(gl.BLEND);\n        const reenableCullFace = gl.isEnabled(gl.CULL_FACE);\n        const reenableStencilTest = gl.isEnabled(gl.STENCIL_TEST);\n        const previousActiveTexture = gl.getParameter(gl.ACTIVE_TEXTURE);\n        const previousUnpackFlip = gl.getParameter(gl.UNPACK_FLIP_Y_WEBGL);\n        const previousProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n        gl.activeTexture(gl.TEXTURE0);\n        const previousBoundTexture = gl.getParameter(gl.TEXTURE_BINDING_2D);\n        const previousBoundFramebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n        const previousBoundArrayBuffer = gl.getParameter(gl.ARRAY_BUFFER_BINDING);\n        const previousBoundElementArrayBuffer = gl.getParameter(gl.ELEMENT_ARRAY_BUFFER_BINDING);\n        gl.disable(gl.SCISSOR_TEST);\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.BLEND);\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.STENCIL_TEST);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        const level = 0;\n        const internalFormat = gl.RGBA;\n        const srcFormat = gl.RGBA;\n        const srcType = gl.UNSIGNED_BYTE;\n        gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, img);\n        let videoWidth = 0;\n        let videoHeight = 0;\n        if (typeof HTMLVideoElement !== \"undefined\" && img instanceof HTMLVideoElement) {\n            videoWidth = img.videoWidth;\n            videoHeight = img.videoHeight;\n        }\n        else {\n            videoWidth = img.width;\n            videoHeight = img.height;\n        }\n        if (videoHeight > videoWidth)\n            videoHeight = [videoWidth, videoWidth = videoHeight][0];\n        this._updateTransforms(rotation, fc);\n        let framebuffer = this._getFramebuffer(gl, profile.dataWidth / 4, profile.dataHeight);\n        let vbo = this._getVertexBuffer(gl);\n        let ibo = this._getIndexBuffer(gl);\n        let shader = this._getGreyscaleShader(gl);\n        const previousVertexAttribSize = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_SIZE);\n        const previousVertexAttribType = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_TYPE);\n        const previousVertexAttribNormalized = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_NORMALIZED);\n        const previousVertexAttribStride = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_STRIDE);\n        const previousVertexAttribOffset = gl.getVertexAttribOffset(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_POINTER);\n        const previousVertexAttribEnabled = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        const previousVertexAttribBufferBinding = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING);\n        const previousTextureAttribSize = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_SIZE);\n        const previousTextureAttribType = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_TYPE);\n        const previousTextureAttribNormalized = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_NORMALIZED);\n        const previousTextureAttribStride = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_STRIDE);\n        const previousTextureAttribOffset = gl.getVertexAttribOffset(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_POINTER);\n        const previousTextureAttribBufferBinding = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING);\n        const previousTextureAttribEnabled = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        let previousVertexAttribDivisor = 0;\n        let previousTextureAttribDivisor = 0;\n        if (this._isWebGL2) {\n            previousVertexAttribDivisor = gl.getVertexAttrib(shader.aVertexPositionLoc, gl.VERTEX_ATTRIB_ARRAY_DIVISOR);\n            previousTextureAttribDivisor = gl.getVertexAttrib(shader.aTextureCoordLoc, gl.VERTEX_ATTRIB_ARRAY_DIVISOR);\n            gl.vertexAttribDivisor(shader.aVertexPositionLoc, 0);\n            gl.vertexAttribDivisor(shader.aTextureCoordLoc, 0);\n        }\n        else if (this._instancedArraysExtension) {\n            previousVertexAttribDivisor = gl.getVertexAttrib(shader.aVertexPositionLoc, this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE);\n            previousTextureAttribDivisor = gl.getVertexAttrib(shader.aTextureCoordLoc, this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE);\n            this._instancedArraysExtension.vertexAttribDivisorANGLE(shader.aVertexPositionLoc, 0);\n            this._instancedArraysExtension.vertexAttribDivisorANGLE(shader.aTextureCoordLoc, 0);\n        }\n        // Rendering to the greyscale conversion buffer - bind the framebuffer\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n        gl.viewport(0, 0, this._framebufferWidth, this._framebufferHeight);\n        // We'll be replacing all the content - clear is a good hint for this on mobile\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        // Set up bindings for vertex attributes\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n        gl.vertexAttribPointer(shader.aVertexPositionLoc, 2, gl.FLOAT, false, 4 * 4, 0);\n        gl.enableVertexAttribArray(shader.aVertexPositionLoc);\n        gl.vertexAttribPointer(shader.aTextureCoordLoc, 2, gl.FLOAT, false, 4 * 4, 2 * 4);\n        gl.enableVertexAttribArray(shader.aTextureCoordLoc);\n        // Bind the index buffer\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\n        // Tell WebGL to use our program when drawing\n        gl.useProgram(shader.program);\n        // Specify greyscale width for the correct offsets, and the uv transform\n        gl.uniform1f(shader.uTexWidthLoc, profile.dataWidth);\n        gl.uniformMatrix4fv(shader.uUvTransformLoc, false, this._cameraUvTransform);\n        gl.activeTexture(gl.TEXTURE0);\n        // Bind the texture to texture unit 0\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        // Tell the shader we bound the texture to texture unit 0\n        gl.uniform1i(shader.uSamplerLoc, 0);\n        // Do the drawing...\n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n        gl.bindBuffer(gl.ARRAY_BUFFER, previousVertexAttribBufferBinding);\n        gl.vertexAttribPointer(shader.aVertexPositionLoc, previousVertexAttribSize, previousVertexAttribType, previousVertexAttribNormalized, previousVertexAttribStride, previousVertexAttribOffset);\n        gl.bindBuffer(gl.ARRAY_BUFFER, previousTextureAttribBufferBinding);\n        gl.vertexAttribPointer(shader.aTextureCoordLoc, previousTextureAttribSize, previousTextureAttribType, previousTextureAttribNormalized, previousTextureAttribStride, previousTextureAttribOffset);\n        gl.bindBuffer(gl.ARRAY_BUFFER, previousBoundArrayBuffer);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, previousBoundElementArrayBuffer);\n        if (!previousVertexAttribEnabled)\n            gl.disableVertexAttribArray(shader.aVertexPositionLoc);\n        if (!previousTextureAttribEnabled)\n            gl.disableVertexAttribArray(shader.aTextureCoordLoc);\n        if (this._isWebGL2) {\n            gl.vertexAttribDivisor(shader.aVertexPositionLoc, previousVertexAttribDivisor);\n            gl.vertexAttribDivisor(shader.aTextureCoordLoc, previousTextureAttribDivisor);\n        }\n        else if (this._instancedArraysExtension) {\n            this._instancedArraysExtension.vertexAttribDivisorANGLE(shader.aVertexPositionLoc, previousVertexAttribDivisor);\n            this._instancedArraysExtension.vertexAttribDivisorANGLE(shader.aTextureCoordLoc, previousTextureAttribDivisor);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, previousBoundFramebuffer);\n        gl.useProgram(previousProgram);\n        gl.bindTexture(gl.TEXTURE_2D, previousBoundTexture);\n        gl.activeTexture(previousActiveTexture);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, previousUnpackFlip);\n        glStateManager.pop();\n        if (reenableBlend)\n            gl.enable(gl.BLEND);\n        if (reenableCullFace)\n            gl.enable(gl.CULL_FACE);\n        if (reenableDepthTest)\n            gl.enable(gl.DEPTH_TEST);\n        if (reenableScissorTest)\n            gl.enable(gl.SCISSOR_TEST);\n        if (reenableStencilTest)\n            gl.enable(gl.STENCIL_TEST);\n    }\n    readFrame(texture, pixels) {\n        let gl = this._gl;\n        let pixelsView = new Uint8Array(pixels);\n        const previousBoundFramebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n        let framebuffer = this._getFramebuffer(gl, profile.dataWidth / 4, profile.dataHeight);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n        gl.readPixels(0, 0, this._framebufferWidth, this._framebufferHeight, gl.RGBA, gl.UNSIGNED_BYTE, pixelsView);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, previousBoundFramebuffer);\n        return {\n            uvTransform: this._cameraUvTransform,\n            data: pixels,\n            texture,\n            dataWidth: profile.dataWidth,\n            dataHeight: profile.dataHeight,\n            userFacing: this._computedFrontCameraRotation\n        };\n    }\n    _updateTransforms(rot, fc) {\n        if (rot == this._computedTransformRotation && fc == this._computedFrontCameraRotation)\n            return;\n        this._computedTransformRotation = rot;\n        this._computedFrontCameraRotation = fc;\n        this._cameraUvTransform = this._getCameraUvTransform();\n    }\n    _getCameraUvTransform() {\n        switch (this._computedTransformRotation) {\n            case 270: return new Float32Array([0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1]);\n            case 180: return new Float32Array([-1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 1, 1, 0, 1]);\n            case 90: return new Float32Array([0, -1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1]);\n        }\n        return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n    }\n    _getFramebuffer(gl, fbWidth, fbHeight) {\n        if (this._framebufferWidth === fbWidth && this._framebufferHeight === fbHeight && this._framebufferId)\n            return this._framebufferId;\n        if (this._framebufferId) {\n            gl.deleteFramebuffer(this._framebufferId);\n            this._framebufferId = null;\n        }\n        if (this._renderTexture) {\n            gl.deleteTexture(this._renderTexture);\n            this._renderTexture = null;\n        }\n        this._framebufferId = gl.createFramebuffer();\n        if (!this._framebufferId)\n            throw new Error(\"Unable to create framebuffer\");\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this._framebufferId);\n        this._renderTexture = gl.createTexture();\n        if (!this._renderTexture)\n            throw new Error(\"Unable to create render texture\");\n        gl.activeTexture(gl.TEXTURE0);\n        const previousBoundTexture = gl.getParameter(gl.TEXTURE_BINDING_2D);\n        gl.bindTexture(gl.TEXTURE_2D, this._renderTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, fbWidth, fbHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameterf(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this._renderTexture, 0);\n        let fbStatus = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        if (fbStatus !== gl.FRAMEBUFFER_COMPLETE)\n            throw new Error(\"Framebuffer not complete: \" + fbStatus.toString());\n        this._framebufferWidth = fbWidth;\n        this._framebufferHeight = fbHeight;\n        gl.bindTexture(gl.TEXTURE_2D, previousBoundTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return this._framebufferId;\n    }\n    _getVertexBuffer(gl) {\n        if (this._vertexBuffer)\n            return this._vertexBuffer;\n        this._vertexBuffer = gl.createBuffer();\n        if (!this._vertexBuffer)\n            throw new Error(\"Unable to create vertex buffer\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vertexBuffer);\n        let buffer = new Float32Array([-1.0, -1.0, 0.0, 0.0,\n            -1.0, 1.0, 0.0, 1.0,\n            1.0, 1.0, 1.0, 1.0,\n            1.0, -1.0, 1.0, 0.0]);\n        gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.STATIC_DRAW);\n        return this._vertexBuffer;\n    }\n    _getIndexBuffer(gl) {\n        if (this._indexBuffer)\n            return this._indexBuffer;\n        this._indexBuffer = gl.createBuffer();\n        if (!this._indexBuffer)\n            throw new Error(\"Unable to create index buffer\");\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this._indexBuffer);\n        let buffer = new Uint16Array([0, 1, 2, 0, 2, 3]);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, buffer, gl.STATIC_DRAW);\n        return this._indexBuffer;\n    }\n    _getGreyscaleShader(gl) {\n        if (this._greyscaleShader)\n            return this._greyscaleShader;\n        let prog = gl.createProgram();\n        if (!prog)\n            throw new Error(\"Unable to create program\");\n        let vertexShader = compileShader(gl, gl.VERTEX_SHADER, greyscaleVsSource);\n        let fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, greyscaleFsSource);\n        gl.attachShader(prog, vertexShader);\n        gl.attachShader(prog, fragmentShader);\n        linkProgram(gl, prog);\n        let uTexWidthLoc = gl.getUniformLocation(prog, \"uTexWidth\");\n        if (!uTexWidthLoc)\n            throw new Error(\"Unable to get uniform location uTexWidth\");\n        let uUvTransformLoc = gl.getUniformLocation(prog, \"uUvTransform\");\n        if (!uUvTransformLoc)\n            throw new Error(\"Unable to get uniform location uUvTransform\");\n        let uSamplerLoc = gl.getUniformLocation(prog, \"uSampler\");\n        if (!uSamplerLoc)\n            throw new Error(\"Unable to get uniform location uSampler\");\n        this._greyscaleShader = {\n            program: prog,\n            aVertexPositionLoc: gl.getAttribLocation(prog, \"aVertexPosition\"),\n            aTextureCoordLoc: gl.getAttribLocation(prog, \"aTextureCoord\"),\n            uTexWidthLoc: uTexWidthLoc,\n            uUvTransformLoc: uUvTransformLoc,\n            uSamplerLoc: uSamplerLoc\n        };\n        return this._greyscaleShader;\n    }\n}\nlet greyscaleVsSource = `\n    attribute vec4 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    varying highp vec2 vTextureCoord1;\n    varying highp vec2 vTextureCoord2;\n    varying highp vec2 vTextureCoord3;\n    varying highp vec2 vTextureCoord4;\n\n    uniform float uTexWidth;\n\tuniform mat4 uUvTransform;\n\n    void main(void) {\n      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);\n      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);\n\n      gl_Position = aVertexPosition;\n      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;\n      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;\n      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;\n      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;\n    }\n`;\n// Fragment shader program\nlet greyscaleFsSource = `\n  varying highp vec2 vTextureCoord1;\n  varying highp vec2 vTextureCoord2;\n  varying highp vec2 vTextureCoord3;\n  varying highp vec2 vTextureCoord4;\n\n  uniform sampler2D uSampler;\n\n  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);\n\n  void main(void) {\n    lowp vec4 outpx;\n\n    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);\n    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);\n    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);\n    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);\n\n    gl_FragColor = outpx;\n  }\n`;\n", "import { Pipeline } from \"./pipeline\";\nimport { Source } from \"./source\";\nimport { profile } from \"./profile\";\nimport { mat4 } from \"gl-matrix\";\nimport { zcout } from \"./loglevel\";\nimport { ImageProcessGL } from \"./image-process-gl\";\nlet latest = 1;\nlet byId = new Map();\nexport class HTMLElementSource extends Source {\n    constructor(_video, _pipeline) {\n        super();\n        this._video = _video;\n        this._pipeline = _pipeline;\n        this._isPaused = true;\n        this._hadFrames = false;\n        this._isUserFacing = false;\n        this._cameraToScreenRotation = 0;\n        this._isUploadFrame = true;\n        this._cameraToDeviceTransform = mat4.create();\n        this._cameraToDeviceTransformUserFacing = mat4.create();\n        this._cameraModel = new Float32Array([300, 300, 160, 120, 0, 0]);\n        mat4.fromScaling(this._cameraToDeviceTransformUserFacing, [-1, 1, -1]);\n        let video = this._video;\n        if (this._video instanceof HTMLVideoElement) {\n            video.addEventListener(\"loadedmetadata\", () => { this._hadFrames = true; });\n        }\n        else {\n            this._hadFrames = true;\n        }\n        this._resetGLContext = this._resetGLContext.bind(this);\n        let p = Pipeline.get(this._pipeline);\n        if (p)\n            p.onGLContextReset.bind(this._resetGLContext);\n    }\n    static createVideoElementSource(p, element) {\n        let ret = (latest++);\n        byId.set(ret, new HTMLElementSource(element, p));\n        zcout(\"html_element_source_t initialized\");\n        return ret;\n    }\n    static getVideoElementSource(m) {\n        return byId.get(m);\n    }\n    _resetGLContext() {\n        var _a, _b;\n        this._currentVideoTexture = undefined;\n        (_b = (_a = this._imageProcessor) === null || _a === void 0 ? void 0 : _a.resetGLContext) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    destroy() {\n        let p = Pipeline.get(this._pipeline);\n        if (p)\n            p.onGLContextReset.unbind(this._resetGLContext);\n        this.pause();\n        this._resetGLContext();\n    }\n    pause() {\n        this._isPaused = true;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource === this)\n            p.currentCameraSource = undefined;\n    }\n    start() {\n        var _a;\n        if (this._isPaused) {\n            this._isUploadFrame = true;\n            if (this._video instanceof HTMLVideoElement)\n                this._hadFrames = false;\n        }\n        this._isPaused = false;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource !== this) {\n            (_a = p.currentCameraSource) === null || _a === void 0 ? void 0 : _a.pause();\n            p.currentCameraSource = this;\n        }\n    }\n    getFrame(currentlyProcessing) {\n        let pipeline = Pipeline.get(this._pipeline);\n        if (!pipeline)\n            return;\n        let gl = pipeline.glContext;\n        if (!gl)\n            return;\n        if (this._isPaused)\n            return;\n        if (!this._hadFrames)\n            return;\n        try {\n            let info = this._processFrame(gl, this._cameraToScreenRotation, currentlyProcessing);\n            if (info) {\n                let token = pipeline.registerToken(info);\n                pipeline.sendDataToWorker(info.data || new ArrayBuffer(0), token, info.dataWidth, info.dataHeight, info.userFacing, info.cameraToDevice, info.cameraModel);\n            }\n        }\n        catch (ex) {\n            console.log(\"Unable to process frame\");\n        }\n        return;\n    }\n    _processFrame(gl, rotation, currentlyProcessing) {\n        let pipeline = Pipeline.get(this._pipeline);\n        if (!pipeline)\n            return undefined;\n        if (!this._imageProcessor)\n            this._imageProcessor = new ImageProcessGL(gl);\n        if (this._isUploadFrame) {\n            if (!this._currentVideoTexture) {\n                this._currentVideoTexture = pipeline.getVideoTexture();\n            }\n            if (!this._currentVideoTexture)\n                return undefined;\n            this._imageProcessor.uploadFrame(this._currentVideoTexture, this._video, rotation, this._isUserFacing);\n            this._isUploadFrame = !this._isUploadFrame;\n            return undefined;\n        }\n        if (currentlyProcessing || !this._currentVideoTexture)\n            return undefined;\n        this._isUploadFrame = !this._isUploadFrame;\n        let greySize = profile.dataWidth * profile.dataHeight;\n        let pixels = pipeline.cameraPixelArrays.pop();\n        while (pixels) {\n            if (pixels.byteLength === greySize)\n                break;\n            pixels = pipeline.cameraPixelArrays.pop();\n        }\n        if (!pixels) {\n            pixels = new ArrayBuffer(greySize);\n        }\n        let tex = this._currentVideoTexture;\n        this._currentVideoTexture = undefined;\n        let focalLength = 300.0 * profile.dataWidth / 320.0;\n        this._cameraModel[0] = focalLength;\n        this._cameraModel[1] = focalLength;\n        this._cameraModel[2] = profile.dataWidth * 0.5;\n        this._cameraModel[3] = profile.dataHeight * 0.5;\n        return Object.assign(Object.assign({}, this._imageProcessor.readFrame(tex, pixels)), { cameraModel: this._cameraModel, cameraSource: this, cameraToDevice: (this._isUserFacing ? this._cameraToDeviceTransformUserFacing : this._cameraToDeviceTransform) });\n    }\n    uploadGL() {\n        // No-op as already uploaded\n    }\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { HTMLElementSource } from \"./html-element-source\";\nimport { profile } from \"./profile\";\nimport { Pipeline } from \"./pipeline\";\nimport { cameraRotationForScreenOrientation } from \"./cameramodel\";\nimport { zcout } from \"./loglevel\";\nimport { deleteCameraSource } from \"./camera-source-map\";\nlet _videoSingleton = document.createElement(\"video\");\n_videoSingleton.setAttribute('playsinline', '');\n_videoSingleton.setAttribute('webkit-playsinline', '');\nif (profile.videoElementInDOM) {\n    _videoSingleton.style.width = \"0px\";\n    _videoSingleton.style.height = \"0px\";\n    document.body.appendChild(_videoSingleton);\n}\nexport class CameraSource extends HTMLElementSource {\n    constructor(_impl, pipeline, _deviceId) {\n        super(_videoSingleton, pipeline);\n        this._impl = _impl;\n        this._deviceId = _deviceId;\n        this._currentStream = null;\n        this._activeDeviceId = null;\n        this._hasStartedOrientation = false;\n        this._deviceMotionListener = (ev) => {\n            let pipeline = Pipeline.get(this._pipeline);\n            if (!pipeline)\n                return;\n            let timeStamp = (ev.timeStamp !== undefined && ev.timeStamp !== null) ? ev.timeStamp : performance.now();\n            if (ev.accelerationIncludingGravity !== null &&\n                ev.accelerationIncludingGravity.x !== null &&\n                ev.accelerationIncludingGravity.y !== null &&\n                ev.accelerationIncludingGravity.z !== null) {\n                pipeline.motionAccelerometerSubmit(timeStamp, ev.accelerationIncludingGravity.x * profile.deviceMotionMutliplier, ev.accelerationIncludingGravity.y * profile.deviceMotionMutliplier, ev.accelerationIncludingGravity.z * profile.deviceMotionMutliplier);\n            }\n            if (ev.rotationRate !== null &&\n                ev.rotationRate.alpha !== null &&\n                ev.rotationRate.beta !== null &&\n                ev.rotationRate.gamma !== null && !this._hasStartedOrientation) {\n                ev.timeStamp;\n                pipeline.motionRotationRateSubmit(timeStamp, ev.rotationRate.alpha * Math.PI / -180.0, ev.rotationRate.beta * Math.PI / -180.0, ev.rotationRate.gamma * Math.PI / -180.0);\n            }\n            else if (!this._hasStartedOrientation) {\n                this._startDeviceOrientation();\n            }\n        };\n    }\n    destroy() {\n        deleteCameraSource(this._impl);\n        super.destroy();\n    }\n    _stop() {\n        if (!this._currentStream)\n            return;\n        let tracks = this._currentStream.getTracks();\n        tracks.forEach(t => t.stop());\n        this._currentStream = null;\n    }\n    pause() {\n        super.pause();\n        this._stopDeviceMotion();\n        this._syncCamera();\n    }\n    start() {\n        super.start();\n        this._startDeviceMotion();\n        this._syncCamera();\n    }\n    _getConstraints() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let deviceId;\n            let facingMode;\n            if (this._deviceId !== CameraSource.DEFAULT_DEVICE_ID &&\n                this._deviceId !== CameraSource.USER_DEFAULT_DEVICE_ID) {\n                // Custom device\n                deviceId = this._deviceId;\n            }\n            else {\n                facingMode = (this._deviceId === CameraSource.DEFAULT_DEVICE_ID) ? \"environment\" : \"user\";\n                if (profile.ios164CameraSelection) {\n                    if (!this._explicitEnvironmentCameraId || !this._explicitUserCameraId) {\n                        const stream = yield navigator.mediaDevices.getUserMedia({ audio: false, video: { facingMode } });\n                        let tracks = stream.getTracks();\n                        tracks.forEach(t => t.stop());\n                        let devices = yield navigator.mediaDevices.enumerateDevices();\n                        devices = devices.filter(val => val.kind === 'videoinput');\n                        if (devices.length >= 2) {\n                            this._explicitUserCameraId = devices[0].deviceId;\n                            this._explicitEnvironmentCameraId = devices[1].deviceId;\n                        }\n                    }\n                    deviceId = (facingMode === 'environment') ? this._explicitEnvironmentCameraId : this._explicitUserCameraId;\n                }\n            }\n            let constraints = {\n                audio: false,\n                video: {\n                    facingMode: facingMode,\n                    width: profile.videoWidth,\n                    height: profile.videoHeight,\n                    frameRate: profile.requestHighFrameRate ? 60 : undefined,\n                    deviceId: deviceId\n                }\n            };\n            if (deviceId || profile.relyOnConstraintsForCameraSelection)\n                return constraints;\n            if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)\n                return constraints;\n            let devices = yield navigator.mediaDevices.enumerateDevices();\n            let hasHadCapabilities = false;\n            devices = devices.filter(val => {\n                // Remove non-video devices\n                if (val.kind !== \"videoinput\")\n                    return false;\n                // If the media info object contains capabilities, use it to filter to the correct facing cameras\n                if (val.getCapabilities) {\n                    hasHadCapabilities = true;\n                    let capabilities = val.getCapabilities();\n                    if (capabilities && capabilities.facingMode && capabilities.facingMode.indexOf(facingMode === \"user\" ? \"user\" : \"environment\") < 0)\n                        return false;\n                }\n                return true;\n            });\n            // If none of the devices had capability info, or we have no devices left, fall back to the standard constraints\n            if (!hasHadCapabilities || devices.length === 0) {\n                return constraints;\n            }\n            if (typeof constraints.video === \"object\") {\n                zcout(\"choosing device ID\", devices[devices.length - 1].deviceId);\n                constraints.video.deviceId = devices[devices.length - 1].deviceId;\n            }\n            return constraints;\n        });\n    }\n    getFrame(allowRead) {\n        this._cameraToScreenRotation = cameraRotationForScreenOrientation(false);\n        super.getFrame(allowRead);\n    }\n    _getUserMedia() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let constraints = yield this._getConstraints();\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)\n                return yield navigator.mediaDevices.getUserMedia(constraints);\n            return yield new Promise((resolve, reject) => {\n                navigator.getUserMedia(constraints, resolve, reject);\n            });\n        });\n    }\n    _syncCamera() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._currentStream && this._isPaused) {\n                this._stop();\n                return;\n            }\n            if (this._currentStream && this._activeDeviceId !== this._deviceId)\n                this._stop();\n            if (!this._isPaused) {\n                this._activeDeviceId = this._deviceId;\n                this._currentStream = yield this._getUserMedia();\n                if (this._isPaused) {\n                    yield this._syncCamera();\n                    return;\n                }\n                this._isUserFacing = false;\n                if (this._currentStream) {\n                    let videoTracks = this._currentStream.getVideoTracks();\n                    if (videoTracks.length > 0) {\n                        this._isUserFacing = videoTracks[0].getSettings().facingMode === \"user\";\n                    }\n                }\n                if (!(this._video instanceof HTMLVideoElement))\n                    return;\n                this._video.src = \"\";\n                this._video.loop = false;\n                this._video.muted = true;\n                this._video.srcObject = this._currentStream;\n                this._video.play();\n            }\n        });\n    }\n    _startDeviceOrientation() {\n        if (this._hasStartedOrientation)\n            return;\n        this._hasStartedOrientation = true;\n        this._deviceOrientationListener = (ev) => {\n            let pipeline = Pipeline.get(this._pipeline);\n            if (!pipeline)\n                return;\n            let timeStamp = (ev.timeStamp !== undefined && ev.timeStamp !== null) ? ev.timeStamp : performance.now();\n            if (ev.alpha === null || ev.beta === null || ev.gamma === null)\n                return;\n            pipeline.motionAttitudeSubmit(timeStamp, ev.alpha, ev.beta, ev.gamma);\n        };\n        window.addEventListener(\"deviceorientation\", this._deviceOrientationListener);\n    }\n    _startDeviceMotion() {\n        window.addEventListener(\"devicemotion\", this._deviceMotionListener, false);\n    }\n    _stopDeviceMotion() {\n        window.removeEventListener(\"devicemotion\", this._deviceMotionListener);\n        if (this._deviceOrientationListener)\n            window.removeEventListener(\"deviceorientation\", this._deviceOrientationListener);\n    }\n}\nCameraSource.USER_DEFAULT_DEVICE_ID = \"Simulated User Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b\";\nCameraSource.DEFAULT_DEVICE_ID = \"Simulated Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b\";\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { profile } from \"./profile\";\nimport { Pipeline } from \"./pipeline\";\nimport { Source } from \"./source\";\nimport { cameraRotationForScreenOrientation } from \"./cameramodel\";\nimport { zcout } from \"./loglevel\";\nimport { deleteCameraSource } from \"./camera-source-map\";\nimport { mat4 } from \"gl-matrix\";\nexport class ImageBitmapCameraSource extends Source {\n    constructor(_impl, _pipeline, _deviceId) {\n        super();\n        this._impl = _impl;\n        this._pipeline = _pipeline;\n        this._deviceId = _deviceId;\n        this._currentStream = null;\n        this._activeDeviceId = null;\n        this._isPaused = true;\n        this._isUserFacing = false;\n        this._hadFrames = false;\n        this._canvas = new OffscreenCanvas(640, 480);\n        this._context = this._canvas.getContext(\"2d\");\n        this._lastFrameTime = -1;\n        this._video = document.createElement(\"video\");\n        this._cameraToDeviceTransform = mat4.create();\n        this._cameraToDeviceTransformUserFacing = mat4.create();\n        this._cameraModel = new Float32Array([300, 300, 160, 120, 0, 0]);\n        this._hasStartedOrientation = false;\n        this._deviceMotionListener = (ev) => {\n            let pipeline = Pipeline.get(this._pipeline);\n            if (!pipeline)\n                return;\n            let timeStamp = (ev.timeStamp !== undefined && ev.timeStamp !== null) ? ev.timeStamp : performance.now();\n            if (ev.accelerationIncludingGravity !== null &&\n                ev.accelerationIncludingGravity.x !== null &&\n                ev.accelerationIncludingGravity.y !== null &&\n                ev.accelerationIncludingGravity.z !== null) {\n                pipeline.motionAccelerometerSubmit(timeStamp, ev.accelerationIncludingGravity.x * profile.deviceMotionMutliplier, ev.accelerationIncludingGravity.y * profile.deviceMotionMutliplier, ev.accelerationIncludingGravity.z * profile.deviceMotionMutliplier);\n            }\n            if (ev.rotationRate !== null &&\n                ev.rotationRate.alpha !== null &&\n                ev.rotationRate.beta !== null &&\n                ev.rotationRate.gamma !== null && !this._hasStartedOrientation) {\n                ev.timeStamp;\n                pipeline.motionRotationRateSubmit(timeStamp, ev.rotationRate.alpha * Math.PI / -180.0, ev.rotationRate.beta * Math.PI / -180.0, ev.rotationRate.gamma * Math.PI / -180.0);\n            }\n            else if (!this._hasStartedOrientation) {\n                this._startDeviceOrientation();\n            }\n        };\n        zcout(\"Using ImageBitmap camera source\");\n        mat4.fromScaling(this._cameraToDeviceTransformUserFacing, [-1, 1, -1]);\n        this._video.muted = true;\n        this._video.setAttribute('playsinline', '');\n        this._video.setAttribute('webkit-playsinline', '');\n        if (profile.videoElementInDOM) {\n            this._video.style.width = \"0px\";\n            this._video.style.height = \"0px\";\n            document.body.appendChild(this._video);\n        }\n        this._video.addEventListener(\"loadedmetadata\", () => { this._hadFrames = true; });\n    }\n    destroy() {\n        this.pause();\n        deleteCameraSource(this._impl);\n    }\n    _stop() {\n        if (!this._currentStream)\n            return;\n        let tracks = this._currentStream.getTracks();\n        tracks.forEach(t => t.stop());\n        this._currentStream = null;\n    }\n    pause() {\n        this._isPaused = true;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource === this)\n            p.currentCameraSource = undefined;\n        this._stopDeviceMotion();\n        this._syncCamera();\n    }\n    start() {\n        var _a;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource !== this) {\n            (_a = p.currentCameraSource) === null || _a === void 0 ? void 0 : _a.pause();\n            p.currentCameraSource = this;\n        }\n        this._isPaused = false;\n        this._startDeviceMotion();\n        this._syncCamera();\n    }\n    _getConstraints() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let deviceId;\n            let facingMode;\n            if (this._deviceId !== ImageBitmapCameraSource.DEFAULT_DEVICE_ID &&\n                this._deviceId !== ImageBitmapCameraSource.USER_DEFAULT_DEVICE_ID) {\n                // Custom device\n                deviceId = this._deviceId;\n            }\n            else {\n                facingMode = (this._deviceId === ImageBitmapCameraSource.DEFAULT_DEVICE_ID) ? \"environment\" : \"user\";\n            }\n            let constraints = {\n                audio: false,\n                video: {\n                    facingMode: facingMode,\n                    width: profile.videoWidth,\n                    height: profile.videoHeight,\n                    frameRate: profile.requestHighFrameRate ? 60 : undefined,\n                    deviceId: deviceId\n                }\n            };\n            if (deviceId)\n                return constraints;\n            if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)\n                return constraints;\n            let devices = yield navigator.mediaDevices.enumerateDevices();\n            let hasHadCapabilities = false;\n            devices = devices.filter(val => {\n                // Remove non-video devices\n                if (val.kind !== \"videoinput\")\n                    return false;\n                // If the media info object contains capabilities, use it to filter to the correct facing cameras\n                if (val.getCapabilities) {\n                    hasHadCapabilities = true;\n                    let capabilities = val.getCapabilities();\n                    if (capabilities && capabilities.facingMode && capabilities.facingMode.indexOf(facingMode === \"user\" ? \"user\" : \"environment\") < 0)\n                        return false;\n                }\n                return true;\n            });\n            // If none of the devices had capability info, or we have no devices left, fall back to the standard constraints\n            if (!hasHadCapabilities || devices.length === 0) {\n                return constraints;\n            }\n            if (typeof constraints.video === \"object\") {\n                zcout(\"choosing device ID\", devices[devices.length - 1].deviceId);\n                constraints.video.deviceId = devices[devices.length - 1].deviceId;\n            }\n            return constraints;\n        });\n    }\n    getFrame(currentlyProcessing) {\n        var _a, _b;\n        if (!this._context)\n            return;\n        if (!this._hadFrames)\n            return;\n        if (currentlyProcessing)\n            return;\n        let currentTime = performance.now();\n        if (currentTime < (this._lastFrameTime + 25))\n            return;\n        this._lastFrameTime = currentTime;\n        if (this._canvas.width !== this._video.videoWidth)\n            this._canvas.width = this._video.videoWidth;\n        if (this._canvas.height !== this._video.videoHeight)\n            this._canvas.height = this._video.videoHeight;\n        this._context.drawImage(this._video, 0, 0);\n        const imageBitmap = this._canvas.transferToImageBitmap();\n        let rotation = cameraRotationForScreenOrientation(false);\n        let pipeline = Pipeline.get(this._pipeline);\n        if (!pipeline)\n            return;\n        let focalLength = 300.0 * profile.dataWidth / 320.0;\n        this._cameraModel[0] = focalLength;\n        this._cameraModel[1] = focalLength;\n        this._cameraModel[2] = profile.dataWidth * 0.5;\n        this._cameraModel[3] = profile.dataHeight * 0.5;\n        let token = pipeline.registerToken({\n            dataWidth: this._canvas.width,\n            dataHeight: this._canvas.height,\n            texture: undefined,\n            userFacing: this._isUserFacing,\n            cameraSource: this,\n            cameraModel: this._cameraModel.slice(),\n            cameraToDevice: this._isUserFacing ? this._cameraToDeviceTransformUserFacing : this._cameraToDeviceTransform\n        });\n        (_b = (_a = Pipeline.get(this._pipeline)) === null || _a === void 0 ? void 0 : _a.sendImageBitmapToWorker) === null || _b === void 0 ? void 0 : _b.call(_a, imageBitmap, rotation, this._isUserFacing, token, this._cameraModel, this._isUserFacing ? this._cameraToDeviceTransformUserFacing : this._cameraToDeviceTransform);\n        return;\n    }\n    _getUserMedia() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let constraints = yield this._getConstraints();\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)\n                return yield navigator.mediaDevices.getUserMedia(constraints);\n            return yield new Promise((resolve, reject) => {\n                navigator.getUserMedia(constraints, resolve, reject);\n            });\n        });\n    }\n    _syncCamera() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._currentStream && this._isPaused) {\n                this._stop();\n                return;\n            }\n            if (this._currentStream && this._activeDeviceId !== this._deviceId)\n                this._stop();\n            if (!this._isPaused) {\n                this._activeDeviceId = this._deviceId;\n                this._currentStream = yield this._getUserMedia();\n                if (this._isPaused) {\n                    yield this._syncCamera();\n                    return;\n                }\n                this._isUserFacing = false;\n                if (this._currentStream) {\n                    let videoTracks = this._currentStream.getVideoTracks();\n                    if (videoTracks.length > 0) {\n                        this._isUserFacing = videoTracks[0].getSettings().facingMode === \"user\";\n                    }\n                }\n                this._video.src = \"\";\n                this._video.loop = false;\n                this._video.muted = true;\n                this._video.srcObject = this._currentStream;\n                this._video.play();\n            }\n        });\n    }\n    _startDeviceOrientation() {\n        if (this._hasStartedOrientation)\n            return;\n        this._hasStartedOrientation = true;\n        window.addEventListener(\"deviceorientation\", (ev) => {\n            let pipeline = Pipeline.get(this._pipeline);\n            if (!pipeline)\n                return;\n            let timeStamp = (ev.timeStamp !== undefined && ev.timeStamp !== null) ? ev.timeStamp : performance.now();\n            if (ev.alpha === null || ev.beta === null || ev.gamma === null)\n                return;\n            pipeline.motionAttitudeSubmit(timeStamp, ev.alpha, ev.beta, ev.gamma);\n        });\n    }\n    _startDeviceMotion() {\n        window.addEventListener(\"devicemotion\", this._deviceMotionListener, false);\n    }\n    _stopDeviceMotion() {\n        window.removeEventListener(\"devicemotion\", this._deviceMotionListener);\n    }\n    uploadGL(info) {\n        const pipeline = Pipeline.get(this._pipeline);\n        const gl = pipeline === null || pipeline === void 0 ? void 0 : pipeline.glContext;\n        if (!info ||\n            info.texture ||\n            !info.frame ||\n            !pipeline ||\n            !gl)\n            return;\n        let texture = pipeline.getVideoTexture();\n        if (!texture)\n            return;\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, info.frame);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        info.texture = texture;\n        info.frame.close();\n        delete info.frame;\n    }\n}\nImageBitmapCameraSource.USER_DEFAULT_DEVICE_ID = \"Simulated User Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b\";\nImageBitmapCameraSource.DEFAULT_DEVICE_ID = \"Simulated Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b\";\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { profile } from \"./profile\";\nimport { Pipeline } from \"./pipeline\";\nimport { Source } from \"./source\";\nimport { cameraRotationForScreenOrientation } from \"./cameramodel\";\nimport { zcout } from \"./loglevel\";\nimport { deleteCameraSource } from \"./camera-source-map\";\nexport class MSTPCameraSource extends Source {\n    constructor(_impl, _pipeline, _deviceId) {\n        super();\n        this._impl = _impl;\n        this._pipeline = _pipeline;\n        this._deviceId = _deviceId;\n        this._currentStream = null;\n        this._activeDeviceId = null;\n        this._isPaused = true;\n        this._isUserFacing = false;\n        this._cameraToScreenRotation = 0;\n        this._hasStartedOrientation = false;\n        this._deviceMotionListener = (ev) => {\n            let pipeline = Pipeline.get(this._pipeline);\n            if (!pipeline)\n                return;\n            let timeStamp = (ev.timeStamp !== undefined && ev.timeStamp !== null) ? ev.timeStamp : performance.now();\n            if (ev.accelerationIncludingGravity !== null &&\n                ev.accelerationIncludingGravity.x !== null &&\n                ev.accelerationIncludingGravity.y !== null &&\n                ev.accelerationIncludingGravity.z !== null) {\n                pipeline.motionAccelerometerSubmit(timeStamp, ev.accelerationIncludingGravity.x * profile.deviceMotionMutliplier, ev.accelerationIncludingGravity.y * profile.deviceMotionMutliplier, ev.accelerationIncludingGravity.z * profile.deviceMotionMutliplier);\n            }\n            if (ev.rotationRate !== null &&\n                ev.rotationRate.alpha !== null &&\n                ev.rotationRate.beta !== null &&\n                ev.rotationRate.gamma !== null && !this._hasStartedOrientation) {\n                ev.timeStamp;\n                pipeline.motionRotationRateSubmit(timeStamp, ev.rotationRate.alpha * Math.PI / -180.0, ev.rotationRate.beta * Math.PI / -180.0, ev.rotationRate.gamma * Math.PI / -180.0);\n            }\n            else if (!this._hasStartedOrientation) {\n                this._startDeviceOrientation();\n            }\n        };\n        zcout(\"Using MSTP camera source\");\n    }\n    destroy() {\n        this.pause();\n        deleteCameraSource(this._impl);\n    }\n    _stop() {\n        if (!this._currentStream)\n            return;\n        let tracks = this._currentStream.getTracks();\n        tracks.forEach(t => t.stop());\n        this._currentStream = null;\n    }\n    pause() {\n        this._isPaused = true;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource === this)\n            p.currentCameraSource = undefined;\n        this._stopDeviceMotion();\n        this._syncCamera();\n    }\n    start() {\n        var _a;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource !== this) {\n            (_a = p.currentCameraSource) === null || _a === void 0 ? void 0 : _a.pause();\n            p.currentCameraSource = this;\n        }\n        this._isPaused = false;\n        this._startDeviceMotion();\n        this._syncCamera();\n    }\n    _getConstraints() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let deviceId;\n            let facingMode;\n            if (this._deviceId !== MSTPCameraSource.DEFAULT_DEVICE_ID &&\n                this._deviceId !== MSTPCameraSource.USER_DEFAULT_DEVICE_ID) {\n                // Custom device\n                deviceId = this._deviceId;\n            }\n            else {\n                facingMode = (this._deviceId === MSTPCameraSource.DEFAULT_DEVICE_ID) ? \"environment\" : \"user\";\n            }\n            let constraints = {\n                audio: false,\n                video: {\n                    facingMode: facingMode,\n                    width: profile.videoWidth,\n                    height: profile.videoHeight,\n                    frameRate: profile.requestHighFrameRate ? 60 : 30,\n                    deviceId: deviceId\n                }\n            };\n            if (deviceId)\n                return constraints;\n            if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)\n                return constraints;\n            let devices = yield navigator.mediaDevices.enumerateDevices();\n            let hasHadCapabilities = false;\n            devices = devices.filter(val => {\n                // Remove non-video devices\n                if (val.kind !== \"videoinput\")\n                    return false;\n                // If the media info object contains capabilities, use it to filter to the correct facing cameras\n                if (val.getCapabilities) {\n                    hasHadCapabilities = true;\n                    let capabilities = val.getCapabilities();\n                    if (capabilities && capabilities.facingMode && capabilities.facingMode.indexOf(facingMode === \"user\" ? \"user\" : \"environment\") < 0)\n                        return false;\n                }\n                return true;\n            });\n            // If none of the devices had capability info, or we have no devices left, fall back to the standard constraints\n            if (!hasHadCapabilities || devices.length === 0) {\n                return constraints;\n            }\n            if (typeof constraints.video === \"object\") {\n                zcout(\"choosing device ID\", devices[devices.length - 1].deviceId);\n                constraints.video.deviceId = devices[devices.length - 1].deviceId;\n            }\n            return constraints;\n        });\n    }\n    getFrame(allowRead) {\n        var _a, _b;\n        let rotation = cameraRotationForScreenOrientation(false);\n        if (rotation != this._cameraToScreenRotation) {\n            (_b = (_a = Pipeline.get(this._pipeline)) === null || _a === void 0 ? void 0 : _a.sendCameraToScreenRotationToWorker) === null || _b === void 0 ? void 0 : _b.call(_a, rotation);\n            this._cameraToScreenRotation = rotation;\n        }\n        return;\n    }\n    _getUserMedia() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let constraints = yield this._getConstraints();\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)\n                return yield navigator.mediaDevices.getUserMedia(constraints);\n            return yield new Promise((resolve, reject) => {\n                navigator.getUserMedia(constraints, resolve, reject);\n            });\n        });\n    }\n    _syncCamera() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._currentStream && this._isPaused) {\n                this._stop();\n                return;\n            }\n            if (this._currentStream && this._activeDeviceId !== this._deviceId)\n                this._stop();\n            if (!this._isPaused) {\n                this._activeDeviceId = this._deviceId;\n                this._currentStream = yield this._getUserMedia();\n                if (this._isPaused) {\n                    yield this._syncCamera();\n                    return;\n                }\n                this._isUserFacing = false;\n                if (this._currentStream) {\n                    let videoTracks = this._currentStream.getVideoTracks();\n                    if (videoTracks.length > 0) {\n                        this._isUserFacing = videoTracks[0].getSettings().facingMode === \"user\";\n                        let processor = new MediaStreamTrackProcessor({\n                            track: videoTracks[0]\n                        });\n                        let p = Pipeline.get(this._pipeline);\n                        if (p)\n                            p.sendCameraStreamToWorker(this._impl, processor.readable, this._isUserFacing);\n                    }\n                }\n            }\n        });\n    }\n    _startDeviceOrientation() {\n        if (this._hasStartedOrientation)\n            return;\n        this._hasStartedOrientation = true;\n        window.addEventListener(\"deviceorientation\", (ev) => {\n            let pipeline = Pipeline.get(this._pipeline);\n            if (!pipeline)\n                return;\n            let timeStamp = (ev.timeStamp !== undefined && ev.timeStamp !== null) ? ev.timeStamp : performance.now();\n            if (ev.alpha === null || ev.beta === null || ev.gamma === null)\n                return;\n            pipeline.motionAttitudeSubmit(timeStamp, ev.alpha, ev.beta, ev.gamma);\n        });\n    }\n    _startDeviceMotion() {\n        window.addEventListener(\"devicemotion\", this._deviceMotionListener, false);\n    }\n    _stopDeviceMotion() {\n        window.removeEventListener(\"devicemotion\", this._deviceMotionListener);\n    }\n    uploadGL(info) {\n        const pipeline = Pipeline.get(this._pipeline);\n        const gl = pipeline === null || pipeline === void 0 ? void 0 : pipeline.glContext;\n        if (!info ||\n            info.texture ||\n            !info.frame ||\n            !pipeline ||\n            !gl)\n            return;\n        let texture = pipeline.getVideoTexture();\n        if (!texture)\n            return;\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, info.frame);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        info.texture = texture;\n        info.frame.close();\n        delete info.frame;\n    }\n}\nMSTPCameraSource.USER_DEFAULT_DEVICE_ID = \"Simulated User Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b\";\nMSTPCameraSource.DEFAULT_DEVICE_ID = \"Simulated Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b\";\n", "import { CameraSource } from \"./camera-source\";\nimport { ImageBitmapCameraSource } from \"./imagebitmap-camera-source\";\nimport { zcout } from \"./loglevel\";\nimport { MSTPCameraSource } from \"./mstp-camera-source\";\nimport { profile } from \"./profile\";\nlet latest = 1;\nlet byId = new Map();\nexport function getNextCameraSourceId() {\n    return (latest++);\n}\nexport function setCameraSourceId(id, c) {\n    byId.set(id, c);\n}\nexport function getCameraSource(id) {\n    return byId.get(id);\n}\nexport function deleteCameraSource(id) {\n    byId.delete(id);\n}\nexport function createCameraSource(p, deviceId) {\n    let ret = getNextCameraSourceId();\n    if (profile.preferMediaStreamTrackProcessorCamera &&\n        'MediaStreamTrackProcessor' in window &&\n        'MediaStreamTrackGenerator' in window)\n        setCameraSourceId(ret, new MSTPCameraSource(ret, p, deviceId));\n    else if (profile.preferImageBitmapCamera && typeof OffscreenCanvas !== \"undefined\")\n        setCameraSourceId(ret, new ImageBitmapCameraSource(ret, p, deviceId));\n    else\n        setCameraSourceId(ret, new CameraSource(ret, p, deviceId));\n    zcout(\"camera_source_t initialized\");\n    return ret;\n}\n", "import { compileShader, linkProgram } from \"./shader\";\nexport class PreviewMeshDraw {\n    constructor(_gl) {\n        this._gl = _gl;\n    }\n    dispose() {\n        if (this._vbo)\n            this._gl.deleteBuffer(this._vbo);\n        if (this._uvbo)\n            this._gl.deleteBuffer(this._uvbo);\n        if (this._ibo)\n            this._gl.deleteBuffer(this._ibo);\n        if (this._shader)\n            this._gl.deleteProgram(this._shader.prog);\n        this._vbo = undefined;\n        this._uvbo = undefined;\n        this._ibo = undefined;\n        this._shader = undefined;\n    }\n    _generateIBO(indices, gl) {\n        if (this._ibo && this._lastIndices === indices)\n            return this._ibo;\n        this._lastIndices = indices;\n        if (!this._ibo)\n            this._ibo = gl.createBuffer();\n        if (!this._ibo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this._ibo);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        return this._ibo;\n    }\n    _generateVBO(face, gl) {\n        if (!this._vbo)\n            this._vbo = gl.createBuffer();\n        if (!this._vbo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, face, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._vbo;\n    }\n    _generateUVBO(face, gl) {\n        if (!this._uvbo)\n            this._uvbo = gl.createBuffer();\n        if (!this._uvbo)\n            throw new Error(\"Unable to create buffer object\");\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._uvbo);\n        gl.bufferData(gl.ARRAY_BUFFER, face, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        return this._uvbo;\n    }\n    draw(matrix, tracker, indx) {\n        var _a;\n        const o = tracker.getPreviewMesh(indx);\n        const image = (_a = tracker.getTargetInfo(indx).preview) === null || _a === void 0 ? void 0 : _a.image;\n        if (!o || !image)\n            return;\n        if (!image.complete)\n            return;\n        let gl = this._gl;\n        let shader = this._getShader(gl);\n        let v = this._generateVBO(o.vertices, gl);\n        let n = this._generateUVBO(o.uvs, gl);\n        let i = this._generateIBO(o.indices, gl);\n        gl.enable(gl.DEPTH_TEST);\n        gl.enable(gl.CULL_FACE);\n        gl.useProgram(shader.prog);\n        gl.uniformMatrix4fv(shader.unif_matrix, false, matrix);\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, loadTexture(gl, image));\n        gl.uniform1i(shader.unif_skinSampler, 0);\n        gl.bindBuffer(gl.ARRAY_BUFFER, v);\n        gl.vertexAttribPointer(shader.attr_position, 3, gl.FLOAT, false, 0, 0);\n        gl.enableVertexAttribArray(shader.attr_position);\n        gl.bindBuffer(gl.ARRAY_BUFFER, n);\n        gl.vertexAttribPointer(shader.attr_textureCoord, 2, gl.FLOAT, false, 0, 0);\n        gl.enableVertexAttribArray(shader.attr_textureCoord);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, i);\n        gl.drawElements(gl.TRIANGLES, o.indices.length, gl.UNSIGNED_SHORT, 0);\n        gl.disableVertexAttribArray(shader.attr_position);\n        gl.disableVertexAttribArray(shader.attr_textureCoord);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    }\n    _getShader(gl) {\n        if (this._shader)\n            return this._shader;\n        let prog = gl.createProgram();\n        if (!prog)\n            throw new Error(\"Unable to create program\");\n        let vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSrc);\n        let fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSrc);\n        gl.attachShader(prog, vertexShader);\n        gl.attachShader(prog, fragmentShader);\n        linkProgram(gl, prog);\n        let unif_matrix = gl.getUniformLocation(prog, \"matrix\");\n        if (!unif_matrix)\n            throw new Error(\"Unable to get uniform location mattrix\");\n        let unif_skinSampler = gl.getUniformLocation(prog, \"skinSampler\");\n        if (!unif_skinSampler)\n            throw new Error(\"Unable to get uniform location skinSampler\");\n        this._shader = {\n            prog,\n            unif_matrix,\n            unif_skinSampler,\n            attr_position: gl.getAttribLocation(prog, \"position\"),\n            attr_textureCoord: gl.getAttribLocation(prog, \"textureCoord\")\n        };\n        return this._shader;\n    }\n}\nconst texturesByElement = new Map();\nfunction loadTexture(gl, elm) {\n    let existing = texturesByElement.get(elm);\n    if (existing)\n        return existing;\n    existing = gl.createTexture() || undefined;\n    if (!existing)\n        throw new Error(\"Unable to create texture\");\n    texturesByElement.set(elm, existing);\n    gl.bindTexture(gl.TEXTURE_2D, existing);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    // Because images have to be download over the internet\n    // they might take a moment until they are ready.\n    // Until then put a single pixel in the texture so we can\n    // use it immediately. When the image has finished downloading\n    // we'll update the texture with the contents of the image.\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, elm);\n    elm.addEventListener(\"load\", () => {\n        if (!existing)\n            return;\n        gl.bindTexture(gl.TEXTURE_2D, existing);\n        const level = 0;\n        const internalFormat = gl.RGBA;\n        const srcFormat = gl.RGBA;\n        const srcType = gl.UNSIGNED_BYTE;\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n        gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, elm);\n    });\n    return existing;\n}\nlet vertexShaderSrc = `\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nattribute vec4 position;\nattribute vec2 textureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vTextureCoord = textureCoord;\n}`;\nlet fragmentShaderSrc = `\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nuniform sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2D(skinSampler, vTextureCoord);\n}`;\n", "import { cameraFrameTextureMatrix, CameraDraw } from \"./drawcamera\";\nimport { mat4 } from \"gl-matrix\";\nimport { cameraRotationForScreenOrientation } from \"./cameramodel\";\nimport { FaceDraw } from \"./drawface\";\nimport { FaceDrawProject } from \"./drawfaceproject\";\nimport { disposeDrawPlane } from \"./drawplane\";\nimport { Event } from \"./event\";\nimport { zcerr } from \"./loglevel\";\nimport { SequenceRecorder } from \"./sequencerecorder\";\nimport { getCameraSource } from \"./camera-source-map\";\nimport { PreviewMeshDraw } from \"./drawpreviewmesh\";\nlet byId = new Map();\nlet identity = mat4.create();\nexport class Pipeline {\n    constructor(_client, _impl, _mgr) {\n        this._client = _client;\n        this._impl = _impl;\n        this._mgr = _mgr;\n        this.pendingMessages = [];\n        this.cameraTokens = new Map();\n        this.nextCameraToken = 1;\n        this.tokensInFlight = 0;\n        this.videoTextures = [];\n        this.cameraPixelArrays = [];\n        this._sequenceRecordDeviceAttitudeMatrices = true;\n        this._sequenceRecorderFirstCameraToken = 0;\n        this.onGLContextReset = new Event();\n    }\n    static create(client, mgr) {\n        let ret = client.pipeline_create();\n        byId.set(ret, new Pipeline(client, ret, mgr));\n        return ret;\n    }\n    static get(p) {\n        return byId.get(p);\n    }\n    frameUpdate(client) {\n        for (let msg of this.pendingMessages) {\n            client.processMessages(msg);\n            this._mgr.postOutgoingMessage({\n                t: \"buf\",\n                p: this._impl,\n                d: msg\n            }, [msg]);\n        }\n        this.pendingMessages = [];\n        this.cleanOldFrames();\n    }\n    cleanOldFrames() {\n        var _a, _b;\n        let currentToken = this._client.pipeline_camera_frame_user_data(this._impl);\n        if (!currentToken)\n            return;\n        for (let t of this.cameraTokens) {\n            if (t[0] < currentToken) {\n                if (t[1].texture)\n                    this.videoTextures.push(t[1].texture);\n                (_b = (_a = t[1].frame) === null || _a === void 0 ? void 0 : _a.close) === null || _b === void 0 ? void 0 : _b.call(_a);\n                this.cameraTokens.delete(t[0]);\n            }\n        }\n    }\n    cameraTokenReturn(msg) {\n        if (this._sequenceRecorder && this._sequenceRecordDeviceAttitudeMatrices\n            && msg.token >= this._sequenceRecorderFirstCameraToken) {\n            let info = this.cameraTokens.get(msg.token);\n            if (info) {\n                if (msg.att)\n                    this._sequenceRecorder.appendAttitudeMatrix(msg.att);\n                info.data = msg.d;\n                this._sequenceRecorder.appendCameraFrame(info);\n            }\n        }\n        this.cameraPixelArrays.push(msg.d);\n        this.tokensInFlight--;\n    }\n    sequenceRecordStart(expectedFrames) {\n        if (!this._sequenceRecorder)\n            this._sequenceRecorder = new SequenceRecorder(expectedFrames);\n        this._sequenceRecorder.start();\n        this._sequenceRecorderFirstCameraToken = this.nextCameraToken;\n    }\n    sequenceRecordStop() {\n        var _a;\n        (_a = this._sequenceRecorder) === null || _a === void 0 ? void 0 : _a.stop();\n    }\n    sequenceRecordData() {\n        var _a;\n        return ((_a = this._sequenceRecorder) === null || _a === void 0 ? void 0 : _a.data()) || new Uint8Array(0);\n    }\n    sequenceRecordClear() {\n        delete this._sequenceRecorder;\n    }\n    sequenceRecordDeviceAttitudeMatrices(v) {\n        this._sequenceRecordDeviceAttitudeMatrices = v;\n    }\n    getVideoTexture() {\n        return this.videoTextures.pop();\n    }\n    destroy() {\n        this._client.pipeline_destroy(this._impl);\n        byId.delete(this._impl);\n    }\n    getCurrentCameraInfo() {\n        let currentToken = this._client.pipeline_camera_frame_user_data(this._impl);\n        if (!currentToken)\n            return undefined;\n        return this.cameraTokens.get(currentToken);\n    }\n    cameraFrameDrawGL(screenWidth, screenHeight, mirror) {\n        if (!this.glContext)\n            return;\n        let token = this.getCurrentCameraInfo();\n        if (!token)\n            return;\n        if (!this._cameraDraw)\n            this._cameraDraw = new CameraDraw(this.glContext);\n        this._cameraDraw.drawCameraFrame(screenWidth, screenHeight, token, mirror === true);\n    }\n    glContextLost() {\n        if (this._cameraDraw)\n            this._cameraDraw.dispose();\n        if (this._faceDraw)\n            this._faceDraw.dispose();\n        if (this._imageTargetPreviewDraw)\n            this._imageTargetPreviewDraw.dispose();\n        if (this._faceProjectDraw)\n            this._faceProjectDraw.dispose();\n        delete this._cameraDraw;\n        delete this._faceDraw;\n        delete this._imageTargetPreviewDraw;\n        delete this._faceProjectDraw;\n        disposeDrawPlane();\n        this.onGLContextReset.emit();\n        for (let tex of this.videoTextures) {\n            if (this.glContext)\n                this.glContext.deleteTexture(tex);\n        }\n        this.videoTextures = [];\n        for (let info of this.cameraTokens) {\n            if (this.glContext && info[1].texture)\n                this.glContext.deleteTexture(info[1].texture);\n            info[1].texture = undefined;\n        }\n        this.glContext = undefined;\n    }\n    glContextSet(gl, texturePool) {\n        this.glContextLost();\n        this.glContext = gl;\n        texturePool = texturePool || [];\n        for (let i = 0; i < 4; i++) {\n            let tex = texturePool[i] || gl.createTexture();\n            if (tex) {\n                gl.bindTexture(gl.TEXTURE_2D, tex);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n                this.videoTextures.push(tex);\n            }\n        }\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n    drawFace(projectionMatrix, cameraMatrix, targetMatrix, o) {\n        if (!this.glContext)\n            return;\n        if (!this._faceDraw)\n            this._faceDraw = new FaceDraw(this.glContext);\n        let mat = mat4.create();\n        mat4.multiply(mat, projectionMatrix, cameraMatrix);\n        mat4.multiply(mat, mat, targetMatrix);\n        this._faceDraw.drawFace(mat, o);\n    }\n    drawImageTargetPreview(projectionMatrix, cameraMatrix, targetMatrix, indx, o) {\n        if (!this.glContext)\n            return;\n        if (!this._imageTargetPreviewDraw)\n            this._imageTargetPreviewDraw = new PreviewMeshDraw(this.glContext);\n        let mat = mat4.create();\n        mat4.multiply(mat, projectionMatrix, cameraMatrix);\n        mat4.multiply(mat, mat, targetMatrix);\n        this._imageTargetPreviewDraw.draw(mat, o, indx);\n    }\n    drawFaceProject(matrix, vertices, uvMatrix, uvs, indices, texture) {\n        if (!this.glContext)\n            return;\n        if (!this._faceProjectDraw)\n            this._faceProjectDraw = new FaceDrawProject(this.glContext);\n        this._faceProjectDraw.drawFace(matrix, vertices, uvMatrix, uvs, indices, texture);\n    }\n    cameraFrameTexture() {\n        var _a;\n        return (_a = this.getCurrentCameraInfo()) === null || _a === void 0 ? void 0 : _a.texture;\n    }\n    cameraFrameTextureMatrix(sw, sh, mirror) {\n        let info = this.getCurrentCameraInfo();\n        if (!info)\n            return mat4.create();\n        return cameraFrameTextureMatrix(info.dataWidth, info.dataHeight, sw, sh, info.uvTransform || identity, mirror);\n    }\n    cameraFrameUserFacing() {\n        var _a;\n        return ((_a = this.getCurrentCameraInfo()) === null || _a === void 0 ? void 0 : _a.userFacing) || false;\n    }\n    cameraPoseWithAttitude(mirror) {\n        let res = applyScreenCounterRotation(this.getCurrentCameraInfo(), this._client.pipeline_camera_frame_camera_attitude(this._impl));\n        if (mirror) {\n            let scale = mat4.create();\n            mat4.fromScaling(scale, [-1, 1, 1]);\n            mat4.multiply(res, scale, res);\n            mat4.multiply(res, res, scale);\n        }\n        mat4.invert(res, res);\n        return res;\n    }\n    videoFrameFromWorker(msg) {\n        let tokenId = this.nextCameraToken++;\n        const cameraSource = getCameraSource(msg.source);\n        if (!cameraSource)\n            return;\n        this.cameraTokens.set(tokenId, {\n            dataWidth: msg.w,\n            dataHeight: msg.h,\n            texture: undefined,\n            frame: msg.d,\n            userFacing: msg.userFacing,\n            uvTransform: msg.uvTransform,\n            cameraModel: msg.cameraModel,\n            cameraToDevice: msg.cameraToDevice,\n            cameraSource\n        });\n        this.cleanOldFrames();\n    }\n    imageBitmapFromWorker(msg) {\n        let data = this.cameraTokens.get(msg.tokenId);\n        if (!data)\n            return;\n        data.dataWidth = msg.dataWidth;\n        data.dataHeight = msg.dataHeight;\n        data.frame = msg.frame;\n        data.userFacing = msg.userFacing;\n        data.uvTransform = msg.uvTransform;\n        this.tokensInFlight--;\n        this.cleanOldFrames();\n    }\n    uploadGL() {\n        var _a, _b;\n        let info = this.getCurrentCameraInfo();\n        (_b = (_a = info === null || info === void 0 ? void 0 : info.cameraSource) === null || _a === void 0 ? void 0 : _a.uploadGL) === null || _b === void 0 ? void 0 : _b.call(_a, info);\n    }\n    registerToken(info) {\n        let tokenId = this.nextCameraToken++;\n        this.cameraTokens.set(tokenId, info);\n        this.tokensInFlight++;\n        return tokenId;\n    }\n    processGL() {\n        if (!this.glContext) {\n            zcerr(\"no GL context for camera frames - please call pipeline_gl_context_set\");\n            return;\n        }\n        if (!this.currentCameraSource)\n            return;\n        if (this.tokensInFlight > 0) {\n            this.currentCameraSource.getFrame(true);\n            return;\n        }\n        this.currentCameraSource.getFrame(false);\n    }\n    motionAccelerometerSubmit(timestamp, x, y, z) {\n        var _a;\n        if (!this._sequenceRecordDeviceAttitudeMatrices)\n            (_a = this._sequenceRecorder) === null || _a === void 0 ? void 0 : _a.appendAccelerometer(timestamp, x, y, z);\n        this._client.pipeline_motion_accelerometer_submit(this._impl, timestamp, x, y, z);\n    }\n    motionRotationRateSubmit(timestamp, x, y, z) {\n        var _a;\n        if (!this._sequenceRecordDeviceAttitudeMatrices)\n            (_a = this._sequenceRecorder) === null || _a === void 0 ? void 0 : _a.appendRotationRate(timestamp, x, y, z);\n        this._client.pipeline_motion_rotation_rate_submit(this._impl, timestamp, x, y, z);\n    }\n    motionAttitudeSubmit(timestamp, x, y, z) {\n        var _a;\n        if (!this._sequenceRecordDeviceAttitudeMatrices)\n            (_a = this._sequenceRecorder) === null || _a === void 0 ? void 0 : _a.appendAttitude(timestamp, x, y, z);\n        this._client.pipeline_motion_attitude_submit(this._impl, timestamp, x, y, z);\n    }\n    motionAttitudeMatrix(m) {\n        // This doesn't need to be added to the sequence since that's done on frame update instead\n        this._client.pipeline_motion_attitude_matrix_submit(this._impl, m);\n    }\n    sendCameraStreamToWorker(source, stream, userFacing) {\n        let msg = {\n            t: \"streamC2S\",\n            p: this._impl,\n            s: stream,\n            userFacing,\n            source\n        };\n        this._mgr.postOutgoingMessage(msg, [msg.s]);\n    }\n    sendCameraToScreenRotationToWorker(rot) {\n        let msg = {\n            p: this._impl,\n            t: \"cameraToScreenC2S\",\n            r: rot\n        };\n        this._mgr.postOutgoingMessage(msg, []);\n    }\n    sendImageBitmapToWorker(img, rot, userFacing, tokenId, cameraModel, cameraToDevice) {\n        let msg = {\n            p: this._impl,\n            t: \"imageBitmapC2S\",\n            i: img,\n            r: rot,\n            tokenId,\n            userFacing,\n            cameraModel,\n            cameraToDevice\n        };\n        this._mgr.postOutgoingMessage(msg, [img]);\n    }\n    sendDataToWorker(data, token, width, height, userFacing, cameraToDevice, cameraModel) {\n        let msg = {\n            d: data,\n            p: this._impl,\n            width, height, token, userFacing,\n            c2d: cameraToDevice,\n            cm: cameraModel,\n            t: \"cameraFrameC2S\"\n        };\n        this._mgr.postOutgoingMessage(msg, [data]);\n    }\n}\nexport function applyScreenCounterRotation(info, inp) {\n    let userFacing = false;\n    userFacing = info ? info.userFacing : false;\n    let mult = mat4.create();\n    mat4.fromRotation(mult, cameraRotationForScreenOrientation(userFacing) * Math.PI / 180.0, [0, 0, 1]);\n    mat4.multiply(mult, mult, inp);\n    return mult;\n}\n", "export const landmarkData = { 0: [{ mean: [0.235, 0.2344, 0.7305], identity: [0.008, 0.0087, 0.0024, -0.0026, 0.0006, -0.0022, 0.0005, 0.0033, 0.0026, 0.0017, -0.0055, -0.0008, 0.0011, 0.0059, 0, 0.0002, 0.001, -0.001, -0.0044, -0.0011, -0.0001, 0.0024, 0.0019, -0.0009, 0.0004, -0.0015, 0, 0.0038, 0.0013, 0.0003, 0.002, -0.0021, 0.0018, 0.0023, 0.0011, 0.0012, -0.0011, -0.0017, 0.0009, -0.0012, -0.0008, 0.0007, -0.0017, 0.0029, -0.0029, 0.0008, -0.0027, 0.0008, -0.0017, 0.0004, 0.0009, -0.001, -0.0003, 0.0008, -0.0016, -0.0003, -0.0007, 0.0016, -0.0009, 0.0021, -0.0005, 0.0011, -0.0024, -0.0001, 0.0006, 0.0001, -0.0026, -0.0004, -0.0003, -0.0009, 0.0005, 0.0003, -0.0008, -0.001, -0.0004, -0.0008, 0.0022, -0.0014, -0.0001, -0.0023, 0, -0.0018, 0.0007, -0.0036, 0.0017, 0.0017, -0.0018, -0.0002, -0.0004, -0.0009, -0.0008, 0.0003, 0.0012, 0.0009, -0.0004, -0.0016, 0.0005, -0.0013, 0.0011, 0.0023, 0.0029, 0.0024, 0.0017, -0.0027, -0.0004, -0.001, -0.0018, -0.0015, -0.001, 0.001, -0.0013, -0.0001, -0.0002, 0.0007, 0.0003, 0.0003, -0.0016, 0.0009, -0.0021, 0.0004, 0.0014, 0.002, -0.0007, -0.0004, 0.0002, -0.0004, -0.0006, -0.0009, 0.0015, 0.0004, -0.0004, 0.0005, -0.0015, 0.0009, 0.0003, 0.0003, -0.0002, -0.0008, -0.0009, 0.0023, 0.0004, 0.0001, -0.0004, -0.0001, 0.0007, 0.0002, 0.001, 0.0001, -0.0029, -0.0005], expression: [0, 0.0003, 0.0052, -0.0007, -0.0051, -0.0103, 0, 0.0019, 0.0027, -0.0054, 0.0135, 0.035, -0.0005, -0.0006, 0.0025, -0.0045, -0.0557, -0.003, -0.0191, -0.1199, 0.0548, -0.0036, -0.0682, -0.0167, 0.0002, -0.0085, -0.0085, 0.0044, 0.0041, -0.0568, 0.0044, 0.179, 0.0065, -0.0017, -0.1006, 0.0036, -0.0267, -0.3279, 0.0301, -0.0011, -0.0173, -0.001, 0.0046, 0.2808, 0.0207, 0.0162, 0.238, -0.0225, 0.0017, 0.1041, 0.0203, 0.0005, 0.0161, 0.0031, -0.0436, 0.6504, 0.0873, -0.0099, 0.1039, 0.0048, -0.0254, 0.2534, -0.0042, 0.003, -0.0106, -0.0153, -0.0118, 0.0252, 0.0009, -0.0071, 0.0099, 0.007, -0.0724, 0.0461, -0.0235, 0.0833, 0.004, 0.0141, -0.0219, 0.0132, -0.0042, -0.0179, 0.0045, -0.0215, 0.3638, 0.0054, -0.0445] }, { mean: [0.2358, 0.1466, 0.7183], identity: [0.0077, 0.0093, 0.0001, -0.0022, 0, -0.0041, 0.0005, 0.0022, 0.0028, 0.0018, -0.0038, -0.0013, 0.001, 0.0044, -0.0002, 0, 0.0017, -0.0016, -0.0043, -0.0002, -0.0001, 0.0023, 0.0009, 0.0005, -0.0007, -0.0004, -0.0017, 0.003, 0.0007, 0.0006, 0.0011, -0.0018, 0.0005, 0.0018, -0.0008, 0.0004, -0.0023, -0.0006, -0.0003, -0.0015, -0.0014, -0.0001, -0.0018, 0.0027, -0.0026, 0.0003, -0.0031, 0.0011, -0.0026, -0.0011, 0.0012, -0.0013, -0.0002, 0.0007, -0.0021, 0.0021, 0.0004, 0.0012, -0.001, 0.002, -0.0003, 0.0002, -0.0026, -0.0003, 0.001, 0.0001, -0.0018, -0.001, 0.0009, -0.0011, 0.001, 0.0004, -0.0008, -0.0007, -0.001, -0.0003, 0.0007, -0.0005, -0.0006, -0.0019, -0.0005, -0.002, 0.0007, -0.0027, 0.0014, 0.0013, 0.0006, -0.0005, -0.0003, -0.0003, -0.001, 0, 0.0019, 0.0001, 0.0006, -0.0012, 0.0004, -0.0009, 0.0004, 0.0025, 0.0003, 0.0024, 0.0017, -0.0009, -0.0015, -0.0015, -0.001, -0.0023, -0.001, -0.0005, -0.0004, 0.0008, 0.0009, 0.0007, 0.0002, 0.0007, -0.0009, 0.0009, -0.0013, 0.0001, 0.0009, 0.0002, 0.0006, -0.0006, -0.0008, -0.0004, -0.0007, 0.0008, 0.0019, 0.0003, 0.0015, 0.0002, -0.0015, -0.0003, 0, 0.0006, 0.0003, 0.0006, -0.0006, 0.0002, 0.0005, -0.0004, 0.0012, -0.0004, 0.0002, -0.0008, 0.0006, -0.0004, 0.0002, -0.0021], expression: [-0.0034, 0.0054, 0.0069, 0.004, 0.0006, -0.0104, -0.0003, 0.0036, 0.0025, 0.0065, 0.0296, 0.0208, -0.0009, 0.0154, 0.0029, -0.0167, 0.0124, 0.004, -0.0102, 0.0351, 0.028, -0.019, 0.0146, -0.0035, -0.0023, -0.0069, -0.0051, -0.01, 0.0262, -0.028, 0.0112, 0.082, 0.023, -0.0019, -0.066, -0.0104, -0.0408, 0.0164, 0.0075, -0.0074, 0.0367, 0.0041, 0.0517, -0.0207, 0.0045, 0.0291, -0.0672, -0.0129, 0.0345, -0.1558, -0.0106, 0.0037, -0.0437, -0.0021, 0.0854, -0.1121, 0.0187, 0.0041, 0.0072, 0.0011, 0.0193, -0.0143, -0.0119, 0.005, -0.02, -0.0122, -0.008, 0.0527, 0.0036, -0.006, 0.0222, 0.007, -0.0429, 0.046, -0.0046, 0.0226, -0.0059, 0.0202, -0.0173, 0.0087, 0, -0.0067, -0.0095, -0.0153, 0.1506, -0.0017, 0.0021] }], 1: [{ mean: [-0.2271, 0.2323, 0.7319], identity: [-0.0084, 0.0097, 0.0018, 0.0041, 0.0002, -0.002, -0.0012, 0.0036, 0.0019, -0.0009, -0.0063, -0.001, -0.0003, 0.0053, 0.0006, 0.0001, 0.0005, -0.0015, 0.0044, -0.0025, -0.0015, -0.002, 0.0016, -0.0006, 0.0002, -0.0013, 0, -0.0022, 0.0002, 0.0002, -0.0025, -0.0014, 0.0015, 0.0008, 0.0002, 0.0012, 0.0006, -0.0006, 0.0017, 0, 0.0003, -0.0001, 0.0024, 0.0025, -0.0029, -0.0015, -0.0015, 0.0001, 0.0031, -0.0016, 0.0007, 0.0019, 0.0006, 0.002, 0.0009, 0.001, -0.0014, -0.002, -0.0015, 0.0029, 0.0001, 0.0005, -0.0023, 0.0008, -0.0011, 0.0019, 0.0017, -0.0003, -0.0011, -0.0003, 0.0011, -0.0008, 0.0019, -0.0022, 0.0001, 0.0015, 0.0017, -0.0008, -0.0011, -0.0022, 0.0003, 0.0022, 0.0006, -0.003, -0.0002, 0, -0.0017, -0.0002, 0, 0.0001, 0.0004, 0.0012, 0.0019, -0.0014, 0.0004, -0.0017, -0.0012, -0.0011, 0.0021, -0.0029, 0.0026, 0.0018, -0.0023, -0.0029, 0.0001, 0.0014, -0.0019, -0.0004, -0.0004, 0.0023, -0.0016, 0, -0.0009, 0.0014, -0.0015, 0.0015, -0.0016, -0.0011, -0.0022, 0.0001, -0.0018, 0.0027, -0.0013, 0.0004, -0.0001, -0.0005, 0.0011, -0.0002, 0.0015, 0.0005, -0.0009, -0.0001, 0.0029, 0.0006, 0, -0.0003, 0.0007, -0.0008, -0.0005, 0.0025, 0.0003, 0.0002, -0.0008, -0.0001, 0.0003, 0, 0.0014, 0.0002, -0.0024, 0.0001], expression: [-0.0025, -0.0009, 0.006, 0.004, -0.0027, -0.0113, -0.0008, 0.001, 0.0031, -0.0016, 0.0144, 0.0382, -0.0003, -0.0005, 0.0035, -0.0044, -0.0511, -0.0014, -0.0007, -0.1007, 0.0582, -0.0006, -0.0606, -0.0165, 0.0005, -0.0087, -0.0093, 0.0036, 0.0057, -0.0576, -0.0039, 0.1488, 0.0127, 0.0016, -0.0666, -0.0009, -0.0153, 0.3162, -0.0445, -0.0021, 0.0023, 0.0043, -0.0033, 0.2382, 0.0063, -0.0217, 0.167, -0.039, 0.0097, -0.1144, -0.0189, -0.0145, 0.6831, 0.0632, -0.0012, -0.1959, -0.0133, 0.0004, 0.1108, -0.0003, 0.0062, 0.2593, -0.0161, -0.0018, -0.0051, -0.012, 0.0162, 0.016, -0.0022, -0.0052, -0.0201, 0.0101, 0.0115, 0.0365, -0.024, -0.0059, 0.0188, -0.0336, 0.0352, 0.0224, -0.0229, 0.0146, 0.0086, -0.0273, -0.0032, 0.0103, -0.0112] }, { mean: [-0.2288, 0.1541, 0.7202], identity: [-0.0082, 0.0101, 0.0002, 0.0036, -0.0007, -0.0037, -0.0008, 0.0024, 0.0022, -0.0013, -0.0045, -0.0013, -0.0006, 0.0045, -0.0004, 0.0004, 0.0012, -0.0014, 0.0042, -0.001, -0.0007, -0.0019, 0.0003, -0.0002, 0.0012, -0.0004, -0.0012, -0.0018, -0.0004, -0.0001, -0.0014, -0.0012, 0.0001, 0.0001, -0.0017, 0.001, 0.0015, -0.0001, 0.0006, 0.0001, 0, -0.0006, 0.0028, 0.0021, -0.0025, -0.002, -0.0015, 0.0007, 0.0028, -0.0023, 0.0009, 0.0013, 0.0001, 0.0016, 0.0012, 0.0032, -0.0006, -0.0013, -0.0011, 0.0021, 0.0003, -0.0005, -0.0024, 0.0004, -0.0004, 0.0014, 0.0015, -0.0008, -0.0003, 0.0003, 0.0017, -0.0006, 0.002, -0.0018, -0.0003, 0.0009, 0.0001, 0.0002, -0.0006, -0.0015, -0.0004, 0.0022, 0.0007, -0.0023, 0, -0.0002, -0.0002, -0.0003, -0.0001, 0.0006, -0.0002, 0.0006, 0.0022, -0.0003, 0.0013, -0.0014, -0.0005, -0.0003, 0.0013, -0.0027, 0.0006, 0.0025, -0.0023, -0.0008, -0.0013, 0.0017, -0.0009, -0.0019, 0.0001, 0.0008, -0.0007, -0.0004, 0, 0.001, -0.001, 0.0019, -0.0008, -0.0015, -0.0006, -0.0002, -0.0011, 0.0008, 0.0001, 0.0009, -0.0008, -0.0004, 0.0006, 0.0007, 0.0021, -0.0004, 0.0007, -0.0005, 0.0021, -0.0007, -0.0004, -0.0009, 0.0008, 0.0003, 0.0001, 0.0003, 0.0001, 0.0009, 0.001, -0.0005, 0.0005, -0.001, 0.001, 0.0004, -0.0005, -0.0012], expression: [0.0008, 0.0037, 0.0078, -0.0004, 0.0005, -0.012, -0.0002, -0.0046, 0.0033, -0.0089, 0.0295, 0.0221, -0.0024, -0.0084, 0.0013, 0.0057, 0.0125, 0.0049, -0.0036, 0.0373, 0.0285, 0.0115, 0.0135, -0.0035, 0.0048, 0.0108, -0.0033, 0.0106, 0.0281, -0.0301, -0.0082, 0.0803, 0.0244, -0.0007, -0.0725, -0.0105, -0.0247, -0.0036, -0.0143, -0.0045, -0.029, 0.0002, -0.0303, 0.0093, -0.0021, -0.0196, -0.0754, -0.0211, 0.0326, 0.1246, 0.006, -0.0804, -0.1499, 0.0109, 0.0182, -0.0029, -0.0014, -0.0035, 0.0072, -0.0008, -0.0152, -0.0108, -0.0166, -0.0073, -0.0144, -0.0095, 0.0101, 0.047, -0.0018, -0.004, -0.0189, 0.0027, 0.0104, 0.0298, -0.0042, -0.0096, 0.0191, -0.0217, 0.0228, 0.0226, -0.0105, 0.0047, -0.0048, -0.0172, 0.0061, -0.0043, -0.0016] }], 2: { mean: [0.5396, 0.2028, 0.2496], identity: [0.0204, 0.0146, -0.0182, -0.0052, 0.0158, -0.0038, -0.0025, -0.0108, -0.006, 0.0085, -0.0044, 0.0029, 0.0042, 0.001, 0.0095, 0.0015, -0.0034, -0.0064, -0.0057, 0.0007, 0.0026, 0.0007, 0.0037, -0.0006, 0.0037, 0.0026, 0.0024, 0.0005, -0.0019, -0.0013, 0.003, -0.0028, 0.0018, -0.0009, 0.002, -0.0047, 0.004, -0.003, 0.0031, -0.0027, -0.0026, -0.0017, 0.0016, 0.0014, -0.0004, 0.0021, -0.002, 0, 0.0017, 0.0007, -0.0004, -0.0007, -0.0018, -0.0009, 0.0002, -0.0012, 0.0001, -0.0005, -0.0011, 0.0004, 0.0002, 0.0011, 0.0001, 0.0008, 0.0017, -0.0013, 0.0025, 0.0017, 0.001, 0.0002, 0.0003, 0.0005, -0.0004, -0.0001, -0.0005, 0.0007, -0.0022, -0.0029, 0.0006, -0.0008, -0.0006, 0.0006, -0.0005, 0.0005, 0.0013, 0.0003, -0.0005, -0.003, 0.0007, 0.0002, 0.0016, -0.0004, 0, 0, 0.0004, 0.0001, 0.0014, 0.0012, 0.0001, 0.0004, -0.0001, 0.0008, 0.0009, 0.0004, -0.0004, 0.0009, -0.0002, 0.001, 0.0009, 0.0004, 0.0001, 0.0007, 0.0007, 0.001, -0.0017, -0.0008, 0.0002, 0.0017, -0.0003, -0.0001, 0.0004, 0.0005, 0.0007, 0.0005, -0.0001, -0.0006, -0.0001, 0.0001, -0.0003, -0.0007, -0.0002, -0.0005, 0, -0.0003, 0.0003, 0.0008, -0.0002, -0.0003, 0.0005, 0.0001, -0.0007, -0.001, -0.0002, 0.0003, 0.0004, -0.0001, 0.0007, 0, 0.0004, 0.0004], expression: [0.0001, -0.0004, 0.0001, 0, 0.0005, 0.0002, 0, 0, 0.0003, -0.0002, 0.0003, 0.0005, -0.0001, 0.0002, 0.0008, 0.0001, -0.0002, -0.0005, -0.0003, 0.0006, 0.0005, 0, 0.0001, 0.0002, 0.0001, -0.0001, -0.0006, -0.0002, 0.0005, 0, -0.0004, 0.0004, 0.0016, 0.0004, -0.0004, -0.0015, 0, 0.0001, 0.0001, -0.0003, 0.0003, 0.0019, -0.0002, 0.0007, 0.0004, 0.0004, -0.0008, -0.0015, 0.0013, -0.0016, -0.0069, 0.0004, -0.0006, -0.0019, 0, -0.0001, 0.0005, -0.0003, 0.0002, 0.0014, -0.0003, 0.0006, 0.0011, 0.0004, -0.0003, -0.0032, -0.0006, 0.0008, 0.0025, -0.0003, 0.0003, 0.0015, -0.0001, 0.0001, 0.0003, -0.0001, 0, 0, -0.0003, 0.0004, 0.0019, 0.0001, 0, -0.0008, -0.0001, 0.0001, 0.0005] }, 3: { mean: [-0.5464, 0.2141, 0.26], identity: [-0.0207, 0.0172, -0.0176, 0.0068, 0.0148, -0.0051, 0.0042, -0.0101, -0.0058, -0.0087, -0.0059, 0.0045, -0.0056, 0.0017, 0.0097, -0.0048, -0.004, -0.0044, 0.0019, 0.0002, 0.0041, -0.0052, 0.0041, 0.0002, -0.0027, 0.0006, 0.002, -0.0027, -0.0033, -0.0006, -0.004, 0.0009, -0.0012, -0.0001, -0.0026, 0.0021, -0.003, -0.0025, 0.0052, 0.0025, 0.0022, -0.0001, -0.0008, 0.0013, 0.001, 0.0004, 0.0018, 0.0014, 0.0006, -0.0005, -0.0015, -0.0039, 0.0014, -0.0001, 0.0008, -0.0002, 0.0006, -0.0005, -0.0038, -0.0012, -0.0018, -0.0003, 0.001, 0.0009, 0.0012, 0.0024, -0.0024, -0.0007, -0.0016, -0.0016, 0.0003, -0.001, -0.0014, -0.0014, 0.001, -0.0003, -0.0007, -0.0012, 0.0003, 0.0006, 0.0003, -0.0005, 0.0003, 0.0012, 0.0006, -0.0008, 0.0004, 0.0004, 0.0008, -0.0002, -0.0014, 0.0003, 0, 0.0023, -0.0003, -0.0012, -0.0013, 0.0011, -0.0002, -0.0014, -0.0001, 0.0014, 0, 0.0003, 0.0003, -0.0008, -0.0005, -0.0007, -0.0007, -0.0002, 0.0003, 0.0005, 0.0002, -0.0001, 0.0011, -0.0014, 0.0001, -0.0015, -0.0001, -0.0003, 0, -0.001, -0.0001, -0.0008, 0.0008, -0.0008, -0.0002, -0.0011, -0.0003, -0.0004, 0.0001, -0.0002, 0.0003, -0.0007, 0, 0.0003, 0.0001, -0.0008, 0.0005, 0.0001, 0.0004, 0.0014, -0.0006, -0.001, -0.0003, -0.0002, 0.0001, -0.0001, -0.0001, 0.0007], expression: [-0.0003, -0.0001, 0.0006, 0.0004, 0, -0.0007, 0, -0.0003, -0.0002, -0.0004, 0.0012, 0.0008, 0.0001, -0.0005, -0.0007, -0.0004, 0, 0.0001, -0.0004, 0.0017, 0.0007, 0, 0.0001, 0.0003, 0, 0.0004, 0.0004, 0.0005, 0.0001, -0.001, -0.0007, 0.0022, 0.0026, 0.0005, -0.0024, -0.0023, 0, 0.0001, 0.0003, 0, -0.0013, -0.0015, 0.0006, 0.0014, 0.0008, -0.0002, -0.0025, -0.0023, -0.0003, 0.0049, 0.006, -0.0002, -0.0007, -0.0002, 0, -0.0019, -0.0018, -0.0002, 0.0017, 0.0017, 0.0003, 0.0015, 0.0007, 0.0001, -0.0023, -0.0036, 0.0002, 0.0023, 0.0017, 0, -0.0005, -0.0003, -0.0003, 0.0004, 0.0002, -0.0001, -0.0003, -0.0005, 0.0001, 0.0018, 0.0025, 0.0001, -0.0006, -0.0011, 0, 0.0001, 0.0001] }, 4: { mean: [0.0018, 0.1864, 0.853], identity: [-0.0011, 0.0134, 0.0085, 0.0009, -0.0025, -0.0007, -0.0003, 0.0033, 0.0004, -0.0005, -0.0047, -0.002, 0.0007, 0.0026, -0.0069, -0.0001, 0.0036, 0.0072, 0.0005, -0.0008, -0.0047, 0.0004, -0.0008, -0.001, 0, 0.0002, -0.0036, -0.0002, -0.001, -0.0048, -0.0001, 0.0018, 0.0044, -0.0007, -0.0002, 0.0043, 0.0003, 0.002, -0.0031, 0, -0.0007, 0.0013, 0, 0.0037, 0.0033, -0.0016, -0.0012, 0.002, -0.0001, -0.0027, 0.0051, 0.0005, 0.0008, 0.0007, -0.0017, 0.0054, 0.0023, -0.0003, 0.0032, 0.0001, 0, 0.0007, -0.0005, -0.0011, 0.0002, 0.0008, 0, -0.0033, -0.0008, -0.0007, 0.0007, 0.0033, 0.0005, -0.0003, 0.0029, -0.0001, -0.0024, -0.0011, -0.002, -0.0015, -0.0019, 0.0002, 0.0007, 0.0031, 0.0006, 0.0012, 0, 0, -0.0021, 0, -0.0009, -0.0011, -0.0011, -0.0002, 0.0015, 0.001, 0.0013, 0.0008, 0.001, -0.0003, 0.0009, 0.0027, -0.0002, -0.0011, -0.0011, 0.0006, 0.0007, 0.0002, 0.0001, -0.0005, -0.0022, 0.0011, -0.0014, 0.0009, 0.0003, 0.0002, 0, -0.0006, -0.0004, -0.0011, -0.0007, 0.001, -0.0012, 0.0006, -0.0012, -0.0015, 0.0003, -0.0009, -0.0013, -0.0013, 0.0007, 0.001, -0.0011, -0.0013, 0.0015, 0.0004, 0.0001, 0.0004, -0.0001, -0.0016, -0.0016, 0.0009, -0.0007, -0.0024, 0.0005, -0.0001, -0.0017, -0.0002, 0.0003, -0.0009], expression: [-0.0017, 0.0019, 0.0097, 0.003, -0.0103, -0.0093, 0.0009, 0.0006, 0.0023, -0.0017, -0.0204, 0.0376, 0.0033, -0.0034, 0.0033, -0.0026, -0.0322, 0.0396, -0.0032, -0.0947, 0.0942, -0.0007, -0.0175, 0.0266, -0.001, -0.0006, 0.0016, 0.0025, 0.0157, -0.0142, -0.0022, 0.037, 0.015, 0.0021, -0.0102, -0.0107, 0.0036, 0.0055, -0.0051, 0.0021, 0.0003, -0.0003, 0.0004, -0.0177, 0.0074, -0.0006, -0.0357, 0.0149, -0.0066, 0.0009, 0.0013, -0.0031, 0.0016, 0.0095, 0.002, 0.0052, 0.0035, -0.0003, 0.0053, -0.0082, 0.002, 0.0022, -0.0071, -0.0011, 0.0005, 0.0055, 0.0011, 0.0003, -0.0126, -0.0004, 0.0003, -0.0023, -0.0015, 0.0059, 0.0063, -0.0042, -0.0023, 0.0055, 0.0019, 0.0017, -0.0075, 0.0006, -0.0008, 0.0018, 0.0012, 0.0012, -0.0005] }, 5: { mean: [-0.002, -0.0469, 1.0039], identity: [-0.0017, 0.0018, 0.0156, 0.0006, -0.0038, 0.0005, 0.0004, 0.0013, 0.002, -0.0004, -0.0015, -0.0051, 0.0005, -0.0007, -0.0055, -0.0001, -0.0009, 0.008, -0.0002, 0.0036, -0.0053, 0.0004, -0.0026, -0.0016, 0.0007, 0.0009, -0.009, -0.0003, 0.0007, -0.0084, 0.0015, 0.0021, 0.0032, -0.0015, 0.0018, 0.0046, -0.0003, -0.0004, -0.0001, 0.0008, -0.0044, -0.0007, -0.0008, 0.0007, 0.0048, -0.0024, -0.0003, 0.0024, 0.0002, -0.0051, 0.0058, -0.0006, 0.0028, 0.0018, -0.0021, 0.0035, 0.0057, 0.0011, 0.0065, 0, -0.0002, 0.0011, 0.003, -0.0027, 0.0008, 0.0007, 0.0003, -0.0039, -0.002, -0.0002, -0.0015, 0.0034, 0.0012, -0.0025, 0.0024, -0.0002, 0.0004, -0.0042, -0.0024, -0.001, -0.0023, 0.0016, -0.0007, 0.0039, 0.0001, -0.0005, 0.0018, 0.0003, -0.0002, -0.0009, -0.0015, 0.0003, -0.0007, -0.0001, -0.0002, 0.0023, 0.0032, 0.002, -0.0013, 0.0013, -0.0038, 0.0045, 0.0001, -0.0031, 0.0001, 0.0019, -0.0001, 0.0016, 0.0013, 0, -0.002, 0.0023, 0.0002, 0.0011, 0.0018, -0.0024, 0.0006, -0.0017, 0.002, -0.0008, -0.0021, 0.0007, 0.0011, 0.0008, 0.0004, -0.001, 0.0012, 0.0002, -0.0006, -0.0027, -0.0005, 0.001, -0.0009, 0.0001, -0.0001, 0.0008, -0.0011, 0.0022, -0.001, -0.0005, -0.0011, 0.0016, -0.0015, 0.0008, -0.0003, 0.0009, 0.0013, -0.0007, -0.0007, -0.0002], expression: [-0.0018, -0.0168, 0.0088, 0.0389, 0.1026, 0.0414, 0.2201, -0.0262, -0.0016, -0.0017, 0.0612, -0.0298, -0.0323, 0.0093, 0.0013, -0.005, 0.2207, 0.1315, -0.0004, 0.0858, -0.0303, -0.0133, 0.015, -0.008, 0.1454, 0.0114, 0.0177, -0.0077, 0.1022, 0.0356, -0.0023, 0.1088, 0.0232, 0.003, -0.0706, 0.0347, -0.0001, 0.004, -0.0011, 0.0397, -0.0096, -0.0033, 0.0029, -0.01, -0.0083, -0.0006, -0.0135, 0.0016, -0.0087, -0.0019, 0.0022, -0.004, -0.0087, 0.0105, 0.0008, -0.005, 0.0069, 0.0028, 0.0409, -0.0391, 0.003, 0.0103, 0.0051, 0.0026, 0.0776, -0.0083, -0.0062, -0.0567, 0.0268, 0.0175, 0.0017, 0.0156, -0.0043, 0.0299, -0.0395, -0.0015, 0.0051, -0.0148, 0.0125, 0.0035, 0.0603, 0.0109, -0.0645, -0.0257, 0.002, 0.0006, -0.0008] }, 6: { mean: [-0.0006, -0.1542, 0.8789], identity: [-0.0007, -0.0032, 0.01, 0, -0.0027, 0.0031, 0.0006, 0.0005, -0.0006, -0.0003, 0.0013, -0.0049, -0.0002, -0.002, -0.0046, 0.0008, -0.0011, 0.0054, 0.0002, 0.0043, -0.0027, 0.0003, -0.0022, -0.0019, 0.0008, 0.0032, -0.0069, 0, 0.0004, -0.0071, 0.0016, 0.0027, 0.0039, -0.0017, 0.0009, 0.0031, -0.0001, -0.0005, -0.0004, 0.0007, -0.0026, -0.0012, -0.0005, 0.0006, 0.0002, -0.0014, -0.0013, 0.0019, -0.0002, -0.0053, 0.0031, -0.0006, 0.0016, 0.0023, -0.0013, 0.0021, 0.0029, 0.0008, 0.0052, 0, 0.0004, 0, 0.0037, -0.0026, 0.0003, 0.002, -0.0002, -0.0024, 0.0004, -0.0004, -0.0012, 0.0008, 0.0007, -0.0023, 0.0005, 0, 0.0014, -0.0022, -0.0016, 0, -0.0012, 0.0008, -0.0007, 0.0014, -0.0006, -0.0012, -0.0003, 0.0002, 0.0012, -0.0003, -0.002, -0.0001, 0.0001, -0.0002, -0.0016, 0.0009, 0.002, 0.0019, 0, 0.0006, -0.0022, 0.0016, 0.0001, -0.0017, -0.0013, 0.001, 0.0009, -0.0001, 0.0011, 0.0003, -0.0007, 0.0014, 0.0008, 0.0013, 0.0011, -0.002, 0, -0.0015, 0.0014, 0.001, -0.0015, 0.0007, 0.0003, 0.001, -0.0001, 0.0012, 0.0007, 0.0006, -0.0004, -0.0013, -0.0012, -0.0009, -0.0011, 0.0002, -0.0005, 0.0005, 0.0004, 0.0002, 0.0001, 0, 0.0005, 0.0005, -0.0014, 0.0015, -0.0009, 0.0005, 0.0014, -0.0008, -0.0008, 0.0012], expression: [0.0008, 0.0481, 0.1653, 0.0784, 0.1008, -0.3992, 0.5088, -0.02, 0.0542, 0.001, 0.3723, -0.0151, -0.0986, 0.0283, -0.0033, -0.0121, 0.2634, 0.1202, 0.0036, -0.0529, -0.0245, -0.0297, -0.1085, 0.0495, 0.3264, 0.0083, 0.0004, -0.0314, 0.1459, -0.1142, -0.003, 0.0001, 0.1154, -0.0035, -0.0285, -0.0184, -0.0001, 0.0012, 0.0035, 0.079, -0.0103, 0.0043, 0.011, -0.004, -0.0774, -0.0047, -0.023, 0.0284, -0.0048, -0.001, 0.0149, -0.0039, 0.0046, 0.0528, -0.0006, 0.0063, 0.0376, 0.0096, 0.0558, -0.0295, 0, -0.0311, -0.0634, 0.0062, 0.0176, -0.0154, -0.0109, -0.1149, 0.0192, 0.0326, 0.0121, 0.0237, 0.0034, 0.0262, -0.0778, 0.0014, -0.0045, -0.0203, 0.0077, 0.0588, 0.0575, 0.008, -0.0557, -0.0095, 0.0032, 0.0054, -0.0042] }, 7: { mean: [0.0038, -0.2927, 0.833], identity: [0.0006, -0.0109, 0.0073, -0.0006, -0.0044, 0.0017, -0.0001, -0.0022, -0.0006, -0.0003, 0.0065, -0.0014, -0.0006, -0.0051, -0.0046, 0.0003, -0.0029, 0.003, 0.0002, 0.0038, -0.0006, 0, -0.0012, 0.0006, -0.0004, 0.0053, -0.0075, -0.0002, -0.0007, -0.0063, 0.0014, 0.0026, 0.0019, -0.0022, 0.0018, 0.0028, -0.0001, -0.0012, 0.0011, 0.0009, 0.0019, -0.0019, -0.0001, 0.0012, -0.0022, -0.0003, -0.0012, 0.0004, -0.0008, 0.0003, -0.0003, 0, 0.0017, 0.0021, -0.0004, 0.0012, 0.0022, -0.0003, 0.0026, -0.0003, 0.0004, -0.0026, 0.0032, -0.0019, 0.0003, 0.0015, 0.0001, -0.0015, 0.0013, -0.0001, 0.0001, -0.0029, 0, -0.0002, -0.0028, -0.0007, 0.0019, -0.0003, -0.0002, 0.0012, 0.0009, 0.0004, -0.001, -0.002, -0.0016, 0.0011, -0.0001, 0.0003, 0.0021, 0.0002, -0.0014, -0.0009, -0.0001, 0, -0.0002, -0.001, 0.0015, 0.0018, 0.0001, 0.0007, 0.0008, 0.0017, 0.001, -0.0009, 0.0001, 0.0004, 0.0023, -0.0001, 0.0012, 0.0001, -0.0008, 0.0002, 0.0018, 0.0006, 0.0003, 0.0001, 0.0012, -0.0003, 0.002, -0.0006, 0, -0.0001, -0.0022, 0.0004, 0.0005, 0.0011, 0.0002, -0.0013, -0.0023, 0.0006, 0.0006, -0.0005, -0.0005, 0.0009, 0.0002, 0.0002, 0.0011, -0.0003, 0.0011, 0.0015, 0.0011, 0.0003, 0.0002, 0.0008, -0.0004, -0.0008, 0.0003, 0, 0.0012, -0.0001], expression: [0.026, 0.1107, 0.3257, 0.1917, 0.3206, -1.1348, 1.0791, -0.035, 0.1549, -0.0103, 0.6953, 0.0001, -0.3262, 0.068, 0.0219, -0.0044, 0.3643, 0.2178, 0.0168, -0.2478, -0.1321, -0.0414, -0.3782, -0.0617, 0.5088, -0.0031, -0.0311, -0.0497, 0.0948, -0.385, 0.0148, -0.2224, -0.1415, -0.0074, 0.0863, -0.203, 0.0003, -0.0081, 0.0057, 0.1164, -0.0039, 0.0015, -0.0024, 0.0505, 0.1532, 0.0039, -0.0148, -0.0753, 0.0163, 0.0058, -0.0339, 0.0036, 0.0252, -0.0569, -0.0041, 0.0163, -0.0361, 0.0035, -0.018, 0.1266, 0, -0.0163, -0.0046, 0.0133, -0.1656, 0.2134, 0.0191, 0.0057, 0.0734, 0.0681, 0.0039, -0.0144, 0.029, -0.074, -0.046, 0.0122, 0.0072, -0.0162, -0.0349, -0.1234, 0.0212, -0.0355, 0.0535, 0.1218, 0.0043, -0.024, 0.0016] }, 8: { mean: [-0.0018, -0.3037, 0.8491], identity: [0.0002, -0.0112, 0.0077, -0.0004, -0.0044, 0.0024, 0.0001, -0.0021, -0.0004, -0.0004, 0.0066, -0.002, -0.0004, -0.0052, -0.0044, 0.0003, -0.0032, 0.0039, 0.0004, 0.0042, -0.0003, 0.0002, -0.0012, -0.0002, -0.0002, 0.0052, -0.0083, -0.0001, -0.0008, -0.0056, 0.0017, 0.0024, 0.0019, -0.0023, 0.002, 0.0027, -0.0002, -0.0013, 0.002, 0.0009, 0.0017, -0.0028, -0.0002, 0.0012, -0.0026, 0, -0.0016, 0.0002, -0.0005, 0.0003, -0.001, -0.0001, 0.0016, 0.0016, -0.0003, 0.0012, 0.0012, -0.0003, 0.0027, -0.0003, 0.0003, -0.0026, 0.0037, -0.0017, 0.0001, 0.0016, 0.0001, -0.0015, 0.0024, 0.0001, 0.0002, -0.0039, 0, -0.0003, -0.0033, -0.0006, 0.0017, -0.0004, -0.0004, 0.0012, 0.0018, 0.0002, -0.0012, -0.002, -0.0017, 0.0013, -0.001, 0.0003, 0.0021, 0.0004, -0.0012, -0.0006, -0.0002, 0, -0.0004, -0.0009, 0.0016, 0.0017, 0.0004, 0.0007, 0.0007, 0.001, 0.0009, -0.0008, 0.0005, 0.0005, 0.0023, 0.001, 0.0013, 0.0002, -0.0004, 0.0002, 0.0017, 0.0008, 0.0003, -0.0001, 0.0009, -0.0004, 0.0019, -0.0005, 0.0003, 0, -0.0025, 0.0003, 0.0003, 0.0011, 0.0001, -0.0015, -0.001, 0.0007, 0.0007, -0.0007, -0.0007, 0.0008, 0, 0.0001, 0.0013, -0.0004, 0.0012, 0.0014, 0.0017, 0.0004, 0.0002, 0.0003, -0.0003, -0.0009, 0.0001, 0, 0.001, -0.0004], expression: [-0.0092, 2.8809, 1.416, 0.2018, 1.1982, -0.9351, 1.4492, -0.1902, 0.1749, 0.0305, -0.167, -0.1572, -0.7354, -0.0492, 0.0115, 0.0608, 0.2971, 0.1179, 0.0046, -0.0997, -0.0041, -0.0104, 0.3379, -0.1854, 0.009, 0.0366, -0.0583, 0.0269, -0.0029, -0.4175, -0.0008, 0.1794, 0.0752, -0.0135, 0.1158, 0.1234, 0.0005, 0.003, -0.0032, 0.1034, -0.0504, -0.0055, -0.0076, -0.0772, 0.224, 0.0047, 0.0229, -0.1044, 0.0162, -0.0161, -0.0241, -0.0083, -0.1388, -0.0434, -0.0125, -0.0997, -0.0327, -0.0111, 0.1576, -0.3911, 0.0199, 0.2522, 0.142, 0.0059, -0.0721, -0.0045, 0.031, -0.1136, -0.1685, 0.0641, 0.0142, 0.0312, 0.0426, -0.1366, 0.1011, 0.0101, -0.0157, 0.0018, -0.0103, -0.0344, 0.0907, 0.0016, 0.1168, -0.0806, 0.0104, -0.0057, 0.0111] }, 9: [{ mean: [0.0038, -0.2927, 0.833], identity: [0.0006, -0.0109, 0.0073, -0.0006, -0.0044, 0.0017, -0.0001, -0.0022, -0.0006, -0.0003, 0.0065, -0.0014, -0.0006, -0.0051, -0.0046, 0.0003, -0.0029, 0.003, 0.0002, 0.0038, -0.0006, 0, -0.0012, 0.0006, -0.0004, 0.0053, -0.0075, -0.0002, -0.0007, -0.0063, 0.0014, 0.0026, 0.0019, -0.0022, 0.0018, 0.0028, -0.0001, -0.0012, 0.0011, 0.0009, 0.0019, -0.0019, -0.0001, 0.0012, -0.0022, -0.0003, -0.0012, 0.0004, -0.0008, 0.0003, -0.0003, 0, 0.0017, 0.0021, -0.0004, 0.0012, 0.0022, -0.0003, 0.0026, -0.0003, 0.0004, -0.0026, 0.0032, -0.0019, 0.0003, 0.0015, 0.0001, -0.0015, 0.0013, -0.0001, 0.0001, -0.0029, 0, -0.0002, -0.0028, -0.0007, 0.0019, -0.0003, -0.0002, 0.0012, 0.0009, 0.0004, -0.001, -0.002, -0.0016, 0.0011, -0.0001, 0.0003, 0.0021, 0.0002, -0.0014, -0.0009, -0.0001, 0, -0.0002, -0.001, 0.0015, 0.0018, 0.0001, 0.0007, 0.0008, 0.0017, 0.001, -0.0009, 0.0001, 0.0004, 0.0023, -0.0001, 0.0012, 0.0001, -0.0008, 0.0002, 0.0018, 0.0006, 0.0003, 0.0001, 0.0012, -0.0003, 0.002, -0.0006, 0, -0.0001, -0.0022, 0.0004, 0.0005, 0.0011, 0.0002, -0.0013, -0.0023, 0.0006, 0.0006, -0.0005, -0.0005, 0.0009, 0.0002, 0.0002, 0.0011, -0.0003, 0.0011, 0.0015, 0.0011, 0.0003, 0.0002, 0.0008, -0.0004, -0.0008, 0.0003, 0, 0.0012, -0.0001], expression: [0.026, 0.1107, 0.3257, 0.1917, 0.3206, -1.1348, 1.0791, -0.035, 0.1549, -0.0103, 0.6953, 0.0001, -0.3262, 0.068, 0.0219, -0.0044, 0.3643, 0.2178, 0.0168, -0.2478, -0.1321, -0.0414, -0.3782, -0.0617, 0.5088, -0.0031, -0.0311, -0.0497, 0.0948, -0.385, 0.0148, -0.2224, -0.1415, -0.0074, 0.0863, -0.203, 0.0003, -0.0081, 0.0057, 0.1164, -0.0039, 0.0015, -0.0024, 0.0505, 0.1532, 0.0039, -0.0148, -0.0753, 0.0163, 0.0058, -0.0339, 0.0036, 0.0252, -0.0569, -0.0041, 0.0163, -0.0361, 0.0035, -0.018, 0.1266, 0, -0.0163, -0.0046, 0.0133, -0.1656, 0.2134, 0.0191, 0.0057, 0.0734, 0.0681, 0.0039, -0.0144, 0.029, -0.074, -0.046, 0.0122, 0.0072, -0.0162, -0.0349, -0.1234, 0.0212, -0.0355, 0.0535, 0.1218, 0.0043, -0.024, 0.0016] }, { mean: [-0.0018, -0.3037, 0.8491], identity: [0.0002, -0.0112, 0.0077, -0.0004, -0.0044, 0.0024, 0.0001, -0.0021, -0.0004, -0.0004, 0.0066, -0.002, -0.0004, -0.0052, -0.0044, 0.0003, -0.0032, 0.0039, 0.0004, 0.0042, -0.0003, 0.0002, -0.0012, -0.0002, -0.0002, 0.0052, -0.0083, -0.0001, -0.0008, -0.0056, 0.0017, 0.0024, 0.0019, -0.0023, 0.002, 0.0027, -0.0002, -0.0013, 0.002, 0.0009, 0.0017, -0.0028, -0.0002, 0.0012, -0.0026, 0, -0.0016, 0.0002, -0.0005, 0.0003, -0.001, -0.0001, 0.0016, 0.0016, -0.0003, 0.0012, 0.0012, -0.0003, 0.0027, -0.0003, 0.0003, -0.0026, 0.0037, -0.0017, 0.0001, 0.0016, 0.0001, -0.0015, 0.0024, 0.0001, 0.0002, -0.0039, 0, -0.0003, -0.0033, -0.0006, 0.0017, -0.0004, -0.0004, 0.0012, 0.0018, 0.0002, -0.0012, -0.002, -0.0017, 0.0013, -0.001, 0.0003, 0.0021, 0.0004, -0.0012, -0.0006, -0.0002, 0, -0.0004, -0.0009, 0.0016, 0.0017, 0.0004, 0.0007, 0.0007, 0.001, 0.0009, -0.0008, 0.0005, 0.0005, 0.0023, 0.001, 0.0013, 0.0002, -0.0004, 0.0002, 0.0017, 0.0008, 0.0003, -0.0001, 0.0009, -0.0004, 0.0019, -0.0005, 0.0003, 0, -0.0025, 0.0003, 0.0003, 0.0011, 0.0001, -0.0015, -0.001, 0.0007, 0.0007, -0.0007, -0.0007, 0.0008, 0, 0.0001, 0.0013, -0.0004, 0.0012, 0.0014, 0.0017, 0.0004, 0.0002, 0.0003, -0.0003, -0.0009, 0.0001, 0, 0.001, -0.0004], expression: [-0.0092, 2.8809, 1.416, 0.2018, 1.1982, -0.9351, 1.4492, -0.1902, 0.1749, 0.0305, -0.167, -0.1572, -0.7354, -0.0492, 0.0115, 0.0608, 0.2971, 0.1179, 0.0046, -0.0997, -0.0041, -0.0104, 0.3379, -0.1854, 0.009, 0.0366, -0.0583, 0.0269, -0.0029, -0.4175, -0.0008, 0.1794, 0.0752, -0.0135, 0.1158, 0.1234, 0.0005, 0.003, -0.0032, 0.1034, -0.0504, -0.0055, -0.0076, -0.0772, 0.224, 0.0047, 0.0229, -0.1044, 0.0162, -0.0161, -0.0241, -0.0083, -0.1388, -0.0434, -0.0125, -0.0997, -0.0327, -0.0111, 0.1576, -0.3911, 0.0199, 0.2522, 0.142, 0.0059, -0.0721, -0.0045, 0.031, -0.1136, -0.1685, 0.0641, 0.0142, 0.0312, 0.0426, -0.1366, 0.1011, 0.0101, -0.0157, 0.0018, -0.0103, -0.0344, 0.0907, 0.0016, 0.1168, -0.0806, 0.0104, -0.0057, 0.0111] }], 10: { mean: [-0.007, -0.6338, 0.7695], identity: [0.0001, -0.0296, 0.0089, -0.0006, -0.0073, -0.0065, -0.0001, -0.0029, -0.0031, -0.0002, 0.0128, 0.0065, 0, -0.0116, -0.014, -0.0001, -0.0037, -0.0052, -0.0005, 0.0028, 0.003, -0.0004, 0.0041, 0.0015, 0.0006, 0.0088, -0.0076, -0.0011, -0.0015, -0.0073, 0.0007, -0.0011, 0.0019, -0.0011, -0.0005, 0.0031, -0.0001, -0.0018, 0.0009, 0.0018, 0.0038, 0.0068, -0.0004, -0.0001, 0.0061, 0.0024, 0.0024, -0.0066, -0.0006, 0.0051, 0.0014, 0.002, 0.005, -0.0035, 0.0001, -0.0034, -0.004, -0.0007, 0.001, -0.0008, 0.0001, -0.0005, -0.0021, 0.0002, 0.0045, -0.0043, -0.0012, -0.0024, -0.0014, 0.0006, 0.0034, 0.0027, -0.0008, -0.0053, 0.0014, 0.0001, 0.0013, -0.0018, 0.0006, -0.0015, 0.0029, -0.0002, -0.0035, 0.0001, -0.002, 0.0012, 0.0048, 0.0011, 0.0001, -0.0002, -0.0003, -0.0012, 0.0033, 0.0006, 0.002, -0.0033, 0.0004, 0.0028, 0.0002, 0.0008, -0.0001, -0.0018, 0.0008, 0.0017, 0.0001, 0.0009, 0.0008, 0.0003, 0.0019, -0.001, 0.001, -0.0007, -0.0013, 0, 0.0001, 0.0032, -0.0001, 0.0001, 0.0011, -0.0004, 0.0005, -0.0007, 0.0018, -0.0003, 0.0002, 0.0007, 0.0008, -0.0014, 0.0007, 0.0015, -0.0006, -0.0001, -0.0004, 0.0019, -0.0009, -0.0006, -0.0006, -0.0012, 0.0002, -0.0012, -0.0008, 0.0004, 0.0006, -0.0011, 0.0003, 0.0009, -0.0004, 0.0006, -0.0007, -0.0004], expression: [-0.0603, 2.0527, 1.9014, 0.1025, 0.6143, 0.3804, 0.7881, -0.1023, -0.0764, 0.0454, -0.2487, -0.5073, -0.6704, -0.031, -0.0181, 0.0466, 0.0651, -0.0726, -0.0033, -0.0022, 0.2944, 0.0101, 0.1669, -0.5225, -0.4685, 0.0236, 0.0079, 0.011, 0.2173, 0.4529, 0.0121, -0.2104, -0.0673, 0.0225, -0.4023, 0.0317, -0.0009, 0.0076, -0.0032, 0.0333, 0.0523, 0.0129, -0.001, -0.0319, -0.0139, 0.0015, -0.0044, 0.0247, -0.0005, 0.0161, 0.0061, 0.0074, 0.0776, -0.0176, 0.007, 0.055, -0.017, 0.0052, -0.1819, 0.0294, -0.0161, -0.0337, 0.0226, -0.008, -0.0297, 0.1967, -0.0095, 0.0383, 0.2039, 0.0434, 0.0271, -0.0064, -0.0037, -0.0294, -0.024, 0.0024, -0.0137, -0.0209, -0.0031, 0.0628, 0.1003, -0.0126, -0.056, -0.0097, -0.0012, -0.0041, 0.0162] }, 11: { mean: [0.2505, 0.3833, 0.7793], identity: [0.0098, 0.012, 0.0077, -0.0006, -0.0003, 0, 0.0001, 0.0082, -0.0007, 0.0019, -0.0036, -0.0012, 0.0002, 0.0119, -0.0039, 0.001, 0.0001, 0.0031, -0.0036, -0.0059, -0.0007, 0.0026, 0.0028, -0.0011, 0.0009, -0.0032, 0.0008, 0.0029, 0.0043, 0.0003, 0.0025, -0.0009, 0.0047, 0.0016, 0.0022, 0.0018, -0.001, 0.0025, -0.003, -0.001, 0.0033, 0.0034, 0.0004, -0.0052, 0.0024, -0.0002, 0.001, -0.0014, -0.0006, 0.0038, -0.0015, -0.0006, -0.001, -0.0011, -0.0004, -0.001, 0.0004, -0.0007, 0.0036, -0.0008, -0.0002, -0.0019, 0.0005, 0.0003, -0.0006, -0.0024, -0.0017, -0.0014, 0.0006, -0.0004, -0.0031, -0.0013, -0.0006, 0.0042, 0.0002, -0.0002, -0.002, -0.0003, 0.0008, 0.0018, -0.0005, -0.0006, -0.0002, -0.0006, 0.0025, 0.0019, 0.001, 0.0008, -0.0015, -0.0012, -0.0001, -0.0006, -0.0004, 0.0023, -0.001, 0.0006, -0.0002, -0.001, 0, -0.0009, -0.002, -0.0011, 0.0001, 0, -0.0001, 0.0005, 0.0006, 0.0009, -0.0006, 0.0005, 0.0008, -0.0001, -0.0002, -0.0017, -0.0006, -0.0004, 0.0004, -0.0006, 0.0012, 0.0004, 0.0003, -0.0007, 0.0003, -0.0002, 0.0006, 0.0001, 0.0005, -0.0019, -0.0006, 0.0004, 0.0007, -0.0001, 0.0001, 0.0005, 0.001, -0.0006, -0.002, -0.0007, -0.0005, 0.0005, 0.0003, 0.0007, 0.0014, 0, 0.0005, -0.0005, -0.0002, 0.0003, -0.0006, -0.0001], expression: [-0.0009, -0.0003, 0.0032, -0.003, -0.0034, -0.0031, 0.0014, 0, 0.0004, -0.0139, -0.0764, 0.0275, -0.002, -0.0089, 0.0031, -0.0503, -0.0771, 0.038, -0.1323, -0.3523, 0.1368, -0.0474, -0.0564, 0.0296, -0.0045, 0.007, -0.0013, 0.0153, 0.1259, -0.0464, 0.0866, 0.2175, -0.0786, -0.0413, -0.1248, 0.0448, -0.1777, -0.4607, 0.1782, -0.0005, -0.005, 0.0016, 0.0629, 0.1506, -0.0624, 0.0545, 0.2576, -0.0864, -0.0231, -0.0552, 0.0244, -0.0136, -0.0359, 0.0169, -0.1158, -0.2996, 0.1214, -0.0235, -0.0354, 0.0165, -0.0745, -0.1079, 0.0475, -0.0116, -0.0039, 0.0012, 0.0013, -0.0108, -0.0008, 0.0044, -0.0027, -0.0001, -0.0694, 0.0363, 0.0071, 0.1462, -0.136, 0.0047, 0.009, -0.0177, 0.0038, -0.0271, 0.0118, 0.0011, -0.0399, -0.0111, 0.0123] }, 12: { mean: [-0.2981, 0.3828, 0.7563], identity: [-0.0116, 0.014, 0.0054, 0.0018, 0.0005, 0, -0.0004, 0.0068, -0.0013, -0.0019, -0.0048, -0.0005, 0.0005, 0.0108, -0.0036, -0.0029, -0.0018, 0.0029, 0.0043, -0.0077, 0.0006, -0.0017, 0.002, -0.0011, -0.0014, -0.0035, 0.0015, -0.0024, 0.0011, 0.0004, -0.0048, 0.0002, 0.0029, -0.0001, -0.0001, 0.003, 0.0019, 0.0035, -0.0016, -0.0004, 0.0039, 0.0019, 0.0001, -0.0064, 0.004, 0.0003, 0.002, -0.0021, 0.0017, 0.0011, -0.001, 0.0026, 0.0025, -0.0005, 0.0002, -0.0003, -0.0005, -0.0007, 0.0009, -0.0004, -0.001, -0.0022, 0.001, 0.0009, -0.0014, 0.0007, 0.0011, -0.001, -0.0005, -0.0008, -0.0017, -0.0021, 0.0009, 0.0036, 0.0005, 0.0004, -0.0031, 0.0006, -0.0015, 0.0027, 0.0002, 0.0001, -0.0011, 0.0002, -0.0011, -0.0018, 0.0004, -0.0013, -0.0002, 0.0007, 0.0009, -0.0003, 0.001, -0.0021, 0.0008, 0.0006, -0.0009, 0.0004, -0.0007, 0.0008, -0.002, -0.0013, 0, 0.0007, -0.0012, -0.0001, 0.0014, 0.0014, -0.0001, 0.0013, 0.0006, 0.0006, -0.0014, -0.0015, -0.0009, 0.0001, 0.0001, 0.0009, 0.0007, 0, 0.0001, -0.001, -0.0004, 0, -0.0005, 0.0001, -0.0003, 0.0004, -0.0005, -0.0001, -0.0011, 0.0002, 0, 0.0001, 0.0008, 0.0008, 0, -0.0007, -0.0008, 0, 0.0002, -0.0001, 0.001, 0.0003, 0.0004, -0.0002, 0, 0.0005, 0.0018, -0.0001], expression: [0, -0.0004, 0.0028, 0.0036, -0.0008, -0.0026, -0.0015, -0.0008, 0.0003, 0.0075, -0.0608, 0.025, 0.0019, -0.0076, 0.0033, 0.0379, -0.0437, 0.0335, 0.0964, -0.2452, 0.1233, 0.0368, -0.0251, 0.0253, 0.0033, 0.0097, -0.0021, -0.0095, 0.1171, -0.0475, -0.064, 0.1548, -0.0718, 0.0228, -0.0831, 0.0343, -0.1924, 0.6206, -0.2771, 0.0021, -0.0143, 0.0056, -0.0705, 0.2522, -0.1116, -0.0692, 0.4229, -0.1592, -0.0093, 0.05, -0.0185, 0.0948, -0.3196, 0.1437, -0.0184, 0.0194, -0.0131, 0.0205, -0.0353, 0.0201, 0.0676, -0.135, 0.0672, 0.0137, -0.0311, 0.0118, 0.0003, -0.0077, -0.0002, -0.0151, 0.0004, -0.0058, 0.029, -0.0139, 0.0163, 0.1324, 0.1819, -0.0039, 0.0406, 0.0501, 0.0017, 0.0331, 0.0161, 0.0062, -0.0235, -0.0446, 0.0047] } };\n", "import { mat4 } from \"gl-matrix\";\nimport { landmarkData } from \"./facelandmarkdata\";\nimport { zcout } from \"./loglevel\";\nlet latestFaceLandmark = 1;\nlet faceLandmarkById = new Map();\nexport function createFaceLandmark(n) {\n    let ret = (latestFaceLandmark++);\n    faceLandmarkById.set(ret, new FaceLandmark(n));\n    zcout(\"face_landmark_t initialized\");\n    return ret;\n}\nexport function destroyFaceLandmark(m) {\n    faceLandmarkById.delete(m);\n}\nexport function getFaceLandmark(m) {\n    return faceLandmarkById.get(m);\n}\nexport class FaceLandmark {\n    constructor(_name) {\n        this._name = _name;\n        this.anchor_pose = mat4.create();\n    }\n    _getVertex(identity, expression, data) {\n        let vert = data.mean.slice();\n        for (let i = 0; i < 50; i++) {\n            vert[0] += identity[i] * data.identity[i * 3 + 0];\n            vert[1] += identity[i] * data.identity[i * 3 + 1];\n            vert[2] += identity[i] * data.identity[i * 3 + 2];\n        }\n        for (let i = 0; i < 29; i++) {\n            vert[0] += expression[i] * data.expression[i * 3 + 0];\n            vert[1] += expression[i] * data.expression[i * 3 + 1];\n            vert[2] += expression[i] * data.expression[i * 3 + 2];\n        }\n        return vert;\n    }\n    update(identity, expression, mirrored) {\n        let vert;\n        let data = landmarkData[this._name.toString()];\n        if (!data)\n            return;\n        if (Array.isArray(data)) {\n            vert = this._getVertex(identity, expression, data[0]);\n            let b = this._getVertex(identity, expression, data[1]);\n            vert[0] = 0.5 * (vert[0] + b[0]);\n            vert[1] = 0.5 * (vert[1] + b[1]);\n            vert[2] = 0.5 * (vert[2] + b[2]);\n        }\n        else {\n            vert = this._getVertex(identity, expression, data);\n        }\n        if (mirrored)\n            vert[0] *= -1;\n        mat4.fromTranslation(this.anchor_pose, vert);\n    }\n}\n", "function getUnsupportedMessage() {\n    let ret = document.createElement(\"div\");\n    let idealBrowser = \"a recent web browser\";\n    if (navigator.userAgent.match(/Android/i)) {\n        idealBrowser = \"Chrome for Android\";\n        window.location.href =\n            \"googlechrome://navigate?url=\" + encodeURI(window.location.href);\n        setTimeout(() => {\n            window.location.href =\n                \"samsunginternet://open?url=\" + encodeURI(window.location.href);\n        }, 2000);\n    }\n    else if (navigator.userAgent.match(/iPhone|iPod|iPad/i)) {\n        idealBrowser = \"Safari\";\n        ret.classList.add(\"zee-launcher-browser-safari\");\n    }\n    ret.classList.add(\"zee-launcher-unsupported\");\n    ret.innerHTML = `\n            <style>.zee-launcher-unsupported {\n               display: flex;\n               flex-direction: column;\n               height: 100%;\n               justify-content: center;\n               position: absolute;\n               width: 100%;\n               height: 100%;\n               top: 0;\n               left: 0;\n               align-items: center;\n               }\n               .zee-launcher-browser-logo {\n               background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 210 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cg transform='translate(83 146.5)'%3E%3Cpath d='m55.146 88.785l-32.039-49.472c19.962-24.947 49.904-38.684 80.517-38.81 17.739-0.12642 35.855 4.4246 52.336 13.99 18.2 10.619 32.039 25.874 40.846 43.404l-86.095-4.5511c-24.365-1.4327-47.556 12.347-55.565 35.439zm13.797 16.224c0 19.468 15.684 35.229 35.059 35.229 19.374 0 35.059-15.76 35.059-35.229 0-19.468-15.684-35.229-35.059-35.229-19.374 0-35.059 15.718-35.059 35.229zm132.06-37.588l-58.585 3.034c15.894 18.668 16.145 45.595 2.7678 66.243l-47.01 72.648c19.5 1.0535 39.588-3.2447 57.788-13.864 45.039-26.126 63.282-80.908 45.039-128.06zm-144.93 57.647l-39.126-77.326c-10.694 16.434-16.942 36.156-16.942 57.267 0 52.253 38.078 95.53 87.856 103.2l26.713-52.59c-24.155 4.5511-47.472-8.765-58.501-30.551z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n               width: 211px;\n               height: 211px;\n               margin-bottom: 25%;\n               margin-top: -60px;\n               background-repeat: no-repeat;\n               }\n               .zee-launcher-browser-safari .zee-launcher-browser-logo {\n               background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 211 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cpath d='m180 251.86c0-4.0385 2.9377-7.855 7.2552-7.855 3.9614 0 7.7448 2.8402 7.7448 7.145 0 4.0385-2.8487 7.855-7.1662 7.855-4.0059 0-7.8338-2.9734-7.8338-7.145zm112-0.35503c0 57.728-46.772 104.5-104.5 104.5s-104.5-46.772-104.5-104.5 46.772-104.5 104.5-104.5 104.5 46.772 104.5 104.5zm-12-1c0-51.649-41.851-93.5-93.5-93.5s-93.5 41.851-93.5 93.5 41.851 93.5 93.5 93.5 93.5-41.851 93.5-93.5zm-30.624 40.983c0 1.5095 5.4495 4.2768 6.8328 5.1154-11.486 17.401-29.26 29.938-49.423 34.928l-1.8444-7.757c-0.12576-1.0482-0.79646-1.174-1.7606-1.174-0.79646 0-1.2576 1.174-1.1737 1.7611l1.8444 7.8828c-5.5753 1.174-11.234 1.7611-16.935 1.7611-15.217 0-30.182-4.2768-43.177-12.202 0.71263-1.174 5.1141-7.5474 5.1141-8.4698 0-0.79666-0.71263-1.5095-1.5091-1.5095-1.6348 0-5.1141 6.9603-6.1621 8.344-17.522-11.615-30.182-29.602-35.044-50.148l8.0066-1.761c0.92222-0.25158 1.1737-0.92246 1.1737-1.7611 0-0.79667-1.1737-1.2579-1.8444-1.174l-7.8389 1.803c-1.048-5.3251-1.6348-10.692-1.6348-16.143 0-15.556 4.4015-30.86 12.66-43.984 1.1737 0.71281 6.749 4.5284 7.6712 4.5284 0.79646 0 1.5091-0.58702 1.5091-1.3837 0-1.6353-6.1621-4.7381-7.5455-5.7024 11.821-17.275 29.805-29.728 50.219-34.34l1.7606 7.757c0.25152 0.92246 0.92222 1.174 1.7606 1.174 0.83838 0 1.2576-1.174 1.1737-1.8449l-1.7606-7.6732c5.1141-0.92246 10.312-1.5095 15.552-1.5095 15.552 0 30.727 4.4026 43.973 12.663-0.79646 1.174-4.5273 6.6249-4.5273 7.5474 0 0.79667 0.58687 1.5095 1.3833 1.5095 1.6348 0 4.7369-6.0379 5.5753-7.4216 17.187 11.615 29.469 29.351 34.248 49.561l-6.4975 1.3837c-1.048 0.25158-1.1737 0.92246-1.1737 1.8449 0 0.79667 1.1737 1.2579 1.7606 1.174l6.6232-1.5095c1.048 5.3251 1.6348 10.776 1.6348 16.227 0 15.221-4.1919 30.189-12.073 43.062-1.1737-0.58702-6.0364-4.0672-6.9586-4.0672-0.8803 0-1.5929 0.71281-1.5929 1.5095zm-14.876-98.483c-5.2178 4.88-53.863 49.48-55.228 51.8l-38.772 64.2c5.0974-4.76 53.863-49.6 55.108-51.72l38.892-64.28z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n               }\n               .zee-launcher-unsupported-message {\n               text-align: center;\n               width: 250px;\n               font-family: sans-serif;\n               color: #ffffff;\n               }\n               .zee-launcher-unsupported-message-copy {\n               border: 1px solid #ffffff;\n               border-radius: 5px;\n               margin-top: 10px;\n               }\n               #zee-launcher-unsupported-message-input {\n               border: none;\n               padding: 10px;\n               border-radius: 0px;\n               border-right: 1px solid #344B60;\n               height: 40px;\n               color: #ffffff;\n               background-color: black;\n               box-sizing: border-box;\n               width: calc(100% - 65px);\n               margin-left: 5px;\n               }\n               #zee-launcher-unsupported-message-button {\n               background: none;\n               border: none;\n               outline: none;\n               text-transform: uppercase;\n               color: #ffffff;\n               height: 40px;\n               display: inline-block;\n               width: 59px;\n               }\n               .zee-launcher-unsupported-message-before-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-before-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-after-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-after-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n            </style>\n            <div class=\"zee-launcher-browser-logo\"></div>\n            <div class=\"zee-launcher-unsupported-message\">Open with ${idealBrowser} to access this content.</div>\n            <div class=\"zee-launcher-unsupported-message-before-copy\">\n               <div class=\"zee-launcher-unsupported-message \">Tap below to copy the address for easy pasting into ${idealBrowser}.</div>\n               <div class=\"zee-launcher-unsupported-message-copy\"><input id=\"zee-launcher-unsupported-message-input\" type=\"text/\"><button id=\"zee-launcher-unsupported-message-button\">Copy</button></div>\n            </div>\n            <div class=\"zee-launcher-unsupported-message zee-launcher-unsupported-message-after-copy\">COPIED! Now paste into ${idealBrowser}'s address bar to experience the content.</div>\n    `;\n    let inpElm = ret.querySelector(\"#zee-launcher-unsupported-message-input\") || document.createElement(\"input\");\n    inpElm.value = window.location.href;\n    let btnElm = ret.querySelector(\"#zee-launcher-unsupported-message-button\") || document.createElement(\"button\");\n    let onCopyPressed = () => {\n        if (navigator.userAgent.match(/iPhone|iPod|iPad/i)) {\n            let r = document.createRange();\n            r.selectNodeContents(inpElm);\n            let sel = window.getSelection();\n            if (!sel)\n                return;\n            sel.removeAllRanges();\n            sel.addRange(r);\n            inpElm.setSelectionRange(0, 999999999);\n        }\n        else {\n            inpElm.select();\n        }\n        document.execCommand(\"copy\");\n        inpElm.blur();\n        ret.classList.toggle(\"zee-launcher-unsupported-message-copied\", true);\n    };\n    btnElm.addEventListener(\"click\", onCopyPressed);\n    inpElm.addEventListener(\"click\", onCopyPressed);\n    return ret;\n}\nconst incompatibleUI = () => {\n    const zapparCompatibility = document.createElement(\"div\");\n    zapparCompatibility.append(getUnsupportedMessage());\n    Object.assign(zapparCompatibility.style, {\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0px\",\n        left: \"0px\",\n        zIndex: 1001,\n        backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n        fontFamily: \"sans-serif\",\n        color: \"white\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    });\n    zapparCompatibility.classList.add(\"zee_launcher_compatibility\");\n    document.body.append(zapparCompatibility);\n};\nfunction isSupportedBrowser() {\n    if (typeof Promise !== \"function\")\n        return false;\n    if (typeof WebAssembly !== \"object\")\n        return false;\n    if (!navigator.mediaDevices ||\n        !navigator.mediaDevices.enumerateDevices ||\n        !navigator.mediaDevices.getUserMedia)\n        return false;\n    return true;\n}\nexport default {\n    incompatible: () => !isSupportedBrowser(),\n    incompatible_ui: incompatibleUI,\n};\n", "import { zcerr, zcout } from \"./loglevel\";\nimport { SequenceDecoder, SequenceRecorderPacketType } from \"./sequencerecorder\";\nimport { Source } from \"./source\";\nimport { Pipeline } from \"./pipeline\";\nimport { mat4 } from \"gl-matrix\";\nlet latest = 1;\nlet byId = new Map();\nexport class SequenceSource extends Source {\n    constructor(_impl, _pipeline) {\n        super();\n        this._impl = _impl;\n        this._pipeline = _pipeline;\n        this._packetNumber = 0;\n        this._motionUpdatesQueued = 0;\n        this._motionUpdatesSent = 0;\n        this._minFrameGapMs = 0;\n        this._lastUpdateTime = 0;\n    }\n    static create(p) {\n        let ret = (latest++);\n        byId.set(ret, new SequenceSource(ret, p));\n        zcout(\"sequence_source_source_t initialized\");\n        return ret;\n    }\n    static get(m) {\n        return byId.get(m);\n    }\n    loadFromMemory(data) {\n        try {\n            this._decoder = new SequenceDecoder(data);\n            this._packetNumber = 0;\n            this._lastUpdateTime = 0;\n        }\n        catch (err) {\n            zcerr(\"Unable to decode sequence:\", err);\n        }\n    }\n    maxPlaybackFpsSet(fps) {\n        if (fps <= 0) {\n            this._minFrameGapMs = 0;\n            return;\n        }\n        this._minFrameGapMs = 1000.0 / fps;\n    }\n    setTime(t) {\n        if (t < 0)\n            delete this._time;\n        else\n            this._time = t;\n    }\n    getFrame(currentlyProcessing) {\n        var _a;\n        let pipeline = Pipeline.get(this._pipeline);\n        if (!pipeline)\n            return;\n        if (!this._decoder)\n            return;\n        this._submitMotionUpdates(pipeline);\n        if (this._motionUpdatesQueued > this._motionUpdatesSent)\n            return;\n        if (currentlyProcessing)\n            return;\n        let curTime = (_a = this._time) !== null && _a !== void 0 ? _a : performance.now();\n        if (curTime < this._lastUpdateTime + this._minFrameGapMs)\n            return;\n        if (this._packetNumber >= this._decoder.numberPackets)\n            return;\n        let packet = this._decoder.dataByPacket.get(this._packetNumber);\n        if (packet.type != SequenceRecorderPacketType.CAMERA_FRAME)\n            return;\n        this._packetNumber++;\n        let pixels = pipeline.cameraPixelArrays.pop();\n        while (pixels) {\n            if (pixels.byteLength === packet.greyscale.byteLength)\n                break;\n            pixels = pipeline.cameraPixelArrays.pop();\n        }\n        if (!pixels) {\n            pixels = new ArrayBuffer(packet.greyscale.byteLength);\n        }\n        (new Uint8Array(pixels)).set(packet.greyscale);\n        this._lastUpdateTime = curTime;\n        let info = {\n            data: pixels,\n            cameraSourceData: packet.greyscale,\n            cameraModel: packet.cameraModel,\n            cameraToDevice: packet.cameraToDevice,\n            dataWidth: packet.width,\n            dataHeight: packet.height,\n            texture: undefined,\n            userFacing: packet.userFacing,\n            uvTransform: mat4.create(),\n            cameraSource: this\n        };\n        // We can queue the motion updates for the follwing frame immediately\n        // as this camera frame will be sent immediately, but the next motion\n        // updates will be one frame later\n        this._submitMotionUpdates(pipeline);\n        const token = pipeline.registerToken(info);\n        pipeline.sendDataToWorker(info.data || new ArrayBuffer(0), token, info.dataWidth, info.dataHeight, info.userFacing, info.cameraToDevice, info.cameraModel);\n    }\n    destroy() {\n        byId.delete(this._impl);\n        this.pause();\n    }\n    start() {\n        var _a;\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource !== this) {\n            (_a = p.currentCameraSource) === null || _a === void 0 ? void 0 : _a.pause();\n            p.currentCameraSource = this;\n        }\n    }\n    pause() {\n        let p = Pipeline.get(this._pipeline);\n        if (p && p.currentCameraSource === this)\n            p.currentCameraSource = undefined;\n    }\n    uploadGL(info) {\n        let pipeline = Pipeline.get(this._pipeline);\n        if (!pipeline)\n            return;\n        let gl = pipeline === null || pipeline === void 0 ? void 0 : pipeline.glContext;\n        if (!gl)\n            return;\n        if (!info.texture)\n            info.texture = pipeline.getVideoTexture();\n        if (!info.texture)\n            return;\n        if (!info.cameraSourceData)\n            return;\n        gl.bindTexture(gl.TEXTURE_2D, info.texture);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, info.dataWidth, info.dataHeight, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, new Uint8Array(info.cameraSourceData));\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n    _submitMotionUpdates(pipeline) {\n        let pendingMotionUpdate = false;\n        while (this._packetNumber < this._decoder.numberPackets) {\n            let packet = this._decoder.dataByPacket.get(this._packetNumber);\n            if (packet.type == SequenceRecorderPacketType.CAMERA_FRAME)\n                break;\n            switch (packet.type) {\n                case SequenceRecorderPacketType.ACCELEROMETER:\n                    pipeline.motionAccelerometerSubmit(packet.t, packet.x, packet.y, packet.z);\n                    pendingMotionUpdate = true;\n                    break;\n                case SequenceRecorderPacketType.ROTATION_RATE:\n                    pipeline.motionRotationRateSubmit(packet.t, packet.x, packet.y, packet.z);\n                    pendingMotionUpdate = true;\n                    break;\n                case SequenceRecorderPacketType.ATTITUDE:\n                    pipeline.motionAttitudeSubmit(packet.t, packet.x, packet.y, packet.z);\n                    pendingMotionUpdate = true;\n                    break;\n                case SequenceRecorderPacketType.ATTITUDE_MATRIX:\n                    pipeline.motionAttitudeMatrix(packet.attitude);\n                    pendingMotionUpdate = true;\n                    break;\n            }\n            this._packetNumber++;\n        }\n        // If we've submitted motion updates, add a setTimeout to reflect when\n        // the message serializer will actually have sent them over to the worker\n        if (pendingMotionUpdate) {\n            this._motionUpdatesQueued++;\n            setTimeout(() => {\n                this._motionUpdatesSent++;\n            }, 0);\n        }\n        return;\n    }\n}\n", "export const gfx = `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"250\" height=\"80.408\" viewBox=\"0 0 250 80.408\"><defs><filter id=\"a\" x=\"0\" y=\"1.182\" width=\"250\" height=\"79.226\" filterUnits=\"userSpaceOnUse\"><feOffset dy=\"3\" input=\"SourceAlpha\"/><feGaussianBlur stdDeviation=\"3\" result=\"b\"/><feFlood flood-opacity=\"0.161\"/><feComposite operator=\"in\" in2=\"b\"/><feComposite in=\"SourceGraphic\"/></filter><filter id=\"c\" x=\"6.929\" y=\"0\" width=\"111.975\" height=\"40.988\" filterUnits=\"userSpaceOnUse\"><feOffset dy=\"3\" input=\"SourceAlpha\"/><feGaussianBlur stdDeviation=\"3\" result=\"d\"/><feFlood flood-opacity=\"0.161\"/><feComposite operator=\"in\" in2=\"d\"/><feComposite in=\"SourceGraphic\"/></filter></defs><g transform=\"translate(-26.873 -414.029)\"><g transform=\"translate(44 423.332)\"><g transform=\"translate(0 0.635)\" style=\"isolation:isolate\"><g transform=\"translate(0 0)\"><g transform=\"matrix(1, 0, 0, 1, -17.13, -9.94)\" filter=\"url(#a)\"><path d=\"M55.766,44.97V11.8h8.272v2.6h.089a8.258,8.258,0,0,1,7.046-3.357,11.4,11.4,0,0,1,8.5,3.686,12.667,12.667,0,0,1,3.278,8.622,12.509,12.509,0,0,1-3.25,8.57,11.353,11.353,0,0,1-8.429,3.6,9.533,9.533,0,0,1-7.229-2.95V43.378l-8.269,1.594h0Zm8-21.671a4.958,4.958,0,0,0,5.319,5.15A4.957,4.957,0,0,0,74.4,23.3a5.321,5.321,0,0,0-10.638,0ZM16.105,18.412H2.752V11.038H30.9L14.887,37.16H38.22L0,44.534ZM131.469,38.45a.761.761,0,0,1-.484-.166.582.582,0,0,1-.228-.419l-.553-3.586a12.243,12.243,0,0,1-1.782-.721l-2.789,2.084a.718.718,0,0,1-.5.176.688.688,0,0,1-.495-.214,25.864,25.864,0,0,1-3.264-3.274.754.754,0,0,1,.018-.9c.2-.277.543-.713,1.01-1.3.483-.6.832-1.05,1.068-1.374a9.614,9.614,0,0,1-.811-1.929l-3.62-.527a.631.631,0,0,1-.416-.243.728.728,0,0,1-.159-.458V21.283a.743.743,0,0,1,.159-.448.6.6,0,0,1,.376-.253l3.68-.546a9.511,9.511,0,0,1,.772-1.792c-.523-.733-1.235-1.638-2.117-2.69a.731.731,0,0,1-.2-.467.82.82,0,0,1,.178-.449,19.577,19.577,0,0,1,1.949-2.095c.953-.924,1.582-1.393,1.87-1.393a.861.861,0,0,1,.515.195l2.729,2.084a11.551,11.551,0,0,1,1.8-.741,31.446,31.446,0,0,1,.573-3.623.666.666,0,0,1,.712-.546h4.392a.757.757,0,0,1,.485.166.58.58,0,0,1,.228.419l.553,3.584a12.576,12.576,0,0,1,1.782.722l2.809-2.085a.641.641,0,0,1,.475-.176.776.776,0,0,1,.5.195,27.035,27.035,0,0,1,3.264,3.313.625.625,0,0,1,.139.429.742.742,0,0,1-.159.447c-.2.271-.525.7-1.008,1.3-.467.581-.827,1.043-1.069,1.373a11.8,11.8,0,0,1,.812,1.91l3.62.545a.626.626,0,0,1,.416.244.736.736,0,0,1,.158.457v4.325a.755.755,0,0,1-.158.449.6.6,0,0,1-.4.253l-3.66.545a12.692,12.692,0,0,1-.772,1.774c.465.653,1.177,1.559,2.117,2.688a.751.751,0,0,1,.2.488.648.648,0,0,1-.178.448,19.638,19.638,0,0,1-1.958,2.1c-.947.918-1.573,1.384-1.861,1.384a.976.976,0,0,1-.515-.176l-2.731-2.1a11.361,11.361,0,0,1-1.8.741,31.849,31.849,0,0,1-.573,3.625.668.668,0,0,1-.713.546Zm-1.385-18.491a4.935,4.935,0,0,0,0,7.053,5.12,5.12,0,0,0,7.163,0,4.931,4.931,0,0,0,0-7.053,5.117,5.117,0,0,0-7.163,0Zm69.969,14.868a18.523,18.523,0,0,1-4.932-2.073l1.705-6.1A13.441,13.441,0,0,0,200.779,29a12.14,12.14,0,0,0,4.344.818,4.644,4.644,0,0,0,2.351-.482,1.538,1.538,0,0,0,.806-1.4q0-1.5-3.25-2.242-1.061-.246-1.705-.425a12.335,12.335,0,0,1-5.358-2.589,5.5,5.5,0,0,1-1.671-4.157,6.323,6.323,0,0,1,2.547-5.267,10.993,10.993,0,0,1,6.9-1.972,21.351,21.351,0,0,1,4.552.5,25.439,25.439,0,0,1,4.736,1.557l-1.705,5.491a14.244,14.244,0,0,0-3.319-1.636,10.6,10.6,0,0,0-3.364-.561,4.227,4.227,0,0,0-2.121.426,1.357,1.357,0,0,0-.714,1.232q0,1.211,3.227,2.04.737.2,1.106.291,4.264,1.187,5.935,2.79a5.728,5.728,0,0,1,1.67,4.337A6.781,6.781,0,0,1,213,33.37a11.48,11.48,0,0,1-7.259,2.14A22.577,22.577,0,0,1,200.053,34.827ZM30.568,31.834a12.566,12.566,0,0,1-3.292-8.59,12.567,12.567,0,0,1,3.247-8.568,11.3,11.3,0,0,1,8.423-3.638,9.519,9.519,0,0,1,7.217,3V11.8h8.264V34.735H46.163V32.186h-.09c-1.32,2.071-3.951,3.308-7.038,3.308A11.412,11.412,0,0,1,30.568,31.834Zm5.245-8.545a4.95,4.95,0,0,0,5.312,5.141,4.95,4.95,0,0,0,5.312-5.141A5.023,5.023,0,0,0,41.125,18.1,5.023,5.023,0,0,0,35.813,23.289Zm69.2,11.554-3.527-10.452q-.282-.892-.505-1.8t-.412-1.8a30.821,30.821,0,0,1-.917,3.454l-.047.16L96.1,34.842H90.176l-9.925-23.1h8.632l3.552,10.223q.4,1.12.634,1.955t.377,1.635a23.558,23.558,0,0,1,.917-3.179q.093-.274.141-.411l3.528-10.223h5.056l3.5,10.2.07.183a20.724,20.724,0,0,1,.988,3.43q.141-.732.364-1.532t.647-2.058l3.574-10.223h8.678l-9.971,23.1Zm80.154-.092-8.587-9.841v9.841h-7.888V1.5L176.583,0V22.28l8.272-9.665h9.96L184.584,23.266l11.156,11.485Zm-35.09,0V11.782h8.272v3.761h.091a8.131,8.131,0,0,1,7.546-4.074h1.593V19.3a6.8,6.8,0,0,0-3.5-.761c-4.593,0-5.728,3-5.728,6.941v9.268Z\" transform=\"translate(17.13 15.31)\"/></g><g transform=\"matrix(1, 0, 0, 1, -17.13, -9.94)\" filter=\"url(#c)\"><path d=\"M3.576-12.852v-4.3H6.628a2.867,2.867,0,0,1,1.945.55A2.034,2.034,0,0,1,9.188-15a2.06,2.06,0,0,1-.615,1.608,2.784,2.784,0,0,1-1.945.542ZM2.017-18.464V-6.748H3.576v-4.792H7.153a3.569,3.569,0,0,0,2.683-.9A3.478,3.478,0,0,0,10.747-15a3.45,3.45,0,0,0-.911-2.552,3.638,3.638,0,0,0-2.683-.911Zm11.421,7.483a4.221,4.221,0,0,1,.205-1.37,2.957,2.957,0,0,1,.566-1.009,2.411,2.411,0,0,1,.845-.624A2.515,2.515,0,0,1,16.08-14.2a2.515,2.515,0,0,1,1.026.213,2.411,2.411,0,0,1,.845.624,2.957,2.957,0,0,1,.566,1.009,4.221,4.221,0,0,1,.205,1.37,4.221,4.221,0,0,1-.205,1.37,2.867,2.867,0,0,1-.566,1,2.457,2.457,0,0,1-.845.615,2.515,2.515,0,0,1-1.026.213,2.515,2.515,0,0,1-1.026-.213,2.457,2.457,0,0,1-.845-.615,2.867,2.867,0,0,1-.566-1A4.221,4.221,0,0,1,13.438-10.981Zm-1.477,0a5.573,5.573,0,0,0,.263,1.739,3.97,3.97,0,0,0,.788,1.4,3.623,3.623,0,0,0,1.3.935,4.4,4.4,0,0,0,1.772.336A4.381,4.381,0,0,0,17.86-6.9a3.641,3.641,0,0,0,1.288-.935,3.97,3.97,0,0,0,.788-1.4,5.573,5.573,0,0,0,.263-1.739,5.65,5.65,0,0,0-.263-1.748,3.96,3.96,0,0,0-.788-1.411,3.729,3.729,0,0,0-1.288-.944,4.29,4.29,0,0,0-1.78-.345,4.3,4.3,0,0,0-1.772.345,3.71,3.71,0,0,0-1.3.944,3.96,3.96,0,0,0-.788,1.411A5.65,5.65,0,0,0,11.961-10.981Zm18.28,4.234,2.708-8.484H31.5L29.6-8.29h-.033L27.8-15.231H26.27L24.564-8.29h-.033l-1.92-6.941H21.068l2.724,8.484H25.3l1.707-6.744h.033l1.723,6.744ZM40.169-11.8H35.3a2.905,2.905,0,0,1,.213-.927A2.473,2.473,0,0,1,36-13.492a2.255,2.255,0,0,1,.747-.517,2.429,2.429,0,0,1,.976-.189,2.386,2.386,0,0,1,.96.189,2.415,2.415,0,0,1,.755.509,2.391,2.391,0,0,1,.509.763A2.854,2.854,0,0,1,40.169-11.8Zm1.346,2.363H40.136a1.983,1.983,0,0,1-.747,1.247,2.414,2.414,0,0,1-1.452.41,2.889,2.889,0,0,1-1.2-.23,2.348,2.348,0,0,1-.837-.615,2.4,2.4,0,0,1-.476-.886,3.367,3.367,0,0,1-.131-1.058h6.35a6.754,6.754,0,0,0-.139-1.625,4.7,4.7,0,0,0-.624-1.575,3.716,3.716,0,0,0-1.2-1.19,3.48,3.48,0,0,0-1.879-.468,3.858,3.858,0,0,0-1.6.328,3.76,3.76,0,0,0-1.264.919,4.236,4.236,0,0,0-.829,1.395,5.105,5.105,0,0,0-.3,1.772,6.8,6.8,0,0,0,.287,1.789,3.9,3.9,0,0,0,.763,1.411,3.478,3.478,0,0,0,1.255.919,4.358,4.358,0,0,0,1.764.328,3.851,3.851,0,0,0,2.4-.722A3.39,3.39,0,0,0,41.515-9.439Zm1.526-5.793v8.484h1.395v-3.774a5.8,5.8,0,0,1,.164-1.452,2.784,2.784,0,0,1,.525-1.075,2.251,2.251,0,0,1,.952-.673,3.945,3.945,0,0,1,1.428-.23v-1.477a3.135,3.135,0,0,0-1.871.459,3.779,3.779,0,0,0-1.247,1.526h-.033v-1.789ZM54.15-11.8H49.276a2.905,2.905,0,0,1,.213-.927,2.473,2.473,0,0,1,.492-.763,2.255,2.255,0,0,1,.747-.517A2.429,2.429,0,0,1,51.7-14.2a2.386,2.386,0,0,1,.96.189,2.415,2.415,0,0,1,.755.509,2.391,2.391,0,0,1,.509.763A2.854,2.854,0,0,1,54.15-11.8ZM55.5-9.439H54.117a1.983,1.983,0,0,1-.747,1.247,2.414,2.414,0,0,1-1.452.41,2.889,2.889,0,0,1-1.2-.23,2.348,2.348,0,0,1-.837-.615,2.4,2.4,0,0,1-.476-.886,3.367,3.367,0,0,1-.131-1.058h6.35a6.754,6.754,0,0,0-.139-1.625,4.7,4.7,0,0,0-.624-1.575,3.716,3.716,0,0,0-1.2-1.19,3.48,3.48,0,0,0-1.879-.468,3.858,3.858,0,0,0-1.6.328,3.76,3.76,0,0,0-1.264.919,4.236,4.236,0,0,0-.829,1.395,5.1,5.1,0,0,0-.3,1.772,6.8,6.8,0,0,0,.287,1.789,3.9,3.9,0,0,0,.763,1.411,3.478,3.478,0,0,0,1.255.919,4.358,4.358,0,0,0,1.764.328,3.851,3.851,0,0,0,2.4-.722A3.39,3.39,0,0,0,55.5-9.439Zm2.593-1.477a5.581,5.581,0,0,1,.131-1.214,3.212,3.212,0,0,1,.427-1.05,2.221,2.221,0,0,1,.788-.738,2.4,2.4,0,0,1,1.2-.279,2.589,2.589,0,0,1,1.231.271,2.389,2.389,0,0,1,.829.714,2.985,2.985,0,0,1,.468,1.026,4.889,4.889,0,0,1,.148,1.206,4.919,4.919,0,0,1-.139,1.165,3.053,3.053,0,0,1-.451,1.026,2.4,2.4,0,0,1-.8.73,2.4,2.4,0,0,1-1.2.279,2.491,2.491,0,0,1-1.173-.263,2.332,2.332,0,0,1-.82-.706,3.122,3.122,0,0,1-.476-1.009A4.338,4.338,0,0,1,58.088-10.916Zm6.564,4.168V-18.464H63.257V-14.1h-.033a2.247,2.247,0,0,0-.566-.632,3.216,3.216,0,0,0-.714-.41,3.583,3.583,0,0,0-.755-.222,4.132,4.132,0,0,0-.706-.066,3.861,3.861,0,0,0-1.7.353,3.487,3.487,0,0,0-1.214.952,4.018,4.018,0,0,0-.722,1.4,5.985,5.985,0,0,0-.238,1.707,5.8,5.8,0,0,0,.246,1.707,4.218,4.218,0,0,0,.73,1.411,3.529,3.529,0,0,0,1.214.968,3.827,3.827,0,0,0,1.715.361,4.135,4.135,0,0,0,1.625-.312A2.053,2.053,0,0,0,63.224-7.9h.033v1.149Zm6.761-11.716V-6.748h1.395V-7.88h.033a2.247,2.247,0,0,0,.566.632,2.982,2.982,0,0,0,.714.4,3.874,3.874,0,0,0,.763.213,4.193,4.193,0,0,0,.7.066,3.94,3.94,0,0,0,1.7-.345,3.4,3.4,0,0,0,1.214-.944,4.018,4.018,0,0,0,.722-1.4,5.985,5.985,0,0,0,.238-1.707,5.8,5.8,0,0,0-.246-1.707,4.312,4.312,0,0,0-.73-1.419,3.488,3.488,0,0,0-1.214-.976,3.827,3.827,0,0,0-1.715-.361,4.043,4.043,0,0,0-1.625.32,2.088,2.088,0,0,0-1.083,1.026h-.033v-4.381Zm6.564,7.4a5.581,5.581,0,0,1-.131,1.214,3.212,3.212,0,0,1-.427,1.05,2.243,2.243,0,0,1-.779.738,2.385,2.385,0,0,1-1.206.279A2.589,2.589,0,0,1,74.2-8.052a2.389,2.389,0,0,1-.829-.714,2.985,2.985,0,0,1-.468-1.026A4.889,4.889,0,0,1,72.758-11a4.919,4.919,0,0,1,.139-1.165,3.053,3.053,0,0,1,.451-1.026,2.4,2.4,0,0,1,.8-.73,2.4,2.4,0,0,1,1.2-.279,2.491,2.491,0,0,1,1.173.263,2.332,2.332,0,0,1,.82.706,3.122,3.122,0,0,1,.476,1.009A4.338,4.338,0,0,1,77.976-11.063Zm6.449,5.448a8.871,8.871,0,0,1-.484,1.05,2.871,2.871,0,0,1-.525.7,1.782,1.782,0,0,1-.64.394,2.462,2.462,0,0,1-.812.123,3.721,3.721,0,0,1-.492-.033A2.324,2.324,0,0,1,81-3.5v-1.28a2.342,2.342,0,0,0,.418.139,1.765,1.765,0,0,0,.4.057,1.2,1.2,0,0,0,.714-.205,1.255,1.255,0,0,0,.435-.583L83.539-6.8l-3.364-8.434h1.575L84.228-8.29h.033l2.379-6.941h1.477Z\" transform=\"translate(17.85 28.4)\"/></g></g></g><g transform=\"translate(0 0)\"><g transform=\"translate(0 5.371)\"><path d=\"M11.76,24.456A11.41,11.41,0,0,1,3.292,20.8,12.564,12.564,0,0,1,0,12.206,12.569,12.569,0,0,1,3.246,3.638,11.307,11.307,0,0,1,11.67,0a9.519,9.519,0,0,1,7.217,3V.759h8.264V23.7H18.887V21.148H18.8C17.478,23.219,14.846,24.456,11.76,24.456ZM13.849,7.064A5.023,5.023,0,0,0,8.537,12.25a4.95,4.95,0,0,0,5.312,5.141A4.95,4.95,0,0,0,19.16,12.25,5.023,5.023,0,0,0,13.849,7.064Z\" transform=\"translate(27.277 11.038)\" fill=\"#fff\"/><path d=\"M0,33.931V.758H8.271v2.6H8.36A8.258,8.258,0,0,1,15.406,0,11.4,11.4,0,0,1,23.9,3.686a12.665,12.665,0,0,1,3.278,8.622,12.508,12.508,0,0,1-3.25,8.57,11.351,11.351,0,0,1-8.429,3.6,9.535,9.535,0,0,1-7.229-2.95V32.337L0,33.931ZM13.317,7.07A5.028,5.028,0,0,0,8,12.259a4.957,4.957,0,0,0,5.319,5.15,4.957,4.957,0,0,0,5.319-5.15A5.028,5.028,0,0,0,13.317,7.07Z\" transform=\"translate(55.766 11.041)\" fill=\"#fff\"/><path d=\"M22.836,0l3.5,10.2.07.183a20.748,20.748,0,0,1,.988,3.43q.141-.731.364-1.532t.647-2.058L31.985,0h8.678L30.691,23.1H24.764L21.237,12.647q-.282-.891-.505-1.8t-.412-1.8A30.927,30.927,0,0,1,19.4,12.51l-.047.16L15.851,23.1H9.925L0,0H8.631l3.552,10.223q.4,1.121.635,1.955t.377,1.635a23.522,23.522,0,0,1,.917-3.179q.093-.274.141-.411L17.78,0h5.056\" transform=\"translate(80.251 11.743)\" fill=\"#fff\"/><path d=\"M0,34.75V1.5L7.888,0V22.28l8.272-9.665H26.12L15.889,23.266,27.045,34.75H16.475L7.888,24.91v9.84H0\" transform=\"translate(168.695 0)\" fill=\"#fff\"/><path d=\"M0,21.47l1.705-6.1a13.453,13.453,0,0,0,3.952,2.342A12.145,12.145,0,0,0,10,18.534a4.643,4.643,0,0,0,2.351-.482,1.539,1.539,0,0,0,.807-1.4q0-1.5-3.25-2.241-1.06-.246-1.705-.426A12.325,12.325,0,0,1,2.846,11.4,5.5,5.5,0,0,1,1.176,7.239,6.324,6.324,0,0,1,3.722,1.972,11,11,0,0,1,10.624,0a21.365,21.365,0,0,1,4.551.5,25.45,25.45,0,0,1,4.736,1.558l-1.706,5.49a14.24,14.24,0,0,0-3.319-1.636,10.6,10.6,0,0,0-3.364-.56A4.22,4.22,0,0,0,9.4,5.782a1.356,1.356,0,0,0-.714,1.233q0,1.211,3.227,2.04.737.2,1.106.291,4.264,1.188,5.935,2.79a5.728,5.728,0,0,1,1.671,4.337,6.782,6.782,0,0,1-2.743,5.614,11.478,11.478,0,0,1-7.259,2.14,22.565,22.565,0,0,1-5.693-.683A18.517,18.517,0,0,1,0,21.47\" transform=\"translate(195.121 11.284)\" fill=\"#fff\"/><path d=\"M8.273,4.075h.091A8.13,8.13,0,0,1,15.909,0H17.5V7.834A6.8,6.8,0,0,0,14,7.074c-4.593,0-5.728,3-5.728,6.941v9.268H0V.313H8.273V4.075\" transform=\"translate(150.08 11.469)\" fill=\"#fff\"/><path d=\"M17.392,29.929H13a.76.76,0,0,1-.485-.166.579.579,0,0,1-.227-.419l-.553-3.586a12.3,12.3,0,0,1-1.781-.721L7.163,27.123a.719.719,0,0,1-.495.176.687.687,0,0,1-.495-.214A25.873,25.873,0,0,1,2.91,23.81a.753.753,0,0,1,.019-.9c.2-.277.542-.713,1.009-1.3.483-.6.832-1.05,1.068-1.374a9.591,9.591,0,0,1-.811-1.929l-3.62-.526a.63.63,0,0,1-.416-.243A.729.729,0,0,1,0,17.089V12.762a.746.746,0,0,1,.159-.448.6.6,0,0,1,.376-.253l3.68-.546a9.5,9.5,0,0,1,.772-1.792C4.464,8.991,3.752,8.085,2.87,7.034a.732.732,0,0,1-.2-.468.82.82,0,0,1,.179-.449A19.622,19.622,0,0,1,4.8,4.023C5.751,3.1,6.38,2.631,6.668,2.631a.859.859,0,0,1,.515.194L9.913,4.91a11.536,11.536,0,0,1,1.8-.741A31.372,31.372,0,0,1,12.287.546.665.665,0,0,1,13,0h4.392a.755.755,0,0,1,.485.166.581.581,0,0,1,.229.419l.553,3.584a12.543,12.543,0,0,1,1.781.722L23.25,2.807a.641.641,0,0,1,.475-.176.775.775,0,0,1,.495.194,27.092,27.092,0,0,1,3.264,3.313.625.625,0,0,1,.139.429.745.745,0,0,1-.159.448c-.2.271-.525.695-1.008,1.3-.467.581-.827,1.043-1.069,1.373a11.784,11.784,0,0,1,.812,1.91l3.62.545a.625.625,0,0,1,.416.244.736.736,0,0,1,.157.458v4.325a.754.754,0,0,1-.157.449.606.606,0,0,1-.4.253l-3.66.545a12.628,12.628,0,0,1-.772,1.774c.465.654,1.177,1.559,2.117,2.688a.752.752,0,0,1,.2.488.648.648,0,0,1-.177.448,19.641,19.641,0,0,1-1.959,2.1c-.947.918-1.573,1.384-1.86,1.384a.978.978,0,0,1-.515-.176l-2.731-2.1a11.429,11.429,0,0,1-1.8.741,32.016,32.016,0,0,1-.573,3.624A.668.668,0,0,1,17.392,29.929ZM15.2,9.976a4.938,4.938,0,0,0-3.582,1.463,4.935,4.935,0,0,0,0,7.053,5.12,5.12,0,0,0,7.163,0,4.932,4.932,0,0,0,0-7.053A4.938,4.938,0,0,0,15.2,9.976Z\" transform=\"translate(118.47 8.521)\" fill=\"#fff\"/><path d=\"M0,33.5,16.106,7.374H2.752V0H30.9L14.887,26.122H38.22L0,33.5\" transform=\"translate(0 11.038)\" fill=\"#fff\"/></g><path d=\"M3.576-12.852v-4.3H6.628a2.867,2.867,0,0,1,1.945.55A2.034,2.034,0,0,1,9.188-15a2.06,2.06,0,0,1-.615,1.608,2.784,2.784,0,0,1-1.945.542ZM2.017-18.464V-6.748H3.576v-4.792H7.153a3.569,3.569,0,0,0,2.683-.9A3.478,3.478,0,0,0,10.747-15a3.45,3.45,0,0,0-.911-2.552,3.638,3.638,0,0,0-2.683-.911Zm11.421,7.483a4.221,4.221,0,0,1,.205-1.37,2.957,2.957,0,0,1,.566-1.009,2.411,2.411,0,0,1,.845-.624A2.515,2.515,0,0,1,16.08-14.2a2.515,2.515,0,0,1,1.026.213,2.411,2.411,0,0,1,.845.624,2.957,2.957,0,0,1,.566,1.009,4.221,4.221,0,0,1,.205,1.37,4.221,4.221,0,0,1-.205,1.37,2.867,2.867,0,0,1-.566,1,2.457,2.457,0,0,1-.845.615,2.515,2.515,0,0,1-1.026.213,2.515,2.515,0,0,1-1.026-.213,2.457,2.457,0,0,1-.845-.615,2.867,2.867,0,0,1-.566-1A4.221,4.221,0,0,1,13.438-10.981Zm-1.477,0a5.573,5.573,0,0,0,.263,1.739,3.97,3.97,0,0,0,.788,1.4,3.623,3.623,0,0,0,1.3.935,4.4,4.4,0,0,0,1.772.336A4.381,4.381,0,0,0,17.86-6.9a3.641,3.641,0,0,0,1.288-.935,3.97,3.97,0,0,0,.788-1.4,5.573,5.573,0,0,0,.263-1.739,5.65,5.65,0,0,0-.263-1.748,3.96,3.96,0,0,0-.788-1.411,3.729,3.729,0,0,0-1.288-.944,4.29,4.29,0,0,0-1.78-.345,4.3,4.3,0,0,0-1.772.345,3.71,3.71,0,0,0-1.3.944,3.96,3.96,0,0,0-.788,1.411A5.65,5.65,0,0,0,11.961-10.981Zm18.28,4.234,2.708-8.484H31.5L29.6-8.29h-.033L27.8-15.231H26.27L24.564-8.29h-.033l-1.92-6.941H21.068l2.724,8.484H25.3l1.707-6.744h.033l1.723,6.744ZM40.169-11.8H35.3a2.905,2.905,0,0,1,.213-.927A2.473,2.473,0,0,1,36-13.492a2.255,2.255,0,0,1,.747-.517,2.429,2.429,0,0,1,.976-.189,2.386,2.386,0,0,1,.96.189,2.415,2.415,0,0,1,.755.509,2.391,2.391,0,0,1,.509.763A2.854,2.854,0,0,1,40.169-11.8Zm1.346,2.363H40.136a1.983,1.983,0,0,1-.747,1.247,2.414,2.414,0,0,1-1.452.41,2.889,2.889,0,0,1-1.2-.23,2.348,2.348,0,0,1-.837-.615,2.4,2.4,0,0,1-.476-.886,3.367,3.367,0,0,1-.131-1.058h6.35a6.754,6.754,0,0,0-.139-1.625,4.7,4.7,0,0,0-.624-1.575,3.716,3.716,0,0,0-1.2-1.19,3.48,3.48,0,0,0-1.879-.468,3.858,3.858,0,0,0-1.6.328,3.76,3.76,0,0,0-1.264.919,4.236,4.236,0,0,0-.829,1.395,5.105,5.105,0,0,0-.3,1.772,6.8,6.8,0,0,0,.287,1.789,3.9,3.9,0,0,0,.763,1.411,3.478,3.478,0,0,0,1.255.919,4.358,4.358,0,0,0,1.764.328,3.851,3.851,0,0,0,2.4-.722A3.39,3.39,0,0,0,41.515-9.439Zm1.526-5.793v8.484h1.395v-3.774a5.8,5.8,0,0,1,.164-1.452,2.784,2.784,0,0,1,.525-1.075,2.251,2.251,0,0,1,.952-.673,3.945,3.945,0,0,1,1.428-.23v-1.477a3.135,3.135,0,0,0-1.871.459,3.779,3.779,0,0,0-1.247,1.526h-.033v-1.789ZM54.15-11.8H49.276a2.905,2.905,0,0,1,.213-.927,2.473,2.473,0,0,1,.492-.763,2.255,2.255,0,0,1,.747-.517A2.429,2.429,0,0,1,51.7-14.2a2.386,2.386,0,0,1,.96.189,2.415,2.415,0,0,1,.755.509,2.391,2.391,0,0,1,.509.763A2.854,2.854,0,0,1,54.15-11.8ZM55.5-9.439H54.117a1.983,1.983,0,0,1-.747,1.247,2.414,2.414,0,0,1-1.452.41,2.889,2.889,0,0,1-1.2-.23,2.348,2.348,0,0,1-.837-.615,2.4,2.4,0,0,1-.476-.886,3.367,3.367,0,0,1-.131-1.058h6.35a6.754,6.754,0,0,0-.139-1.625,4.7,4.7,0,0,0-.624-1.575,3.716,3.716,0,0,0-1.2-1.19,3.48,3.48,0,0,0-1.879-.468,3.858,3.858,0,0,0-1.6.328,3.76,3.76,0,0,0-1.264.919,4.236,4.236,0,0,0-.829,1.395,5.1,5.1,0,0,0-.3,1.772,6.8,6.8,0,0,0,.287,1.789,3.9,3.9,0,0,0,.763,1.411,3.478,3.478,0,0,0,1.255.919,4.358,4.358,0,0,0,1.764.328,3.851,3.851,0,0,0,2.4-.722A3.39,3.39,0,0,0,55.5-9.439Zm2.593-1.477a5.581,5.581,0,0,1,.131-1.214,3.212,3.212,0,0,1,.427-1.05,2.221,2.221,0,0,1,.788-.738,2.4,2.4,0,0,1,1.2-.279,2.589,2.589,0,0,1,1.231.271,2.389,2.389,0,0,1,.829.714,2.985,2.985,0,0,1,.468,1.026,4.889,4.889,0,0,1,.148,1.206,4.919,4.919,0,0,1-.139,1.165,3.053,3.053,0,0,1-.451,1.026,2.4,2.4,0,0,1-.8.73,2.4,2.4,0,0,1-1.2.279,2.491,2.491,0,0,1-1.173-.263,2.332,2.332,0,0,1-.82-.706,3.122,3.122,0,0,1-.476-1.009A4.338,4.338,0,0,1,58.088-10.916Zm6.564,4.168V-18.464H63.257V-14.1h-.033a2.247,2.247,0,0,0-.566-.632,3.216,3.216,0,0,0-.714-.41,3.583,3.583,0,0,0-.755-.222,4.132,4.132,0,0,0-.706-.066,3.861,3.861,0,0,0-1.7.353,3.487,3.487,0,0,0-1.214.952,4.018,4.018,0,0,0-.722,1.4,5.985,5.985,0,0,0-.238,1.707,5.8,5.8,0,0,0,.246,1.707,4.218,4.218,0,0,0,.73,1.411,3.529,3.529,0,0,0,1.214.968,3.827,3.827,0,0,0,1.715.361,4.135,4.135,0,0,0,1.625-.312A2.053,2.053,0,0,0,63.224-7.9h.033v1.149Zm6.761-11.716V-6.748h1.395V-7.88h.033a2.247,2.247,0,0,0,.566.632,2.982,2.982,0,0,0,.714.4,3.874,3.874,0,0,0,.763.213,4.193,4.193,0,0,0,.7.066,3.94,3.94,0,0,0,1.7-.345,3.4,3.4,0,0,0,1.214-.944,4.018,4.018,0,0,0,.722-1.4,5.985,5.985,0,0,0,.238-1.707,5.8,5.8,0,0,0-.246-1.707,4.312,4.312,0,0,0-.73-1.419,3.488,3.488,0,0,0-1.214-.976,3.827,3.827,0,0,0-1.715-.361,4.043,4.043,0,0,0-1.625.32,2.088,2.088,0,0,0-1.083,1.026h-.033v-4.381Zm6.564,7.4a5.581,5.581,0,0,1-.131,1.214,3.212,3.212,0,0,1-.427,1.05,2.243,2.243,0,0,1-.779.738,2.385,2.385,0,0,1-1.206.279A2.589,2.589,0,0,1,74.2-8.052a2.389,2.389,0,0,1-.829-.714,2.985,2.985,0,0,1-.468-1.026A4.889,4.889,0,0,1,72.758-11a4.919,4.919,0,0,1,.139-1.165,3.053,3.053,0,0,1,.451-1.026,2.4,2.4,0,0,1,.8-.73,2.4,2.4,0,0,1,1.2-.279,2.491,2.491,0,0,1,1.173.263,2.332,2.332,0,0,1,.82.706,3.122,3.122,0,0,1,.476,1.009A4.338,4.338,0,0,1,77.976-11.063Zm6.449,5.448a8.871,8.871,0,0,1-.484,1.05,2.871,2.871,0,0,1-.525.7,1.782,1.782,0,0,1-.64.394,2.462,2.462,0,0,1-.812.123,3.721,3.721,0,0,1-.492-.033A2.324,2.324,0,0,1,81-3.5v-1.28a2.342,2.342,0,0,0,.418.139,1.765,1.765,0,0,0,.4.057,1.2,1.2,0,0,0,.714-.205,1.255,1.255,0,0,0,.435-.583L83.539-6.8l-3.364-8.434h1.575L84.228-8.29h.033l2.379-6.941h1.477Z\" transform=\"translate(0.722 18.464)\" fill=\"#fff\"/></g></g></g></svg>`;\n", "import { vec2 } from \"gl-matrix\";\nimport { image_target_type_t } from \"./gen/zappar-native\";\nexport function getPreviewMesh(info) {\n    switch (info.type) {\n        case image_target_type_t.IMAGE_TRACKER_TYPE_PLANAR: return planar(info);\n        case image_target_type_t.IMAGE_TRACKER_TYPE_CYLINDRICAL: return cylindrical(info);\n        case image_target_type_t.IMAGE_TRACKER_TYPE_CONICAL: return conical(info);\n    }\n    return defaultMesh();\n}\nfunction planar(info) {\n    const aspectRatio = info.trainedWidth / info.trainedHeight;\n    if (isNaN(aspectRatio))\n        return defaultMesh();\n    const scaling = info.physicalScaleFactor > 0 ? info.physicalScaleFactor : 1;\n    const vertices = new Float32Array([\n        -1.0 * aspectRatio * scaling, -1 * scaling, 0,\n        -1.0 * aspectRatio * scaling, scaling, 0,\n        aspectRatio * scaling, scaling, 0,\n        aspectRatio * scaling, -1 * scaling, 0\n    ]);\n    const indices = new Uint16Array([0, 2, 1, 0, 3, 2]);\n    const uvs = new Float32Array([\n        0, 0,\n        0, 1,\n        1, 1,\n        1, 0\n    ]);\n    const normals = new Float32Array([\n        0, 0, 1,\n        0, 0, 1,\n        0, 0, 1,\n        0, 0, 1,\n    ]);\n    return { vertices, indices, uvs, normals };\n}\nfunction defaultMesh() {\n    return {\n        indices: new Uint16Array(0),\n        vertices: new Float32Array(0),\n        normals: new Float32Array(0),\n        uvs: new Float32Array(0)\n    };\n}\nfunction cylindrical(info) {\n    const wrap_amount = 2 * info.trainedWidth / (info.trainedHeight * info.topRadius);\n    return generalConical(info, 2, false, 0, 0, 0, vec2.create(), info.trainedWidth / info.trainedHeight, wrap_amount, info.physicalScaleFactor);\n}\nfunction conical(info) {\n    const radius_diff = info.topRadius - info.bottomRadius;\n    // Prevents divide by zero errors.\n    if (radius_diff === 0) {\n        console.warn(\"Conical target has matching radii, using cylindrical preview mesh with a defined image size instead.\");\n        return cylindrical(info);\n    }\n    const height_3d = Math.sqrt(info.sideLength * info.sideLength - radius_diff * radius_diff);\n    const flip = info.bottomRadius > info.topRadius;\n    let aspect_ratio = info.trainedWidth / info.trainedHeight;\n    if (isNaN(aspect_ratio))\n        aspect_ratio = 1;\n    const cone = !(info.bottomRadius > 0) || !(info.topRadius > 0);\n    const wide = info.sideLength < (2 * Math.abs(info.topRadius - info.bottomRadius));\n    const top_corner = vec2.create();\n    const bottom_corner = vec2.create();\n    const rotation_center = vec2.create();\n    if (cone) {\n        if (wide) {\n            if (flip) {\n                rotation_center[1] = aspect_ratio - 1;\n                const omega = Math.acos((2 - aspect_ratio) / aspect_ratio);\n                top_corner[0] = aspect_ratio * Math.sin(omega);\n                top_corner[1] = (aspect_ratio - 1) + aspect_ratio * Math.cos(omega);\n                vec2.copy(bottom_corner, rotation_center);\n            }\n            else {\n                rotation_center[1] = 1.0 - aspect_ratio;\n                const omega = Math.PI + Math.acos((2 - aspect_ratio) / aspect_ratio);\n                top_corner[0] = aspect_ratio * Math.sin(omega);\n                top_corner[1] = (1 - aspect_ratio) + aspect_ratio * Math.cos(omega);\n                vec2.copy(bottom_corner, rotation_center);\n            }\n        }\n        else {\n            if (flip) {\n                rotation_center[1] = 1;\n                vec2.copy(bottom_corner, rotation_center);\n                top_corner[0] = aspect_ratio;\n                top_corner[1] = 1 - Math.sqrt(4 - Math.pow(aspect_ratio, 2));\n            }\n            else {\n                rotation_center[1] = -1;\n                vec2.copy(bottom_corner, rotation_center);\n                top_corner[0] = -aspect_ratio;\n                top_corner[1] = Math.sqrt(4 - Math.pow(aspect_ratio, 2)) - 1;\n            }\n        }\n    }\n    else {\n        if (wide) {\n            if (flip) {\n                rotation_center[1] = aspect_ratio - 1;\n                const omega = Math.acos((2 - aspect_ratio) / aspect_ratio);\n                top_corner[0] = aspect_ratio * Math.sin(omega);\n                top_corner[1] = (aspect_ratio - 1) + aspect_ratio * Math.cos(omega);\n                bottom_corner[0] = (aspect_ratio - info.sideLength) * Math.sin(omega);\n                bottom_corner[1] = (aspect_ratio - 1) + (aspect_ratio - info.sideLength) * Math.cos(omega);\n            }\n            else {\n                rotation_center[1] = 1.0 - aspect_ratio;\n                const omega = Math.PI + Math.acos((2 - aspect_ratio) / aspect_ratio);\n                top_corner[0] = aspect_ratio * Math.sin(omega);\n                top_corner[1] = (1 - aspect_ratio) + aspect_ratio * Math.cos(omega);\n                bottom_corner[0] = (aspect_ratio - info.sideLength) * Math.sin(omega);\n                bottom_corner[1] = (1 - aspect_ratio) + (aspect_ratio - info.sideLength) * Math.cos(omega);\n            }\n        }\n        else {\n            const radius_ratio = flip ? (info.topRadius / info.bottomRadius) : (info.bottomRadius / info.topRadius);\n            if (flip) {\n                bottom_corner[0] = radius_ratio * aspect_ratio;\n                bottom_corner[1] = 1;\n                top_corner[0] = aspect_ratio;\n                top_corner[1] = 1 - Math.sqrt((info.sideLength * info.sideLength) - ((bottom_corner[0] - top_corner[0]) * (bottom_corner[0] - top_corner[0])));\n                rotation_center[1] = top_corner[1] + (top_corner[0] / (top_corner[0] - bottom_corner[0])) * (bottom_corner[1] - top_corner[1]);\n            }\n            else {\n                bottom_corner[0] = -radius_ratio * aspect_ratio;\n                bottom_corner[1] = -1;\n                top_corner[0] = -aspect_ratio;\n                top_corner[1] = Math.sqrt((info.sideLength * info.sideLength) - ((bottom_corner[0] - top_corner[0]) * (bottom_corner[0] - top_corner[0]))) - 1;\n                rotation_center[1] = top_corner[1] - (-top_corner[0] / (bottom_corner[0] - top_corner[0])) * (top_corner[1] - bottom_corner[1]);\n            }\n        }\n    }\n    const top_from_center = vec2.create();\n    vec2.subtract(top_from_center, top_corner, rotation_center);\n    const bottom_from_center = vec2.create();\n    vec2.subtract(bottom_from_center, bottom_corner, rotation_center);\n    const top_2d_radius = vec2.length(top_from_center);\n    const bottom_2d_radius = vec2.length(bottom_from_center);\n    let max_angle = 2 * Math.abs(Math.atan(top_from_center[0] / top_from_center[1]));\n    if (wide)\n        max_angle = (2 * Math.PI) - max_angle;\n    let theta_3d = (top_2d_radius * max_angle) / info.topRadius;\n    let theta = Math.abs(Math.atan(top_from_center[0] / top_from_center[1]));\n    if (wide)\n        theta = Math.PI - theta;\n    return generalConical(info, height_3d, flip, theta, bottom_2d_radius, top_2d_radius, rotation_center, aspect_ratio, theta_3d, info.physicalScaleFactor);\n}\nfunction generalConical(info, height_3d, flip, theta, bottom_2d_radius, top_2d_radius, rotation_center, aspect_ratio, wrap_amount, psf) {\n    if (isNaN(aspect_ratio))\n        aspect_ratio = 1;\n    const vertices = [];\n    const uvs = [];\n    const physical_scale = psf > 0 ? psf : 1;\n    const scale_factor = physical_scale * 2.0 / height_3d;\n    const subdivisons = 64;\n    for (let s = 0; s <= subdivisons; ++s) {\n        const angle = (s * wrap_amount / subdivisons) + (((2 * Math.PI) - wrap_amount) / 2);\n        const bx = info.bottomRadius * Math.sin(angle) * scale_factor;\n        const bz = info.bottomRadius * Math.cos(angle) * scale_factor;\n        const tx = info.topRadius * Math.sin(angle) * scale_factor;\n        const tz = info.topRadius * Math.cos(angle) * scale_factor;\n        const btm = -1 * physical_scale;\n        const top = physical_scale;\n        if (flip) {\n            vertices.push(bx, btm, bz);\n            vertices.push(tx, top, tz);\n        }\n        else {\n            vertices.push(tx, top, -tz);\n            vertices.push(bx, btm, -bz);\n        }\n    }\n    for (let s = 0; s <= subdivisons; ++s) {\n        if (info.type == image_target_type_t.IMAGE_TRACKER_TYPE_CYLINDRICAL) {\n            const offset = 1 - (s / subdivisons);\n            uvs.push(offset, 1);\n            uvs.push(offset, 0);\n        }\n        else {\n            let angle_2d = -((s / subdivisons) - 0.5) * 2 * theta;\n            if (flip) {\n                angle_2d = -angle_2d + theta;\n                if (angle_2d > theta)\n                    angle_2d = -theta + (angle_2d - theta);\n            }\n            const direction = vec2.create();\n            direction[0] = Math.sin(angle_2d);\n            direction[1] = Math.cos(angle_2d);\n            if (flip)\n                direction[1] *= -1;\n            const bottom_px = vec2.create();\n            vec2.copy(bottom_px, direction);\n            vec2.scale(bottom_px, bottom_px, bottom_2d_radius);\n            vec2.add(bottom_px, rotation_center, bottom_px);\n            const top_px = vec2.create();\n            vec2.copy(top_px, direction);\n            vec2.scale(top_px, top_px, top_2d_radius);\n            vec2.add(top_px, rotation_center, top_px);\n            uvs.push((top_px[0] + aspect_ratio) / (2 * aspect_ratio), 1 - ((-top_px[1] + 1) / 2));\n            uvs.push((bottom_px[0] + aspect_ratio) / (2 * aspect_ratio), 1 - ((-bottom_px[1] + 1) / 2));\n        }\n    }\n    const indices = [];\n    for (let i = 0; i < subdivisons; ++i) {\n        const bi = i * 2;\n        indices.push(bi + 1, bi + 2, bi + 3);\n        indices.push(bi + 0, bi + 2, bi + 1);\n    }\n    return {\n        vertices: new Float32Array(vertices),\n        indices: new Uint16Array(indices),\n        normals: new Float32Array(0),\n        uvs: new Float32Array(uvs)\n    };\n}\n", "const decoder = new TextDecoder();\nexport class RiffReader {\n    constructor(_data, _paddingBytes = false) {\n        this._data = _data;\n        this._paddingBytes = _paddingBytes;\n        this.truncatedChunks = false;\n        this._view = new DataView(this._data);\n        this.root = this._parse();\n    }\n    _parse() {\n        const header = decoder.decode(this._data.slice(0, 4));\n        if (header !== \"RIFF\")\n            throw new Error(\"Not a valid ZPT file\");\n        return this._parseChunk(0);\n    }\n    _parseChunk(offset) {\n        const ident = decoder.decode(this._data.slice(offset, offset + 4));\n        const length = this._view.getUint32(offset + 4, true);\n        const data = new Uint8Array(this._data, offset + 8, length);\n        if (data.byteLength !== length)\n            this.truncatedChunks = true;\n        let subchunks;\n        let subident;\n        if (ident === \"RIFF\" || ident === \"LIST\") {\n            subident = decoder.decode(this._data.slice(offset + 8, offset + 12));\n            subchunks = [];\n            let currentOffset = 4;\n            while (currentOffset < data.byteLength - 1) {\n                const subchunk = this._parseChunk(offset + 8 + currentOffset);\n                subchunks.push(subchunk);\n                currentOffset += subchunk.data.byteLength + 8;\n                if (this._paddingBytes && subchunk.data.byteLength & 0x1)\n                    currentOffset++;\n            }\n        }\n        return { ident, data, subident, subchunks };\n    }\n    find(str, inChunk = this.root) {\n        if (inChunk.ident === str)\n            return inChunk;\n        if (!inChunk.subchunks)\n            return;\n        for (let c of inChunk.subchunks) {\n            const found = this.find(str, c);\n            if (found)\n                return found;\n        }\n    }\n    has(str) {\n        return this.find(str) !== undefined;\n    }\n}\n", "import { image_target_type_t } from \"./gen/zappar-native\";\nimport { getPreviewMesh } from \"./imagetracker-previewmesh\";\nimport { RiffReader } from \"./riff-reader\";\nlet byId = new Map();\nconst decoder = new TextDecoder();\nexport class ImageTracker {\n    constructor(_client, _impl) {\n        this._client = _client;\n        this._impl = _impl;\n        this._targets = [];\n    }\n    static create(pipeline, client) {\n        let ret = client.image_tracker_create(pipeline);\n        byId.set(ret, new ImageTracker(client, ret));\n        return ret;\n    }\n    static get(p) {\n        return byId.get(p);\n    }\n    destroy() {\n        this._client.image_tracker_destroy(this._impl);\n        byId.delete(this._impl);\n    }\n    loadFromMemory(data) {\n        this._targets.push({ data });\n        this._client.image_tracker_target_load_from_memory(this._impl, data);\n    }\n    targetCount() {\n        return this._targets.length;\n    }\n    getTargetInfo(i) {\n        let current = this._targets[i];\n        if (current && current.info)\n            return current.info;\n        current.info = {\n            topRadius: -1,\n            bottomRadius: -1,\n            sideLength: -1,\n            physicalScaleFactor: -1,\n            trainedWidth: 0,\n            trainedHeight: 0,\n            type: image_target_type_t.IMAGE_TRACKER_TYPE_PLANAR\n        };\n        try {\n            const reader = new RiffReader(current.data, false);\n            const imgChunk = reader.find(\"IMG \");\n            if (imgChunk) {\n                let mimeType = \"image/png\";\n                const mimeTypeChunk = reader.find(\"IMGM\");\n                if (mimeTypeChunk)\n                    mimeType = decoder.decode(mimeTypeChunk.data);\n                current.info.preview = { mimeType, compressed: imgChunk.data };\n            }\n            const odleChunk = reader.find(\"ODLE\");\n            if (odleChunk) {\n                const odle = decoder.decode(odleChunk.data);\n                this._parseOdle(odle, current.info);\n            }\n        }\n        catch (err) { }\n        return current.info;\n    }\n    _parseOdle(data, info) {\n        let currentOffset = 0;\n        let version = \"0\";\n        [version, currentOffset] = readLine(currentOffset, data);\n        if (version === \"1\")\n            return this._parseOdleV1(data, currentOffset, info);\n        else if (version === \"3\")\n            return this._parseOdleV3(data, currentOffset, info);\n    }\n    _parseOdleV1(data, currentOffset, info) {\n        let treeOrFlat = \"0\";\n        [treeOrFlat, currentOffset] = readLine(currentOffset, data);\n        if (treeOrFlat !== \"0\" && treeOrFlat !== \"1\")\n            return;\n        let emptyLine = \"\";\n        [emptyLine, currentOffset] = readLine(currentOffset, data);\n        if (emptyLine.length !== 0)\n            return;\n        let infoLine = \"\";\n        [infoLine, currentOffset] = readLine(currentOffset, data);\n        const infoLineParts = infoLine.split(\" \");\n        if (infoLineParts.length < 5)\n            return;\n        info.trainedWidth = parseInt(infoLineParts[3].replace(\"[\", \"\"));\n        info.trainedHeight = parseInt(infoLineParts[4].replace(\"]\", \"\"));\n    }\n    _parseOdleV3(data, currentOffset, info) {\n        let treeOrFlat = \"0\";\n        [treeOrFlat, currentOffset] = readLine(currentOffset, data);\n        if (treeOrFlat !== \"0\" && treeOrFlat !== \"1\")\n            return;\n        let numberTargets = \"0\";\n        [numberTargets, currentOffset] = readLine(currentOffset, data);\n        const parsedTargets = parseInt(numberTargets);\n        if (isNaN(parsedTargets) || parsedTargets < 1)\n            return;\n        let emptyLine = \"\";\n        [emptyLine, currentOffset] = readLine(currentOffset, data);\n        if (emptyLine.length !== 0)\n            return;\n        let infoLine = \"\";\n        [infoLine, currentOffset] = readLine(currentOffset, data);\n        const infoLineParts = infoLine.split(\" \");\n        if (infoLineParts.length < 6)\n            return;\n        const targetType = parseInt(infoLineParts[0]);\n        if (targetType === 0 || targetType === 1 || targetType === 2)\n            info.type = targetType;\n        info.trainedWidth = parseInt(infoLineParts[4].replace(\"[\", \"\"));\n        info.trainedHeight = parseInt(infoLineParts[5].replace(\"]\", \"\"));\n        if (infoLineParts.length >= 7) {\n            info.physicalScaleFactor = parseFloat(infoLineParts[6]);\n            if (isNaN(info.physicalScaleFactor))\n                info.physicalScaleFactor = -1;\n        }\n        if (infoLineParts.length >= 8) {\n            info.topRadius = parseFloat(infoLineParts[7]);\n            if (isNaN(info.topRadius))\n                info.topRadius = -1;\n            info.bottomRadius = info.topRadius;\n        }\n        if (infoLineParts.length >= 9) {\n            info.bottomRadius = parseFloat(infoLineParts[8]);\n            if (isNaN(info.bottomRadius))\n                info.bottomRadius = -1;\n        }\n        if (infoLineParts.length >= 10) {\n            info.sideLength = parseFloat(infoLineParts[9]);\n            if (isNaN(info.sideLength))\n                info.sideLength = -1;\n        }\n    }\n    getDecodedPreview(i) {\n        const info = this.getTargetInfo(i);\n        if (!info.preview)\n            return undefined;\n        if (!info.preview.image) {\n            const blob = new Blob([info.preview.compressed], { type: info.preview.mimeType });\n            info.preview.image = new Image();\n            info.preview.image.src = URL.createObjectURL(blob);\n        }\n        return info.preview.image;\n    }\n    getPreviewMesh(i) {\n        const info = this.getTargetInfo(i);\n        if (!info.previewMesh)\n            info.previewMesh = getPreviewMesh(info);\n        return info.previewMesh;\n    }\n}\nfunction readLine(offset, str) {\n    let indx = str.indexOf(\"\\n\", offset);\n    return [str.substring(offset, indx >= 0 ? indx : undefined).replace(\"\\r\", \"\"), indx + 1];\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { image_target_type_t } from \"./gen/zappar\";\nimport { zappar_client } from \"./gen/zappar-client\";\nimport { drawPlane } from \"./drawplane\";\nimport { cameraRotationForScreenOrientation, projectionMatrix } from \"./cameramodel\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { launchWorker, messageManager } from \"./worker-client\";\nimport { permissionRequestUI, permissionGrantedAll, permissionGrantedCamera, permissionGrantedMotion, permissionDeniedAny, permissionDeniedCamera, permissionDeniedMotion, permissionRequestMotion, permissionRequestCamera, permissionRequestAll, permissionDeniedUI } from \"./permission\";\nimport { createFaceMesh, destroyFaceMesh, getFaceMesh } from \"./facemesh\";\nimport { Pipeline, applyScreenCounterRotation } from \"./pipeline\";\nimport { CameraSource } from \"./camera-source\";\nimport { HTMLElementSource } from \"./html-element-source\";\nimport { createFaceLandmark, destroyFaceLandmark, getFaceLandmark } from \"./facelandmark\";\nimport compatibility from './compatibility';\nimport { setLogLevel, zcwarn, zcout } from \"./loglevel\";\nimport { SequenceSource } from \"./sequencesource\";\nimport { createCameraSource, getCameraSource } from \"./camera-source-map\";\nimport { gfx } from \"./gfx\";\nimport { ImageTracker } from \"./imagetracker\";\nlet client;\nexport function initialize(opts) {\n    if (client)\n        return client;\n    let loaded = false;\n    launchWorker(opts === null || opts === void 0 ? void 0 : opts.worker).then(() => {\n        zcout(\"Fully loaded\");\n        loaded = true;\n    });\n    let c = new zappar_client(ab => {\n        messageManager.postOutgoingMessage({\n            t: \"zappar\",\n            d: ab\n        }, [ab]);\n    });\n    const uid = getUID();\n    let hasPersistedUID = false;\n    let hasSetID = false;\n    try {\n        /** @ts-ignore */\n        const cookies = Object.fromEntries(document.cookie.split('; ').map(v => v.split(/=(.*)/s).map(decodeURIComponent)));\n        if (cookies['zw-uar-project']) {\n            const parsed = JSON.parse(cookies['zw-uar-project']);\n            if (typeof parsed === 'object' && typeof parsed['id'] === 'string') {\n                c.impl.analytics_project_id_set(\".wiz\" + parsed['id'], uid);\n                hasSetID = true;\n            }\n        }\n    }\n    catch (err) { }\n    if (!hasSetID) {\n        if (window.location.hostname.toLowerCase().indexOf(\".zappar.io\") > 0 || window.location.hostname.toLowerCase().indexOf(\".webar.run\") > 0 || window.location.hostname.toLowerCase().indexOf(\".arweb.app\") > 0 || window.location.hostname.toLowerCase().indexOf(\".zappar-us.io\") > 0 || window.location.hostname.toLowerCase().indexOf(\".zappar-eu.io\") > 0) {\n            let pathParts = window.location.pathname.split(\"/\");\n            if (pathParts.length > 1 && pathParts[1].length > 0) {\n                c.impl.analytics_project_id_set(\".wiz\" + pathParts[1], uid);\n                hasSetID = true;\n            }\n        }\n    }\n    messageManager.onIncomingMessage.bind(msg => {\n        var _a, _b, _c, _d, _e, _f, _g;\n        switch (msg.t) {\n            case \"zappar\":\n                (_a = Pipeline.get(msg.p)) === null || _a === void 0 ? void 0 : _a.pendingMessages.push(msg.d);\n                break;\n            case \"buf\":\n                c.serializer.bufferReturn(msg.d);\n                break;\n            case \"cameraFrameRecycleS2C\": {\n                let msgt = msg;\n                (_c = (_b = Pipeline.get(msgt.p)) === null || _b === void 0 ? void 0 : _b.cameraTokenReturn) === null || _c === void 0 ? void 0 : _c.call(_b, msg);\n                break;\n            }\n            case \"videoFrameS2C\": {\n                let msgt = msg;\n                (_e = (_d = Pipeline.get(msgt.p)) === null || _d === void 0 ? void 0 : _d.videoFrameFromWorker) === null || _e === void 0 ? void 0 : _e.call(_d, msgt);\n                break;\n            }\n            case \"imageBitmapS2C\": {\n                let msgt = msg;\n                (_g = (_f = Pipeline.get(msgt.p)) === null || _f === void 0 ? void 0 : _f.imageBitmapFromWorker) === null || _g === void 0 ? void 0 : _g.call(_f, msgt);\n                break;\n            }\n            case \"licerr\": {\n                let div = document.createElement(\"div\");\n                div.innerHTML = \"Visit <a href='https://docs.zap.works/universal-ar/licensing/' style='color: white;'>our licensing page</a> to find out about hosting on your own domain.\";\n                div.style.position = \"absolute\";\n                div.style.bottom = \"20px\";\n                div.style.width = \"80%\";\n                div.style.backgroundColor = \"black\";\n                div.style.color = \"white\";\n                div.style.borderRadius = \"10px\";\n                div.style.padding = \"10px\";\n                div.style.fontFamily = \"sans-serif\";\n                div.style.textAlign = \"center\";\n                div.style.left = \"10%\";\n                div.style.zIndex = Number.MAX_SAFE_INTEGER.toString();\n                let span = document.createElement(\"span\");\n                span.innerText = \" (30)\";\n                div.append(span);\n                let indx = 30;\n                setInterval(function () {\n                    indx--;\n                    if (indx >= 0)\n                        span.innerText = \" (\" + indx.toString() + \")\";\n                }, 1000);\n                document.body.append(div);\n            }\n            case \"gfx\": {\n                let div = document.createElement(\"div\");\n                div.innerHTML = gfx;\n                div.style.position = \"absolute\";\n                div.style.bottom = \"20px\";\n                div.style.width = \"250px\";\n                div.style.left = \"50%\";\n                div.style.marginLeft = \"-125px\";\n                div.style.zIndex = Number.MAX_SAFE_INTEGER.toString();\n                div.style.opacity = \"0\";\n                div.style.transition = \"opacity 0.5s\";\n                document.body.append(div);\n                setTimeout(function () {\n                    div.style.opacity = \"1\";\n                }, 500);\n                setTimeout(function () {\n                    div.style.opacity = \"0\";\n                }, 3000);\n                setTimeout(function () {\n                    div.remove();\n                }, 4000);\n            }\n        }\n    });\n    client = Object.assign(Object.assign({}, c.impl), { loaded: () => loaded, camera_default_device_id: userFacing => userFacing ? CameraSource.USER_DEFAULT_DEVICE_ID : CameraSource.DEFAULT_DEVICE_ID, camera_source_create: (p, deviceId) => createCameraSource(p, deviceId), camera_source_destroy: cam => { var _a; return (_a = getCameraSource(cam)) === null || _a === void 0 ? void 0 : _a.destroy(); }, camera_source_pause: cam => { var _a; return (_a = getCameraSource(cam)) === null || _a === void 0 ? void 0 : _a.pause(); }, camera_source_start: cam => { var _a; return (_a = getCameraSource(cam)) === null || _a === void 0 ? void 0 : _a.start(); }, camera_count: () => 2, camera_id: indx => indx === 0 ? CameraSource.DEFAULT_DEVICE_ID : CameraSource.USER_DEFAULT_DEVICE_ID, camera_name: indx => indx === 0 ? \"Rear-facing Camera\" : \"User-facing Camera\", camera_user_facing: indx => indx !== 0, pipeline_create: () => Pipeline.create(c.impl, messageManager), pipeline_frame_update: (p) => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.frameUpdate(c); }, pipeline_camera_frame_draw_gl: (pipeline, screenWidth, screenHeight, mirror) => {\n            var _a;\n            (_a = Pipeline.get(pipeline)) === null || _a === void 0 ? void 0 : _a.cameraFrameDrawGL(screenWidth, screenHeight, mirror);\n        }, draw_plane: (gl, projectionMatrix, cameraMatrix, targetMatrix, texture) => {\n            drawPlane(gl, projectionMatrix, cameraMatrix, targetMatrix, texture);\n        }, pipeline_draw_face: (p, projectionMatrix, cameraMatrix, targetMatrix, o) => {\n            var _a;\n            let obj = getFaceMesh(o);\n            if (!obj) {\n                zcwarn(\"attempting to call draw_face on a destroyed zappar_face_mesh_t\");\n                return new Uint16Array();\n            }\n            (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.drawFace(projectionMatrix, cameraMatrix, targetMatrix, obj);\n        }, pipeline_draw_face_project: (p, matrix, vertices, uvMatrix, uvs, indices, texture) => {\n            var _a;\n            (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.drawFaceProject(matrix, vertices, uvMatrix, uvs, indices, texture);\n        }, pipeline_draw_image_target_preview: (p, projectionMatrix, cameraMatrix, targetMatrix, o, indx) => {\n            var _a;\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"image tracker not found\");\n                return;\n            }\n            (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.drawImageTargetPreview(projectionMatrix, cameraMatrix, targetMatrix, indx, obj);\n        }, projection_matrix_from_camera_model: projectionMatrix, projection_matrix_from_camera_model_ext: projectionMatrix, pipeline_process_gl: p => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.processGL(); }, pipeline_gl_context_set: (p, gl, texturePool) => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.glContextSet(gl, texturePool); }, pipeline_gl_context_lost: (p) => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.glContextLost(); }, pipeline_camera_frame_upload_gl: p => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.uploadGL(); }, pipeline_camera_frame_texture_gl: p => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.cameraFrameTexture(); }, pipeline_camera_frame_texture_matrix: (p, sw, sh, mirror) => { var _a; return ((_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.cameraFrameTextureMatrix(sw, sh, mirror)) || mat4.create(); }, pipeline_camera_frame_user_facing: p => { var _a; return ((_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.cameraFrameUserFacing()) || false; }, pipeline_camera_pose_default: () => mat4.create(), pipeline_camera_pose_with_attitude: (p, mirror) => { var _a; return ((_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.cameraPoseWithAttitude(mirror)) || mat4.create(); }, pipeline_camera_pose_with_origin: (p, o) => { let res = mat4.create(); mat4.invert(res, o); return res; }, pipeline_sequence_record_clear: p => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.sequenceRecordClear(); }, pipeline_sequence_record_start: (p, expectedFrames) => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.sequenceRecordStart(expectedFrames); }, pipeline_sequence_record_stop: p => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.sequenceRecordStop(); }, pipeline_sequence_record_device_attitude_matrices_set: (p, v) => { var _a; return (_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.sequenceRecordDeviceAttitudeMatrices(v); }, pipeline_sequence_record_data: p => { var _a; return ((_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.sequenceRecordData()) || new Uint8Array(0); }, pipeline_sequence_record_data_size: p => { var _a; return ((_a = Pipeline.get(p)) === null || _a === void 0 ? void 0 : _a.sequenceRecordData().byteLength) || 0; }, instant_world_tracker_anchor_pose_camera_relative: (o, mirror) => {\n            let res = applyScreenCounterRotation(undefined, c.impl.instant_world_tracker_anchor_pose_raw(o));\n            if (mirror) {\n                let scale = mat4.create();\n                mat4.fromScaling(scale, [-1, 1, 1]);\n                mat4.multiply(res, scale, res);\n                mat4.multiply(res, res, scale);\n            }\n            return res;\n        }, instant_world_tracker_anchor_pose: (o, cameraPose, mirror) => {\n            let res = applyScreenCounterRotation(undefined, c.impl.instant_world_tracker_anchor_pose_raw(o));\n            if (mirror) {\n                let scale = mat4.create();\n                mat4.fromScaling(scale, [-1, 1, 1]);\n                mat4.multiply(res, scale, res);\n                mat4.multiply(res, res, scale);\n            }\n            mat4.multiply(res, cameraPose, res);\n            return res;\n        }, instant_world_tracker_anchor_pose_set_from_camera_offset: (o, x, y, z, orientation) => {\n            // TODO - add an _ext function if we need to support mirrored cameras with an extra param\n            // if(mirror) {\n            //     x *= -1;\n            // }\n            // TODO - can we access the appropriate pipeline here to call pipeline_camera_frame_user_facing(p)?\n            let userFacing = false;\n            let rotation = cameraRotationForScreenOrientation(userFacing) * Math.PI / 180.0;\n            let rotationMat = mat4.create();\n            mat4.fromRotation(rotationMat, -rotation, [0, 0, 1]);\n            let rawVec = vec3.create();\n            vec3.transformMat4(rawVec, [x, y, z], rotationMat);\n            c.impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(o, rawVec[0], rawVec[1], rawVec[2], orientation);\n        }, image_tracker_create: pipeline => ImageTracker.create(pipeline, c.impl), image_tracker_destroy: t => { var _a; return (_a = ImageTracker.get(t)) === null || _a === void 0 ? void 0 : _a.destroy(); }, image_tracker_target_type: (t, i) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_type on a destroyed zappar_image_tracker_t\");\n                return image_target_type_t.IMAGE_TRACKER_TYPE_PLANAR;\n            }\n            return obj.getTargetInfo(i).type;\n        }, image_tracker_target_count: t => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_count on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.targetCount();\n        }, image_tracker_target_load_from_memory: (t, data) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_load_from_memory on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            obj.loadFromMemory(data);\n        }, image_tracker_target_preview_compressed: (t, i) => {\n            var _a;\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_compressed on a destroyed zappar_image_tracker_t\");\n                return new Uint8Array(0);\n            }\n            return ((_a = obj.getTargetInfo(i).preview) === null || _a === void 0 ? void 0 : _a.compressed) || new Uint8Array(0);\n        }, image_tracker_target_preview_compressed_mimetype: (t, i) => {\n            var _a;\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_compressed_mimetype on a destroyed zappar_image_tracker_t\");\n                return \"\";\n            }\n            return ((_a = obj.getTargetInfo(i).preview) === null || _a === void 0 ? void 0 : _a.mimeType) || \"\";\n        }, image_tracker_target_preview_compressed_size: (t, i) => {\n            var _a, _b;\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_compressed_size on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return ((_b = (_a = obj.getTargetInfo(i).preview) === null || _a === void 0 ? void 0 : _a.compressed) === null || _b === void 0 ? void 0 : _b.byteLength) || 0;\n        }, image_tracker_target_physical_scale_factor: (t, i) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_physical_scale_factor on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getTargetInfo(i).physicalScaleFactor;\n        }, image_tracker_target_radius_top: (t, i) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_radius_top on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getTargetInfo(i).topRadius;\n        }, image_tracker_target_radius_bottom: (t, i) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_radius_bottom on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getTargetInfo(i).bottomRadius;\n        }, image_tracker_target_side_length: (t, i) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_side_length on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getTargetInfo(i).sideLength;\n        }, image_tracker_target_image: (t, i) => {\n            let obj = ImageTracker.get(t);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_image on a destroyed zappar_image_tracker_t\");\n                return new Image();\n            }\n            return obj.getDecodedPreview(i);\n        }, image_tracker_anchor_pose_camera_relative: (o, indx, mirror) => {\n            let res = applyScreenCounterRotation(undefined, c.impl.image_tracker_anchor_pose_raw(o, indx));\n            if (mirror) {\n                let scale = mat4.create();\n                mat4.fromScaling(scale, [-1, 1, 1]);\n                mat4.multiply(res, scale, res);\n                mat4.multiply(res, res, scale);\n            }\n            return res;\n        }, image_tracker_anchor_pose: (o, indx, cameraPose, mirror) => {\n            let res = applyScreenCounterRotation(undefined, c.impl.image_tracker_anchor_pose_raw(o, indx));\n            if (mirror) {\n                let scale = mat4.create();\n                mat4.fromScaling(scale, [-1, 1, 1]);\n                mat4.multiply(res, scale, res);\n                mat4.multiply(res, res, scale);\n            }\n            mat4.multiply(res, cameraPose, res);\n            return res;\n        }, image_tracker_target_preview_mesh_indices: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_indices on a destroyed zappar_image_tracker_t\");\n                return new Uint16Array();\n            }\n            return obj.getPreviewMesh(indx).indices;\n        }, image_tracker_target_preview_mesh_vertices: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_vertices on a destroyed zappar_image_tracker_t\");\n                return new Float32Array();\n            }\n            return obj.getPreviewMesh(indx).vertices;\n        }, image_tracker_target_preview_mesh_uvs: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_uvs on a destroyed zappar_image_tracker_t\");\n                return new Float32Array();\n            }\n            return obj.getPreviewMesh(indx).uvs;\n        }, image_tracker_target_preview_mesh_normals: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_normals on a destroyed zappar_image_tracker_t\");\n                return new Float32Array();\n            }\n            return obj.getPreviewMesh(indx).normals;\n        }, image_tracker_target_preview_mesh_indices_size: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_indices_size on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getPreviewMesh(indx).indices.length;\n        }, image_tracker_target_preview_mesh_vertices_size: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_vertices_size on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getPreviewMesh(indx).vertices.length;\n        }, image_tracker_target_preview_mesh_uvs_size: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_uvs_size on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getPreviewMesh(indx).uvs.length;\n        }, image_tracker_target_preview_mesh_normals_size: (o, indx) => {\n            let obj = ImageTracker.get(o);\n            if (!obj) {\n                zcwarn(\"attempting to call image_tracker_target_preview_mesh_normals_size on a destroyed zappar_image_tracker_t\");\n                return 0;\n            }\n            return obj.getPreviewMesh(indx).normals.length;\n        }, face_tracker_anchor_pose_camera_relative: (o, indx, mirror) => {\n            let res = applyScreenCounterRotation(undefined, c.impl.face_tracker_anchor_pose_raw(o, indx));\n            if (mirror) {\n                let scale = mat4.create();\n                mat4.fromScaling(scale, [-1, 1, 1]);\n                mat4.multiply(res, scale, res);\n                mat4.multiply(res, res, scale);\n            }\n            return res;\n        }, face_tracker_anchor_pose: (o, indx, cameraPose, mirror) => {\n            let res = applyScreenCounterRotation(undefined, c.impl.face_tracker_anchor_pose_raw(o, indx));\n            if (mirror) {\n                let scale = mat4.create();\n                mat4.fromScaling(scale, [-1, 1, 1]);\n                mat4.multiply(res, scale, res);\n                mat4.multiply(res, res, scale);\n            }\n            mat4.multiply(res, cameraPose, res);\n            return res;\n        }, face_tracker_model_load_default: (o) => __awaiter(this, void 0, void 0, function* () {\n            yield loadDefaultFaceModel(o);\n        }), face_mesh_create: () => {\n            return createFaceMesh();\n        }, face_mesh_destroy: (m) => {\n            destroyFaceMesh(m);\n        }, face_mesh_indices: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_indices on a destroyed zappar_face_mesh_t\");\n                return new Uint16Array();\n            }\n            return obj.getIndices();\n        }, face_mesh_indices_size: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_indices_size on a destroyed zappar_face_mesh_t\");\n                return 0;\n            }\n            return obj.getIndices().length;\n        }, face_mesh_uvs: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_uvs on a destroyed zappar_face_mesh_t\");\n                return new Float32Array();\n            }\n            return obj.getUVs();\n        }, face_mesh_uvs_size: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_uvs_size on a destroyed zappar_face_mesh_t\");\n                return 0;\n            }\n            return obj.getUVs().length;\n        }, face_mesh_vertices: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_vertices on a destroyed zappar_face_mesh_t\");\n                return new Float32Array();\n            }\n            return obj.getVertices();\n        }, face_mesh_vertices_size: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_vertices_size on a destroyed zappar_face_mesh_t\");\n                return 0;\n            }\n            return obj.getVertices().length;\n        }, face_mesh_normals: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_normals on a destroyed zappar_face_mesh_t\");\n                return new Float32Array();\n            }\n            return obj.getNormals();\n        }, face_mesh_normals_size: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_normals_size on a destroyed zappar_face_mesh_t\");\n                return 0;\n            }\n            return obj.getNormals().length;\n        }, face_mesh_load_from_memory: (m, ab, fillMouth, fillEyeL, fillEyeR, fillNeck) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_load_from_memory on a destroyed zappar_face_mesh_t\");\n                return;\n            }\n            obj.loadFromMemory(ab, fillMouth, fillEyeL, fillEyeR, fillNeck);\n        }, face_mesh_update: (m, identity, expression, mirrored) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_update on a destroyed zappar_face_mesh_t\");\n                return;\n            }\n            obj.update(identity, expression, mirrored);\n        }, face_mesh_load_default: (m) => __awaiter(this, void 0, void 0, function* () {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t\");\n                return;\n            }\n            let url = new URL(\"./face_mesh_face_model.zbin\", import.meta.url);\n            let req = yield fetch(url.toString());\n            obj.loadFromMemory(yield req.arrayBuffer(), false, false, false, false);\n        }), face_mesh_load_default_face: (m, fillMouth, fillEyeL, fillEyeR) => __awaiter(this, void 0, void 0, function* () {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_load_default_face on a destroyed zappar_face_mesh_t\");\n                return;\n            }\n            let url = new URL(\"./face_mesh_face_model.zbin\", import.meta.url);\n            let req = yield fetch(url.toString());\n            obj.loadFromMemory(yield req.arrayBuffer(), fillMouth, fillEyeL, fillEyeR, false);\n        }), face_mesh_load_default_full_head_simplified: (m, fillMouth, fillEyeL, fillEyeR, fillNeck) => __awaiter(this, void 0, void 0, function* () {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_load_default_full_head_simplified on a destroyed zappar_face_mesh_t\");\n                return;\n            }\n            let url = new URL(\"./face_mesh_full_head_simplified_model.zbin\", import.meta.url);\n            let req = yield fetch(url.toString());\n            obj.loadFromMemory(yield req.arrayBuffer(), fillMouth, fillEyeL, fillEyeR, fillNeck);\n        }), face_mesh_loaded_version: (m) => {\n            let obj = getFaceMesh(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t\");\n                return -1;\n            }\n            return obj.getModelVersion();\n        }, face_landmark_create: (n) => {\n            return createFaceLandmark(n);\n        }, face_landmark_destroy: (m) => {\n            destroyFaceLandmark(m);\n        }, face_landmark_update: (m, identity, expression, mirrored) => {\n            let obj = getFaceLandmark(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_landmark_update on a destroyed zappar_face_landmark_t\");\n                return;\n            }\n            obj.update(identity, expression, mirrored);\n        }, face_landmark_anchor_pose: (m) => {\n            let obj = getFaceLandmark(m);\n            if (!obj) {\n                zcwarn(\"attempting to call face_landmark_anchor_pose on a destroyed zappar_face_landmark_t\");\n                return mat4.create();\n            }\n            return obj.anchor_pose;\n        }, html_element_source_create: (pipeline, elm) => HTMLElementSource.createVideoElementSource(pipeline, elm), html_element_source_start: o => { var _a; return (_a = HTMLElementSource.getVideoElementSource(o)) === null || _a === void 0 ? void 0 : _a.start(); }, html_element_source_pause: o => { var _a; return (_a = HTMLElementSource.getVideoElementSource(o)) === null || _a === void 0 ? void 0 : _a.pause(); }, html_element_source_destroy: o => { var _a; return (_a = HTMLElementSource.getVideoElementSource(o)) === null || _a === void 0 ? void 0 : _a.destroy(); }, sequence_source_create: p => SequenceSource.create(p), sequence_source_load_from_memory: (o, data) => { var _a; return (_a = SequenceSource.get(o)) === null || _a === void 0 ? void 0 : _a.loadFromMemory(data); }, sequence_source_pause: o => { var _a; return (_a = SequenceSource.get(o)) === null || _a === void 0 ? void 0 : _a.pause(); }, sequence_source_start: o => { var _a; return (_a = SequenceSource.get(o)) === null || _a === void 0 ? void 0 : _a.start(); }, sequence_source_max_playback_fps_set: (o, fps) => { var _a; return (_a = SequenceSource.get(o)) === null || _a === void 0 ? void 0 : _a.maxPlaybackFpsSet(fps); }, sequence_source_time_set: (o, t) => { var _a; return (_a = SequenceSource.get(o)) === null || _a === void 0 ? void 0 : _a.setTime(t); }, sequence_source_destroy: o => { var _a; return (_a = SequenceSource.get(o)) === null || _a === void 0 ? void 0 : _a.destroy(); }, permission_granted_all: permissionGrantedAll, permission_granted_camera: permissionGrantedCamera, permission_granted_motion: permissionGrantedMotion, permission_denied_any: permissionDeniedAny, permission_denied_camera: permissionDeniedCamera, permission_denied_motion: permissionDeniedMotion, permission_request_motion: permissionRequestMotion, permission_request_camera: permissionRequestCamera, permission_request_all: permissionRequestAll, permission_request_ui: permissionRequestUI, permission_request_ui_promise: permissionRequestUI, permission_denied_ui: permissionDeniedUI, browser_incompatible: compatibility.incompatible, browser_incompatible_ui: compatibility.incompatible_ui, log_level_set: l => {\n            setLogLevel(l);\n            c.impl.log_level_set(l);\n        }, cookies_permitted: p => {\n            if (p) {\n                if (!hasPersistedUID) {\n                    persistUID(uid);\n                    hasPersistedUID = true;\n                }\n            }\n            else {\n                deleteUID();\n            }\n        } });\n    return client;\n}\nfunction loadDefaultFaceModel(o) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let url = new URL(\"./face_tracking_model.zbin\", import.meta.url);\n        let data = yield fetch(url.toString());\n        let ab = yield data.arrayBuffer();\n        client === null || client === void 0 ? void 0 : client.face_tracker_model_load_from_memory(o, ab);\n    });\n}\nfunction getUID() {\n    let uid = window.localStorage.getItem('z_uar_lid');\n    if (uid === null) {\n        const destination = new Uint8Array(8);\n        window.crypto.getRandomValues(destination);\n        uid = '';\n        for (let i = 0; i < destination.byteLength; i++) {\n            const part = destination[i].toString(16);\n            if (part.length === 1)\n                uid += '0' + part;\n            else if (part.length === 2)\n                uid += part;\n        }\n    }\n    return uid;\n}\nfunction persistUID(u) {\n    window.localStorage.setItem('z_uar_lid', u);\n}\nfunction deleteUID() {\n    window.localStorage.removeItem('z_uar_lid');\n}\n", "export const VERSION = \"2.1.9\";\n", "import { initialize as nativeInitialize } from \"./native\";\nimport { VERSION } from \"./version\";\nexport function initialize(opts) {\n    console.log(`Zappar CV v${VERSION}`);\n    return nativeInitialize(opts);\n}\nexport { barcode_format_t, face_landmark_name_t, instant_world_tracker_transform_orientation_t, log_level_t, image_target_type_t } from \"./gen/zappar\";\n", "/**\n  * SDK version.\n*/\nexport const VERSION = \"2.2.7\";\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { initialize } from \"@zappar/zappar-cv\";\nimport { mat4 } from \"gl-matrix\";\nimport { VERSION } from \"./version\";\nlet _z;\nlet _options;\nexport function setOptions(opts) {\n    if (_z)\n        console.warn(\"setOptions called after Zappar JS initialization\");\n    _options = opts;\n}\n/**\n * @ignore\n*/\nexport function z() {\n    if (!_z) {\n        console.log(`Zappar JS v${VERSION}`);\n        _z = initialize(_options);\n    }\n    return _z;\n}\n/**\n * Gets the ID or the default rear- or user-facing camera.\n * @param userFacing - Whether 'selfie' camera ID should be returned.\n * @returns The camera device ID.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices\n*/\nexport function cameraDefaultDeviceID(userFacing) {\n    return z().camera_default_device_id(userFacing || false);\n}\n/**\n * Inverts a 4x4 Float32Array Matrix.\n * @param m - The 4x4 matrix to be inverted.\n * @returns The inverted Float32Array matrix.\n*/\nexport function invert(m) {\n    const ret = mat4.create();\n    mat4.invert(ret, m);\n    return ret;\n}\n/**\n  * Calculates the projection matrix from a given camera model (i.e. intrinsic camera parameters)\n  * @param model - The camera model.\n  * @param renderWidth - The width of the canvas.\n  * @param renderHeight - The height of the canvas.\n  * @param zNear - The near clipping plane.\n  * @param zFar - The far clipping plane.\n  * @returns A 4x4 column-major projection matrix.\n */\nexport function projectionMatrixFromCameraModel(model, renderWidth, renderHeight, zNear = 0.1, zFar = 100) {\n    return z().projection_matrix_from_camera_model_ext(model, renderWidth, renderHeight, zNear, zFar);\n}\n/**\n * @ignore\n*/\nexport function drawPlane(gl, projectionMatrix, cameraMatrix, targetMatrix, texture) {\n    z().draw_plane(gl, projectionMatrix, cameraMatrix, targetMatrix, texture);\n}\n/**\n * Detects if your page is running in a browser that's not supported\n * @returns 'true' if the browser is incompatible.\n*/\nexport function browserIncompatible() {\n    return z().browser_incompatible();\n}\n/**\n * Shows a full-page dialog that informs the user they're using an unsupported browser,\n * and provides a button to 'copy' the current page URL so they can 'paste' it into the\n * address bar of a compatible alternative.\n*/\nexport function browserIncompatibleUI() {\n    z().browser_incompatible_ui();\n}\n/**\n * Check if the Zappar library is fully loaded and ready to process data.\n * Note that you can still use the full API before this function returns true - it's here to help implement loading screens.\n *\n * @returns 'true' if the library is fully loaded.\n*/\nexport function loaded() {\n    return z().loaded();\n}\n/**\n * Gets a promise that resolves when the Zappar library is fully loaded and ready to process data.\n * Note that you can still use the full API before this promise is resolved - it's here to help implement loading screens.\n *\n * @returns a promise that resolves when the library is fully loaded.\n*/\nexport function loadedPromise() {\n    return __awaiter(this, void 0, void 0, function* () {\n        while (true) {\n            if (loaded())\n                return;\n            yield delay(50);\n        }\n    });\n}\nfunction delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n * Pass true to this function if your user has consented to analytics cookies.\n * If set to true, a local storage item will store a pseudorandom identifier for the user for the purposes of\n * reporting 'unique user' analytics if the page is hosted using Zapworks.\n *\n * @param c - if cookies are permitted or not\n */\nexport function cookiesPermitted(c) {\n    z().cookies_permitted(c);\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Event, Event1 } from \"./event\";\nimport { z } from \"./zappar\";\n/**\n * Attaches content to a known image as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/javascript/image-tracking/\n */\nexport class ImageTracker {\n    /**\n     * Constructs a new ImageTracker\n     * @param _pipeline - The pipeline that this tracker will operate within.\n     * @param targetFile - The .zpt target file from the source image you'd like to track.\n     * @see https://docs.zap.works/universal-ar/zapworks-cli/\n    */\n    constructor(_pipeline, targetFile) {\n        this._pipeline = _pipeline;\n        /**\n        * Emitted when an anchor becomes visible in a camera frame.\n        */\n        this.onVisible = new Event1();\n        /**\n        * Emitted when an anchor goes from being visible in the previous camera frame, to not being visible in the current frame.\n        */\n        this.onNotVisible = new Event1();\n        /**\n        * Emitted when a new anchor is created by the tracker.\n        */\n        this.onNewAnchor = new Event1();\n        /**\n        * The set of currently visible anchors.\n        */\n        this.visible = new Set();\n        /**\n        * A map of the available image anchors by their respective IDs.\n        */\n        this.anchors = new Map();\n        this._visibleLastFrame = new Set();\n        this._frameUpdate = () => {\n            const newAnchors = new Set();\n            // Swap the visible and visibleLastFrame so we can avoid a set allocation\n            const swap = this.visible;\n            this.visible = this._visibleLastFrame;\n            this._visibleLastFrame = swap;\n            this.visible.clear();\n            const num = this._z.image_tracker_anchor_count(this._impl);\n            for (let i = 0; i < num; i++) {\n                const id = this._z.image_tracker_anchor_id(this._impl, i);\n                let anchor = this.anchors.get(id);\n                let isNew = false; // TODO: declared but never used?\n                if (!anchor) {\n                    anchor = {\n                        onVisible: new Event(),\n                        onNotVisible: new Event(),\n                        id: id,\n                        poseCameraRelative: mirror => this._z.image_tracker_anchor_pose_camera_relative(this._impl, i, mirror === true),\n                        pose: (cameraPose, mirror) => this._z.image_tracker_anchor_pose(this._impl, i, cameraPose, mirror === true),\n                        visible: true\n                    };\n                    isNew = true;\n                    this.anchors.set(id, anchor);\n                    newAnchors.add(anchor);\n                }\n                anchor.visible = true;\n                this.visible.add(anchor);\n            }\n            // Events\n            for (const anchor of newAnchors)\n                this.onNewAnchor.emit(anchor);\n            for (const anchor of this.visible) {\n                if (!this._visibleLastFrame.has(anchor)) {\n                    this.onVisible.emit(anchor);\n                    anchor.onVisible.emit();\n                }\n                else {\n                    this._visibleLastFrame.delete(anchor);\n                }\n            }\n            for (const anchor of this._visibleLastFrame) {\n                anchor.visible = false;\n                this.onNotVisible.emit(anchor);\n                anchor.onNotVisible.emit();\n            }\n        };\n        this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate);\n        this._z = z();\n        this._impl = this._z.image_tracker_create(this._pipeline._getImpl());\n        if (targetFile)\n            this.loadTarget(targetFile);\n    }\n    /**\n     * Destroys the image tracker.\n     */\n    destroy() {\n        this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate);\n        this.anchors.clear();\n        this.visible.clear();\n        this._z.image_tracker_destroy(this._impl);\n    }\n    /**\n     * Loads a target file.\n     * @param src - A URL to, or an ArrayBuffer of, the target file from the source image you'd like to track.\n     * @see https://docs.zap.works/universal-ar/zapworks-cli/\n     * @returns A promise that's resolved once the file is downloaded. It may still take a few frames for the tracker to fully initialize and detect images.\n    */\n    loadTarget(src) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof src === \"string\") {\n                src = yield (yield fetch(src)).arrayBuffer();\n            }\n            this._targets = undefined;\n            this._z.image_tracker_target_load_from_memory(this._impl, src);\n        });\n    }\n    /**\n     * Gets/sets the enabled state of the image tracker.\n     * Disable when not in use to save computational resources during frame processing.\n     */\n    get enabled() {\n        return this._z.image_tracker_enabled(this._impl);\n    }\n    set enabled(e) {\n        this._z.image_tracker_enabled_set(this._impl, e);\n    }\n    /**\n     * An array of information for each of the target images loaded by this tracker.\n     */\n    get targets() {\n        if (!this._targets) {\n            this._targets = [];\n            const count = this._z.image_tracker_target_count(this._impl);\n            for (let i = 0; i < count; i++) {\n                this._targets.push(new ImageTarget(this._z, this._impl, i));\n            }\n        }\n        return this._targets;\n    }\n}\n/**\n * A target image embedded with a target file.\n */\nexport class ImageTarget {\n    constructor(_z, _impl, _indx) {\n        this._z = _z;\n        this._impl = _impl;\n        this._indx = _indx;\n        this.physicalScaleFactor = this._z.image_tracker_target_physical_scale_factor(this._impl, this._indx);\n        if (this.physicalScaleFactor < 0)\n            this.physicalScaleFactor = undefined;\n        this.topRadius = this._z.image_tracker_target_radius_top(this._impl, this._indx);\n        if (this.topRadius < 0)\n            this.topRadius = undefined;\n        this.bottomRadius = this._z.image_tracker_target_radius_bottom(this._impl, this._indx);\n        if (this.bottomRadius < 0)\n            this.bottomRadius = undefined;\n        this.sideLength = this._z.image_tracker_target_side_length(this._impl, this._indx);\n        if (this.sideLength < 0)\n            this.sideLength = undefined;\n    }\n    /**\n     * An <img> element containing the embedded preview image, or `undefined` if the target file does not contain one.\n     */\n    get image() {\n        if (this._image === undefined) {\n            this._image = this._z.image_tracker_target_image(this._impl, this._indx) || null;\n        }\n        return this._image || undefined;\n    }\n    /**\n     * An object containing a mesh that represents this image target.\n     */\n    get preview() {\n        if (this._preview === undefined) {\n            this._preview = new ImageTargetPreview(this._z, this._impl, this._indx);\n        }\n        return this._preview;\n    }\n}\n/**\n * Stores a mesh that represents an image target.\n */\nexport class ImageTargetPreview {\n    constructor(_z, _impl, _indx) {\n        this._z = _z;\n        this._impl = _impl;\n        this._indx = _indx;\n        this.vertices = this._z.image_tracker_target_preview_mesh_vertices(this._impl, this._indx);\n        this.indices = this._z.image_tracker_target_preview_mesh_indices(this._impl, this._indx);\n        this.uvs = this._z.image_tracker_target_preview_mesh_uvs(this._impl, this._indx);\n    }\n}\n", "import { instant_world_tracker_transform_orientation_t } from \"@zappar/zappar-cv\";\nimport { z } from \"./zappar\";\n/**\n * Attaches content to a point on a surface in front of the user as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/javascript/instant-world-tracking/\n */\nexport class InstantWorldTracker {\n    /**\n     * Constructs a new InstantWorldTracker.\n     * @param _pipeline - The pipeline that this tracker will operate within.\n    */\n    constructor(_pipeline) {\n        this._pipeline = _pipeline;\n        /**\n        * The instant world tracking anchor.\n        */\n        this.anchor = {\n            poseCameraRelative: mirror => this._anchorPoseCameraRelative(mirror),\n            pose: (cameraPose, mirror) => this._anchorPose(cameraPose, mirror)\n        };\n        this._z = z();\n        this._impl = this._z.instant_world_tracker_create(this._pipeline._getImpl());\n    }\n    /**\n     * Destroys the instant tracker.\n     */\n    destroy() {\n        this._z.instant_world_tracker_destroy(this._impl);\n    }\n    _anchorPoseCameraRelative(mirror) {\n        return this._z.instant_world_tracker_anchor_pose_camera_relative(this._impl, mirror === true);\n    }\n    _anchorPose(cameraPose, mirror) {\n        return this._z.instant_world_tracker_anchor_pose(this._impl, cameraPose, mirror === true);\n    }\n    /**\n     * Gets/sets the enabled state of the instant world tracker.\n     * Disable when not in use to save computational resources during frame processing.\n     */\n    get enabled() {\n        return this._z.instant_world_tracker_enabled(this._impl);\n    }\n    set enabled(e) {\n        this._z.instant_world_tracker_enabled_set(this._impl, e);\n    }\n    /**\n     * Sets the point in the user's environment that the anchor tracks from.\n     *\n     * The parameters passed in to this function correspond to the X, Y and Z coordinates (in camera space) of the point to track. Choosing a position with X and Y coordinates of zero, and a negative Z coordinate, will select a point on a surface directly in front of the center of the screen.\n     *\n     * @param orientation -  The orientation of the point in space.\n     */\n    setAnchorPoseFromCameraOffset(x, y, z, orientation) {\n        this._z.instant_world_tracker_anchor_pose_set_from_camera_offset(this._impl, x, y, z, orientation || instant_world_tracker_transform_orientation_t.MINUS_Z_AWAY_FROM_USER);\n    }\n}\n", "import { Event1 } from \"./event\";\nimport { barcode_format_t } from \"@zappar/zappar-cv\";\nimport { z } from \"./zappar\";\n/**\n * Detects barcodes in the images from the camera.\n */\nexport class BarcodeFinder {\n    /**\n     * Constructs a new BarcodeFinder.\n     * @param _pipeline - The pipeline that this BarcodeFinder will operate within.\n    */\n    constructor(_pipeline) {\n        this._pipeline = _pipeline;\n        /**\n        * Emitted when a barcode becomes visible in a camera frame.\n        */\n        this.onDetection = new Event1();\n        this._lastDetected = [];\n        this._found = [];\n        this._formats = [];\n        this._frameUpdate = () => {\n            this._found = [];\n            const num = this._z.barcode_finder_found_number(this._impl);\n            for (let i = 0; i < num; i++) {\n                this._found.push({\n                    text: this._z.barcode_finder_found_text(this._impl, i),\n                    format: this._z.barcode_finder_found_format(this._impl, i)\n                });\n            }\n            if (this._found.length === 0)\n                return;\n            outerloop: for (const entry of this._found) {\n                for (const previous of this._lastDetected) {\n                    if (previous.text === entry.text)\n                        continue outerloop;\n                }\n                this.onDetection.emit(entry);\n            }\n            this._lastDetected = this._found;\n        };\n        this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate);\n        this._z = z();\n        this._impl = this._z.barcode_finder_create(this._pipeline._getImpl());\n        this._formats.push.apply(this._formats, [\n            barcode_format_t.AZTEC,\n            barcode_format_t.CODABAR,\n            barcode_format_t.CODE_39,\n            barcode_format_t.CODE_93,\n            barcode_format_t.CODE_128,\n            barcode_format_t.DATA_MATRIX,\n            barcode_format_t.EAN_8,\n            barcode_format_t.EAN_13,\n            barcode_format_t.ITF,\n            barcode_format_t.MAXICODE,\n            barcode_format_t.PDF_417,\n            barcode_format_t.QR_CODE,\n            barcode_format_t.RSS_14,\n            barcode_format_t.RSS_EXPANDED,\n            barcode_format_t.UPC_A,\n            barcode_format_t.UPC_E,\n            barcode_format_t.UPC_EAN_EXTENSION\n        ]);\n    }\n    /**\n     * Destroys the barcode finder.\n     */\n    destroy() {\n        this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate);\n        this._found = [];\n        this._lastDetected = [];\n        this._z.barcode_finder_destroy(this._impl);\n    }\n    /**\n      * Returns an array of discovered barcodes\n      */\n    get found() {\n        return this._found;\n    }\n    /**\n     * Gets/sets the enabled state of the barcode finder.\n     * Disable when not in use to save computational resources during frame processing.\n    */\n    get enabled() {\n        return this._z.barcode_finder_enabled(this._impl);\n    }\n    set enabled(e) {\n        this._z.barcode_finder_enabled_set(this._impl, e);\n    }\n    /**\n      * Gets/sets the barcode formats to scan for.\n      */\n    get formats() {\n        return this._formats;\n    }\n    set formats(f) {\n        this._formats = f.slice();\n        let underlying = 0;\n        for (const format of this._formats) {\n            underlying |= format;\n        }\n        this._z.barcode_finder_formats_set(this._impl, underlying);\n    }\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Event, Event1 } from \"./event\";\nimport { z } from \"./zappar\";\n/**\n * Attaches content to a face as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/javascript/face-tracking/\n */\nexport class FaceTracker {\n    /**\n     * Constructs a new FaceTracker\n     * @param _pipeline - The pipeline that this tracker will operate within.\n    */\n    constructor(_pipeline) {\n        this._pipeline = _pipeline;\n        /**\n        * Emitted when an anchor becomes visible in a camera frame.\n        */\n        this.onVisible = new Event1();\n        /**\n        * Emitted when an anchor goes from being visible in the previous camera frame, to not being visible in the current frame.\n        */\n        this.onNotVisible = new Event1();\n        /**\n        * Emitted when a new anchor is created by the tracker.\n        */\n        this.onNewAnchor = new Event1();\n        /**\n         * The set of currently visible anchors.\n         */\n        this.visible = new Set();\n        /**\n        * A map of the available anchors by their respective IDs.\n        */\n        this.anchors = new Map();\n        this._visibleLastFrame = new Set();\n        this._frameUpdate = () => {\n            const newAnchors = new Set();\n            // Swap the visible and visibleLastFrame so we can avoid a set allocation\n            const swap = this.visible;\n            this.visible = this._visibleLastFrame;\n            this._visibleLastFrame = swap;\n            this.visible.clear();\n            const num = this._z.face_tracker_anchor_count(this._impl);\n            for (let i = 0; i < num; i++) {\n                const id = this._z.face_tracker_anchor_id(this._impl, i);\n                let anchor = this.anchors.get(id);\n                let isNew = false;\n                if (!anchor) {\n                    anchor = {\n                        onVisible: new Event(),\n                        onNotVisible: new Event(),\n                        indx: 0,\n                        id: id,\n                        poseCameraRelative: mirror => this._z.face_tracker_anchor_pose_camera_relative(this._impl, anchor.indx, mirror === true),\n                        pose: (cameraPose, mirror) => this._z.face_tracker_anchor_pose(this._impl, anchor.indx, cameraPose, mirror === true),\n                        identity: new Float32Array(50),\n                        expression: new Float32Array(29),\n                        visible: true\n                    };\n                    isNew = true;\n                    this.anchors.set(id, anchor);\n                    newAnchors.add(anchor);\n                }\n                anchor.indx = i;\n                anchor.visible = true;\n                anchor.identity = this._z.face_tracker_anchor_identity_coefficients(this._impl, i);\n                anchor.expression = this._z.face_tracker_anchor_expression_coefficients(this._impl, i);\n                this.visible.add(anchor);\n            }\n            // Events\n            for (const anchor of newAnchors)\n                this.onNewAnchor.emit(anchor);\n            for (const anchor of this.visible) {\n                if (!this._visibleLastFrame.has(anchor)) {\n                    this.onVisible.emit(anchor);\n                    anchor.onVisible.emit();\n                }\n                else {\n                    this._visibleLastFrame.delete(anchor);\n                }\n            }\n            for (const anchor of this._visibleLastFrame) {\n                anchor.visible = false;\n                this.onNotVisible.emit(anchor);\n                anchor.onNotVisible.emit();\n            }\n        };\n        this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate);\n        this._z = z();\n        this._impl = this._z.face_tracker_create(this._pipeline._getImpl());\n    }\n    /**\n      * Destroys the face tracker.\n     */\n    destroy() {\n        this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate);\n        this.anchors.clear();\n        this.visible.clear();\n        this._z.face_tracker_destroy(this._impl);\n    }\n    /**\n     * Loads face tracking model data.\n     * @param src - A URL to, or ArrayBuffer of, model data.\n     * @returns A promise that's resolved once the model is loaded. It may still take a few frames for the tracker to fully initialize and detect faces.\n    */\n    loadModel(src) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof src === \"string\") {\n                src = yield (yield fetch(src)).arrayBuffer();\n            }\n            this._z.face_tracker_model_load_from_memory(this._impl, src);\n        });\n    }\n    /**\n     * Loads the default face tracking model.\n     * @returns A promise that's resolved once the model is loaded. It may still take a few frames for the tracker to fully initialize and detect faces.\n    */\n    loadDefaultModel() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._z.face_tracker_model_load_default(this._impl);\n        });\n    }\n    /**\n     * Gets/sets the enabled state of the face tracker.\n     * Disable when not in use to save computational resources during frame processing.\n     */\n    get enabled() {\n        return this._z.face_tracker_enabled(this._impl);\n    }\n    set enabled(e) {\n        this._z.face_tracker_enabled_set(this._impl, e);\n    }\n    /**\n     * Gets/sets the maximum number of faces to track.\n     *\n     * By default only one face is tracked in any given frame. Increasing this number may reduce runtime performance.\n     */\n    get maxFaces() {\n        return this._z.face_tracker_max_faces(this._impl);\n    }\n    set maxFaces(m) {\n        this._z.face_tracker_max_faces_set(this._impl, m);\n    }\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { z } from \"./zappar\";\n/**\n * A mesh that fits to the user's face and deforms as the user's expression changes.\n * @see https://docs.zap.works/universal-ar/javascript/face-tracking/\n */\nexport class FaceMesh {\n    /**\n     * Constructs a new FaceMesh.\n     * @see https://docs.zap.works/universal-ar/javascript/face-tracking/\n    */\n    constructor() {\n        this._z = z();\n        this._impl = this._z.face_mesh_create();\n    }\n    /**\n     * Destroys the face mesh.\n     */\n    destroy() {\n        this._z.face_mesh_destroy(this._impl);\n    }\n    /**\n     * Loads the data for a face mesh.\n     * @param src - A URL or ArrayBuffer of the source mesh data.\n     * @param fillMouth - If true, fills this face feature with polygons.\n     * @param fillEyeLeft - If true, fills this face feature with polygons.\n     * @param fillEyeRight - If true, fills this face feature with polygons.\n     * @param fillNeck - If true, fills this face feature with polygons.\n     * @returns A promise that's resolved once the data is loaded.\n     */\n    load(src, fillMouth, fillEyeLeft, fillEyeRight, fillNeck) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!src) {\n                this.loadDefault();\n                return;\n            }\n            else if (typeof src === \"string\") {\n                src = yield (yield fetch(src)).arrayBuffer();\n            }\n            this._z.face_mesh_load_from_memory(this._impl, src, fillMouth || false, fillEyeLeft || false, fillEyeRight || false, fillNeck || false);\n        });\n    }\n    /**\n      * Loads the default face mesh data.\n      * @returns A promise that's resolved once the data is loaded.\n      */\n    loadDefault() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._z.face_mesh_load_default(this._impl);\n        });\n    }\n    /**\n      * Loads the default face mesh.\n      * @param fillMouth - If true, fills this face feature with polygons.\n      * @param fillEyeLeft - If true, fills this face feature with polygons.\n      * @param fillEyeRight - If true, fills this face feature with polygons.\n      * @returns A promise that's resolved once the data is loaded.\n      */\n    loadDefaultFace(fillMouth, fillEyeLeft, fillEyeRight) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._z.face_mesh_load_default_face(this._impl, fillMouth || false, fillEyeLeft || false, fillEyeRight || false);\n        });\n    }\n    /**\n      * The full head simplified mesh covers the whole of the user's head, including some neck.\n      * It's ideal for drawing into the depth buffer in order to mask out the back of 3D models placed on the user's head.\n      * @param fillMouth - If true, fills this face feature with polygons.\n      * @param fillEyeLeft - If true, fills this face feature with polygons.\n      * @param fillEyeRight - If true, fills this face feature with polygons.\n      * @param fillNeck - If true, fills this face feature with polygons.\n      * @returns A promise that's resolved once the data is loaded.\n      */\n    loadDefaultFullHeadSimplified(fillMouth, fillEyeLeft, fillEyeRight, fillNeck) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._z.face_mesh_load_default_full_head_simplified(this._impl, fillMouth || false, fillEyeLeft || false, fillEyeRight || false, fillNeck || false);\n        });\n    }\n    /**\n      * Update the face mesh directly from a [[FaceAnchor]].\n      * @param f - The face anchor.\n      * @param mirror - Pass `true` to mirror the location in the X-axis.\n      */\n    updateFromFaceAnchor(f, mirror) {\n        this._z.face_mesh_update(this._impl, f.identity, f.expression, mirror || false);\n    }\n    /**\n      * Updates the face mesh directly from a identity and expression coefficients.\n      * @param identity - The identity coefficients.\n      * @param expression - The expression coefficients.\n      * @param mirror - Pass `true` to mirror the location in the X-axis.\n     */\n    updateFromIdentityExpression(identity, expression, mirror) {\n        this._z.face_mesh_update(this._impl, identity, expression, mirror || false);\n    }\n    /**\n     *\n     * @returns The vertices of the mesh.\n     */\n    get vertices() {\n        return this._z.face_mesh_vertices(this._impl);\n    }\n    /**\n     * @returns The indices of the mesh.\n     */\n    get indices() {\n        return this._z.face_mesh_indices(this._impl);\n    }\n    /**\n     * @returns The UVs of the mesh.\n     */\n    get uvs() {\n        return this._z.face_mesh_uvs(this._impl);\n    }\n    /**\n     * @returns The normals of the mesh.\n     */\n    get normals() {\n        return this._z.face_mesh_normals(this._impl);\n    }\n    /**\n     * @ignore\n    */\n    _getImpl() {\n        return this._impl;\n    }\n}\n", "import { z } from \"./zappar\";\n/**\n * Creates a source of frames from a device camera.\n * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n */\nexport class CameraSource {\n    /**\n     * Constructs a new CameraSource.\n     * @param _pipeline - The pipeline that this tracker will operate within.\n     * @param deviceId - The camera device ID which will be used as the source.\n     * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n    */\n    constructor(pipeline, deviceId) {\n        this._z = z();\n        this._impl = this._z.camera_source_create(pipeline._getImpl(), deviceId);\n    }\n    /**\n    * Destroys the camera source.\n    */\n    destroy() {\n        this._z.camera_source_destroy(this._impl);\n    }\n    /**\n    * Starts the camera source.\n    *\n    * Starting a given source pauses any other sources within the same pipeline.\n    */\n    start() {\n        this._z.camera_source_start(this._impl);\n    }\n    /**\n    * Pauses the camera source.\n    */\n    pause() {\n        this._z.camera_source_pause(this._impl);\n    }\n}\n", "import { z } from \"./zappar\";\n/**\n * Creates a source of frames from a HTML <video> or <img> element.\n * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n */\nexport class HTMLElementSource {\n    /**\n     * Constructs a new HTMLElementSource.\n     * @param pipeline - The pipeline that this tracker will operate within.\n     * @param element -  The HTML source element.\n    */\n    constructor(pipeline, element) {\n        this._z = z();\n        this._impl = this._z.html_element_source_create(pipeline._getImpl(), element);\n    }\n    /**\n    * Destroys the source.\n    */\n    destroy() {\n        this._z.html_element_source_destroy(this._impl);\n    }\n    /**\n    * Starts the source sending frames into the pipeline.\n    *\n    * Starting a given source pauses any other sources within the same pipeline.\n    */\n    start() {\n        this._z.html_element_source_start(this._impl);\n    }\n    /**\n    * Pauses the source.\n    */\n    pause() {\n        this._z.html_element_source_pause(this._impl);\n    }\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { z } from \"./zappar\";\n/**\n * Plays back a previously recorded sequence of camera and motion data.\n */\nexport class SequenceSource {\n    /**\n     * Constructs a new SequenceSource.\n     * @param _pipeline - The pipeline that this source will operate within.\n    */\n    constructor(pipeline) {\n        this._z = z();\n        this._impl = this._z.sequence_source_create(pipeline._getImpl());\n    }\n    /**\n    * Destroys the sequence source.\n    */\n    destroy() {\n        this._z.sequence_source_destroy(this._impl);\n    }\n    /**\n    * Starts the sequence source.\n    *\n    * Starting a given source pauses any other sources within the same pipeline.\n    */\n    start() {\n        this._z.sequence_source_start(this._impl);\n    }\n    /**\n    * Pauses the sequence source.\n    */\n    pause() {\n        this._z.sequence_source_pause(this._impl);\n    }\n    /**\n     * Loads sequence data.\n     * @param src - A URL to, or an ArrayBuffer of, the sequence data you'd like to play back.\n     * @returns A promise that's resolved once the data is downloaded.\n    */\n    load(src) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof src === \"string\") {\n                src = yield (yield fetch(src)).arrayBuffer();\n            }\n            this._z.sequence_source_load_from_memory(this._impl, src);\n        });\n    }\n    /**\n     * Manually set the current time for the sequence.\n     * @param t The time in ms, or `undefined` to use the system time.\n     */\n    setTime(t) {\n        this._z.sequence_source_time_set(this._impl, t !== null && t !== void 0 ? t : -1);\n    }\n}\n", "import { z } from \"./zappar\";\nimport { Event } from \"./event\";\n/**\n * Pipelines manage the flow of data coming in (i.e. the camera frames) through to the output from the different tracking types and computer vision algorithms.\n * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n */\nexport class Pipeline {\n    /**\n     * Constructs a new Pipeline.\n    */\n    constructor() {\n        /**\n         * Emitted when the frame is updated.\n        */\n        this.onFrameUpdate = new Event();\n        /**\n         * @ignore\n        */\n        this._onFrameUpdateInternal = new Event();\n        this._lastFrameNumber = -1;\n        this._z = z();\n        this._impl = this._z.pipeline_create();\n    }\n    /**\n     * Destroys the pipeline.\n     */\n    destroy() {\n        this._z.pipeline_destroy(this._impl);\n    }\n    /**\n     * Updates the pipeline and trackers to expose tracking data from the most recently processed camera frame.\n     */\n    frameUpdate() {\n        this._z.pipeline_frame_update(this._impl);\n        const frameNumber = this._z.pipeline_frame_number(this._impl);\n        if (frameNumber !== this._lastFrameNumber) {\n            this._lastFrameNumber = frameNumber;\n            this._onFrameUpdateInternal.emit();\n            this.onFrameUpdate.emit();\n        }\n    }\n    /**\n     * @ignore\n    */\n    _getImpl() {\n        return this._impl;\n    }\n    /**\n     * Sets the WebGL context used for the processing and upload of camera textures.\n     * @param gl - The WebGL context.\n    */\n    glContextSet(gl) {\n        this._z.pipeline_gl_context_set(this._impl, gl);\n    }\n    /**\n     * Informs the pipeline that the GL context is lost and should not be used.\n    */\n    glContextLost() {\n        this._z.pipeline_gl_context_lost(this._impl);\n    }\n    /**\n     * Returns the most recent camera frame texture.\n    */\n    cameraFrameTextureGL() {\n        return this._z.pipeline_camera_frame_texture_gl(this._impl);\n    }\n    /**\n     * Returns a matrix that you can use to transform the UV coordinates of the following full-screen quad in order to render the camera texture:\n     *\n     * Vertex 0: `-1, -1, 0`\n     *\n     * UV 0: `0, 0`\n     *\n     * Vertex 1: `-1, 1, 0`\n     *\n     * UV 1: `0, 1`\n     *\n     * Vertex 2: `1, -1, 0`\n     *\n     * UV 1: `1, 0`\n     *\n     * Vertex 3: `1, 1, 0`\n     *\n     * UV 1: `1, 1`\n     *\n     * @param renderWidth - The width of the canvas.\n     * @param renderHeight - The height of the canvas.\n     * @param mirror - Pass `true` to mirror the camera image in the X-axis.\n     * @returns A 4x4 column-major transformation matrix.\n    */\n    cameraFrameTextureMatrix(renderWidth, renderHeight, mirror) {\n        return this._z.pipeline_camera_frame_texture_matrix(this._impl, renderWidth, renderHeight, mirror === true);\n    }\n    /**\n    * Draw the camera to the screen as a full screen quad.\n    *\n    * Please note this function modifies some GL state during its operation so you may need to reset the following GL state if you use it:\n    * - The currently bound texture 2D is set to `null` (e.g. `gl.bindTexture(gl.TEXTURE_2D, null)`)\n    * - The currently bound array buffer is set to `null` (e.g. `gl.bindBuffer(gl.ARRAY_BUFFER, null);`)\n    * - The currently bound program is set to `null` (e.g. `gl.useProgram(null)`)\n    * - The currently active texture is set to `gl.TEXTURE0` (e.g. `gl.activeTexture(gl.TEXTURE0)`)\n    * - These features are disabled: `gl.SCISSOR_TEST`, `gl.DEPTH_TEST`, `gl.BLEND`, `gl.CULL_FACE`\n    * @param renderWidth - The width of the canvas.\n    * @param renderHeight - The height of the canvas.\n    * @param mirror - Pass `true` to mirror the camera image in the X-axis.\n   */\n    cameraFrameDrawGL(renderWidth, renderHeight, mirror) {\n        this._z.pipeline_camera_frame_draw_gl(this._impl, renderWidth, renderHeight, mirror);\n    }\n    /**\n     * Uploads the current camera frame to a WebGL texture.\n    */\n    cameraFrameUploadGL() {\n        this._z.pipeline_camera_frame_upload_gl(this._impl);\n    }\n    /**\n     * Prepares camera frames for processing.\n     *\n     * Call this function on your pipeline once an animation frame (e.g. during your `requestAnimationFrame` function) in order to process incoming camera frames.\n     *\n     * Please note this function modifies some GL state during its operation so you may need to reset the following GL state if you use it:\n     * - The currently bound framebuffer is set to `null` (e.g. `gl.bindFramebuffer(gl.FRAMEBUFFER, null)`)\n     * - The currently bound texture 2D is set to `null` (e.g. `gl.bindTexture(gl.TEXTURE_2D, null)`)\n     * - The currently bound array buffer is set to `null` (e.g. `gl.bindBuffer(gl.ARRAY_BUFFER, null);`)\n     * - The currently bound element array buffer is set to `null` (e.g. `gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null)`)\n     * - The currently bound program is set to `null` (e.g. `gl.useProgram(null)`)\n     * - The currently active texture is set to `gl.TEXTURE0` (e.g. `gl.activeTexture(gl.TEXTURE0)`)\n     * - These features are disabled: `gl.SCISSOR_TEST`, `gl.DEPTH_TEST`, `gl.BLEND`, `gl.CULL_FACE`\n     * - The pixel store flip-Y mode is disabled (e.g. `gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false)`)\n     * - The viewport is changed (e.g. `gl.viewport(...)`)\n     * - The clear color is changed (e.g. `gl.clearColor(...)`)\n    */\n    processGL() {\n        this._z.pipeline_process_gl(this._impl);\n    }\n    /**\n     * Returns the camera model (i.e. the intrinsic camera parameters) for the current frame.\n    */\n    cameraModel() {\n        return this._z.pipeline_camera_model(this._impl);\n    }\n    /**\n     * Returns a transformation where the camera sits, stationary, at the origin of world space, and points down the negative Z axis.\n     *\n     * In this mode, tracked anchors move in world space as the user moves the device or tracked objects in the real world.\n     *\n     * @returns A 4x4 column-major transformation matrix\n    */\n    cameraPoseDefault() {\n        return this._z.pipeline_camera_pose_default(this._impl);\n    }\n    /**\n     * Returns a transformation where the camera sits at the origin of world space, but rotates as the user rotates the physical device.\n     *\n     * When the Zappar library initializes, the negative Z axis of world space points forward in front of the user.\n     *\n     * In this mode, tracked anchors move in world space as the user moves the device or tracked objects in the real world.\n     *\n     * @param mirror -  Pass `true` to mirror the location in the X-axis.\n     * @returns A 4x4 column-major transformation matrix\n    */\n    cameraPoseWithAttitude(mirror) {\n        return this._z.pipeline_camera_pose_with_attitude(this._impl, mirror || false);\n    }\n    /**\n     * Returns a transformation with the (camera-relative) origin specified by the supplied parameter.\n     *\n     * This is used with the `poseCameraRelative(...) : Float32Array` functions provided by the various anchor types to allow a given anchor (e.g. a tracked image or face) to be the origin of world space.\n     *\n     * In this case the camera moves and rotates in world space around the anchor at the origin.\n     *\n     * @param o - The origin matrix.\n     * @returns A 4x4 column-major transformation matrix\n    */\n    cameraPoseWithOrigin(o) {\n        return this._z.pipeline_camera_pose_with_origin(this._impl, o);\n    }\n    /**\n      * Returns true if the current camera frame came from a user-facing camera\n     */\n    cameraFrameUserFacing() {\n        return this._z.pipeline_camera_frame_user_facing(this._impl);\n    }\n    /**\n      * @ignore\n     */\n    drawFace(projectionMatrix, cameraMatrix, targetMatrix, m) {\n        this._z.pipeline_draw_face(this._impl, projectionMatrix, cameraMatrix, targetMatrix, m._getImpl());\n    }\n    /**\n      * Returns the number of the current frame.\n     */\n    frameNumber() {\n        return this._z.pipeline_frame_number(this._impl);\n    }\n    /**\n     * Start recording camera and motion data into memory. This data can then used with SequenceSource to replay the sequence.\n     *\n     * @param expectedFrames - The number of camera frames you expect to capture. If supplied, memory will be pre-allocated to improve performance\n     */\n    sequenceRecordStart(expectedFrames) {\n        if (expectedFrames === undefined)\n            expectedFrames = 30 * 5; // 5 second default\n        this._z.pipeline_sequence_record_start(this._impl, expectedFrames);\n    }\n    /**\n     * Stop recording camera and motion data.\n     */\n    sequenceRecordStop() {\n        this._z.pipeline_sequence_record_stop(this._impl);\n    }\n    /**\n     * Remove any camera and motion data currently stored in memory.\n     */\n    sequenceRecordClear() {\n        this._z.pipeline_sequence_record_clear(this._impl);\n    }\n    /**\n     * Get the data captured by sequence recording.\n     *\n     * @returns A Uint8Array of packed camera and motion data\n     */\n    sequenceRecordData() {\n        return this._z.pipeline_sequence_record_data(this._impl);\n    }\n}\n", "import { z } from \"./zappar\";\nimport { mat4 } from \"gl-matrix\";\nexport { face_landmark_name_t as FaceLandmarkName } from \"@zappar/zappar-cv\";\n/**\n * Attaches content to a known point (landmark) on a face as it moves around in the camera view.\n * Landmarks will remain accurate, even as the user's expression changes.\n * @see https://docs.zap.works/universal-ar/javascript/face-tracking/\n */\nexport class FaceLandmark {\n    /**\n     * Constructs a new FaceLanmdmark.\n     * @param _name - The name of the landmark to track.\n     * @see https://docs.zap.works/universal-ar/javascript/face-tracking/\n    */\n    constructor(_name) {\n        this._name = _name;\n        /**\n         * The most recent pose of this landmark, relative to the [[FaceAnchor]] used to update it.\n         * A 4x4 column-major transformation matrix.\n         */\n        this.pose = mat4.create();\n        this._z = z();\n        this._impl = this._z.face_landmark_create(this._name);\n    }\n    /**\n     * Destroys the face landmark.\n     */\n    destroy() {\n        this._z.face_landmark_destroy(this._impl);\n    }\n    /**\n     * Updates pose directly from the expression and identity in a [[FaceAnchor]].\n     * @param f - The anchor to derive the expression and identity from.\n     * @param mirror - Pass `true` to mirror the location in the X-axis.\n    */\n    updateFromFaceAnchor(f, mirror) {\n        this._z.face_landmark_update(this._impl, f.identity, f.expression, mirror || false);\n        this.pose = this._z.face_landmark_anchor_pose(this._impl);\n    }\n    /**\n     * Updates pose directly from identity and expression coefficients.\n     * @param identity  - The identity coefficients.\n     * @param expression - The expression coefficients.\n     * @param mirror - Pass `true` to mirror the location in the X-axis.\n    */\n    updateFromIdentityExpression(identity, expression, mirror) {\n        this._z.face_landmark_update(this._impl, identity, expression, mirror || false);\n        this.pose = this._z.face_landmark_anchor_pose(this._impl);\n    }\n    /**\n     * @ignore\n    */\n    _getImpl() {\n        return this._impl;\n    }\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { z } from \"./zappar\";\n/**\n * The permissions that may be requested.\n*/\nexport var Permission;\n(function (Permission) {\n    /**\n    * Permission to access camera images.\n    */\n    Permission[Permission[\"CAMERA\"] = 0] = \"CAMERA\";\n    /**\n     * Permission to access device motion data (e.g. accelerometer and gyro). Some tracking algorithms require this data to operate.\n     */\n    Permission[Permission[\"MOTION\"] = 1] = \"MOTION\";\n})(Permission || (Permission = {}));\n/**\n * Checks if the browser has currently granted relevant permissions.\n * @param onlyPermsission - The exclusive permission to query, otherwise all are queried.\n * @returns The permission granted state. 'true' if permission is granted.\n*/\nexport function permissionGranted(onlyPermsission) {\n    switch (onlyPermsission) {\n        case Permission.CAMERA: return z().permission_granted_camera();\n        case Permission.MOTION: return z().permission_granted_motion();\n        default: return z().permission_granted_all();\n    }\n}\n/**\n * Checks if the browser has currently denied relevant permissions.\n * @param onlyPermsission - The exclusive permission to query, otherwise all are queried.\n * @returns The permission granted state. 'true' if permission is denied.\n*/\nexport function permissionDenied(onlyPermission) {\n    switch (onlyPermission) {\n        case Permission.CAMERA: return z().permission_denied_camera();\n        case Permission.MOTION: return z().permission_denied_motion();\n        default: return z().permission_denied_any();\n    }\n}\n/**\n * Requests the browser to grant relevant permissions.\n *\n * This may or may not trigger a browser-provided user dialog prompting a permission choice.\n *\n * @param onlyPermission - The exclusive permission to query, otherwise all are requested.\n * @returns A Promise containing granted status. 'true' if granted.\n*/\nexport function permissionRequest(onlyPermission) {\n    switch (onlyPermission) {\n        case Permission.CAMERA:\n            z().permission_request_camera();\n            break;\n        case Permission.MOTION:\n            z().permission_request_motion();\n            break;\n        default:\n            z().permission_request_all();\n            break;\n    }\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            yield _nextFrame();\n            switch (onlyPermission) {\n                case Permission.CAMERA:\n                    if (z().permission_granted_camera()) {\n                        resolve(true);\n                        return;\n                    }\n                    if (z().permission_denied_camera()) {\n                        resolve(false);\n                        return;\n                    }\n                    break;\n                case Permission.MOTION:\n                    if (z().permission_granted_motion()) {\n                        resolve(true);\n                        return;\n                    }\n                    if (z().permission_denied_motion()) {\n                        resolve(false);\n                        return;\n                    }\n                    break;\n                default:\n                    if (z().permission_granted_camera() && z().permission_granted_motion()) {\n                        resolve(true);\n                        return;\n                    }\n                    if (z().permission_denied_camera() || z().permission_denied_motion()) {\n                        resolve(false);\n                        return;\n                    }\n                    break;\n            }\n        }\n    }));\n}\n/**\n * Shows Zappar's built-in UI to request camera and motion data permissions\n * @returns A promise containing granted status.\n*/\nexport function permissionRequestUI() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield z().permission_request_ui_promise();\n    });\n}\n/**\n * Shows Zappar's built-in permission denied UI.\n*/\nexport function permissionDeniedUI() {\n    return z().permission_denied_ui();\n}\nfunction _nextFrame() {\n    return new Promise(resolve => requestAnimationFrame(() => resolve()));\n}\n", "import { z } from \"./zappar\";\nexport { log_level_t as LogLevel } from \"@zappar/zappar-cv\";\n/**\n * @returns The granularity of logging emitted by the library.\n*/\nexport function logLevel() {\n    return z().log_level();\n}\n/**\n * Sets the granularity of logging emitted by the library.\n*/\nexport function setLogLevel(l) {\n    z().log_level_set(l);\n}\n", "/* eslint-disable tsdoc/syntax */\n// eslint-disable-next-line no-restricted-imports\nimport * as three from \"three\";\n/**\n * THREE import which gets converted to AFRAME.THREE for @zappar/three-for-aframe.\n */\nexport const THREE = three;\n", "import * as Zappar from \"@zappar/zappar\";\nimport { Event } from \"@zappar/zappar/lib/event\";\nlet defaultPipeline;\n/**\n * Emitted when the frame is updated.\n */\nexport const onFrameUpdate = new Event();\n/**\n * @returns - The default Pipeline used by the library. This function constructs a new Pipeline during its first invocation.\n */\nexport function getDefaultPipeline() {\n    if (!defaultPipeline) {\n        defaultPipeline = new Zappar.Pipeline();\n        defaultPipeline.onFrameUpdate.bind(() => onFrameUpdate.emit());\n    }\n    return defaultPipeline;\n}\n/**\n * Attaches content to a known image as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/image-tracking/\n */\nexport class ImageTracker extends Zappar.ImageTracker {\n    /**\n     * Constructs a new ImageTracker.\n     * @param targetFile - The .zpt target file from the source image you'd like to track.\n     * @param pipeline - The pipeline that this tracker will operate within.\n     * @see https://docs.zap.works/universal-ar/zapworks-cli/\n     */\n    constructor(targetFile, pipeline) {\n        super(pipeline || getDefaultPipeline(), targetFile);\n    }\n}\n/**\n * Detects barcodes in the images from the camera.\n */\nexport class BarcodeFinder extends Zappar.BarcodeFinder {\n    /**\n     * Constructs a new BarcodeFinder.\n     * @param pipeline - The pipeline that this tracker will operate within.\n     */\n    constructor(pipeline) {\n        super(pipeline || getDefaultPipeline());\n    }\n}\n/**\n * Attaches content to a face as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class FaceTracker extends Zappar.FaceTracker {\n    /**\n     * Constructs a new FaceTracker.\n     * @param _pipeline - The pipeline that this tracker will operate within.\n     */\n    constructor(pipeline) {\n        super(pipeline || getDefaultPipeline());\n    }\n}\n/**\n * Attaches content to a point on a surface in front of the user as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/instant-world-tracking/\n */\nexport class InstantWorldTracker extends Zappar.InstantWorldTracker {\n    /**\n     * Constructs a new InstantWorldTracker.\n     * @param _pipeline - The pipeline that this tracker will operate within.\n     */\n    constructor(pipeline) {\n        super(pipeline || getDefaultPipeline());\n    }\n}\n/**\n * Creates a source of frames from a device camera.\n * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n */\nexport class CameraSource extends Zappar.CameraSource {\n    /**\n     * Constructs a new CameraSource.\n     * @param _pipeline - The pipeline that this source will operate within.\n     * @param deviceId - The camera device ID which will be used as the source.\n     * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n     */\n    constructor(deviceId, pipeline) {\n        super(pipeline || getDefaultPipeline(), deviceId);\n    }\n}\n/**\n * Creates a source of frames from a HTML <video> or <img> element.\n * @see https://docs.zap.works/universal-ar/javascript/pipelines-and-camera-processing/\n */\nexport class HTMLElementSource extends Zappar.HTMLElementSource {\n    /**\n     * Constructs a new HTMLElementSource.\n     * @param element -  The HTML source element.\n     * @param pipeline - The pipeline that this tracker will operate within.\n     */\n    constructor(element, pipeline) {\n        super(pipeline || getDefaultPipeline(), element);\n    }\n}\n/**\n * Sets the WebGL context used for the processing and upload of camera textures.\n *\n * This function affects the library's default Pipeline only. If you're using a custom Pipeline you should call `glContextSet(...)` on it yourself.\n *\n * @param gl - The WebGL context.\n */\nexport function glContextSet(gl) {\n    getDefaultPipeline().glContextSet(gl);\n}\n/**\n * Informs the pipeline that the GL context is lost and should not be used.\n *\n * This function affects the library's default Pipeline only. If you're using a custom Pipeline you should call `glContextLost()` on it yourself.\n */\nexport function glContextLost() {\n    getDefaultPipeline().glContextLost();\n}\n", "import { Event1 } from \"@zappar/zappar/lib/event\";\nimport { zcout } from \"@zappar/zappar-cv/lib/loglevel\";\nimport { CameraMirrorMode } from \"./camera\";\nimport { THREE } from \"./three\";\nconst vertexShaderSource = `\n      precision highp float;\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n      }\n    `;\n// https://github.com/mrdoob/three.js/pull/23782/commits/c5e8b4d5ce491cfc63b84a5b8be6bf9d2143e452\nconst fragmentShaderSource = `\n      precision highp float;\n      uniform sampler2D u_texture;\n      varying vec2 vUv;\n      void main() {\n        vec4 texColor = texture2D(u_texture, vUv);\n        texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n        gl_FragColor = texColor;\n      }\n    `;\n/**\n * Creates a texture to be used internally by `ZapparThree.Camera`.\n */\nexport class CameraTexture extends THREE.Texture {\n    constructor() {\n        super();\n        this.MirrorMode = CameraMirrorMode.None;\n        this.onTextureUpdated = new Event1();\n        // Initialize the matrices\n        this.viewMatrix = new THREE.Matrix4();\n        this.textureMatrix3 = new THREE.Matrix3();\n    }\n    /**\n     * Override three.js update function since we update the camera texture ourselves.\n     */\n    update() { } // eslint-disable-line class-methods-use-this\n    /**\n     * Processes camera frames and updates the texture.\n     * @param renderer - The Three.js WebGL renderer.\n     * @param pipeline - A ZapparThree Pipeline.\n     */\n    updateFromPipeline(renderer, pipeline) {\n        pipeline.cameraFrameUploadGL();\n        const texture = pipeline.cameraFrameTextureGL();\n        if (!texture)\n            return;\n        // Update the underlying WebGL texture of the ThreeJS texture object\n        // to the one provided by the Zappar library\n        const properties = renderer.properties.get(this);\n        // eslint-disable-next-line no-underscore-dangle\n        properties.__webglTexture = texture;\n        // eslint-disable-next-line no-underscore-dangle\n        properties.__webglInit = true;\n        // The Zappar library provides a 4x4 UV matrix to display the camera\n        // texture on a fullscreen quad with 0,0 -> 1,1 UV coordinates\n        this.viewMatrix.fromArray(pipeline.cameraFrameTextureMatrix(renderer.domElement.width, renderer.domElement.height, this.MirrorMode === CameraMirrorMode.Poses));\n        // ThreeJS's Texture object uses a 3x3 matrix, so convert from our 4x4 matrix\n        this.textureMatrix3.setFromMatrix4(this.viewMatrix);\n        // eslint-disable-next-line prefer-destructuring\n        this.textureMatrix3.elements[6] = this.viewMatrix.elements[12];\n        // eslint-disable-next-line prefer-destructuring\n        this.textureMatrix3.elements[7] = this.viewMatrix.elements[13];\n        this.textureMatrix3.elements[8] = 1;\n        this.matrixAutoUpdate = false;\n        this.matrix = this.textureMatrix3;\n        this.onTextureUpdated.emit({ texture: this, renderer });\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n/**\n * A helper class used to decode the camera texture.\n */\nexport class InlineDecoder {\n    constructor(cameraTexture) {\n        /**\n         * A THREE scene to hold shader object.\n         */\n        this.shaderScene = new THREE.Scene();\n        this.shaderRenderTarget = new THREE.WebGLRenderTarget(1024, 1024);\n        this.shaderCamera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n        this.intermediateRenderTarget = new THREE.WebGLRenderTarget(1024, 1024);\n        zcout(\"Inline decoder initialized\");\n        this.shaderMaterial = new THREE.ShaderMaterial({\n            uniforms: {\n                u_texture: { value: null },\n            },\n            vertexShader: vertexShaderSource,\n            fragmentShader: fragmentShaderSource,\n        });\n        const shaderPlane = new THREE.PlaneGeometry(2, 2);\n        const shaderQuad = new THREE.Mesh(shaderPlane, this.shaderMaterial);\n        this.shaderScene.add(shaderQuad);\n        this.shaderRenderTarget.texture.generateMipmaps = false;\n        this.shaderRenderTarget.texture.minFilter = THREE.LinearFilter;\n        this.shaderRenderTarget.texture.magFilter = THREE.LinearFilter;\n        shaderQuad.position.z = -1;\n        this.shaderMaterial.uniforms.u_texture.value = cameraTexture;\n        cameraTexture.onTextureUpdated.bind(({ texture, renderer }) => {\n            this.update(renderer, texture);\n        });\n    }\n    /**\n     * Get the texture of the render target.\n     * @public\n     * @returns THREE.Texture The texture of the render target.\n     */\n    get texture() {\n        return this.shaderRenderTarget.texture;\n    }\n    /**\n     * Updates the shader uniform with a new texture and renders the shader scene to the target texture.\n     */\n    update(renderer, cameraTexture) {\n        // check the color space every frame as the user could have changed it at any time\n        let decoderRequired = true;\n        if (THREE.SRGBColorSpace && renderer.outputColorSpace) {\n            decoderRequired = renderer.outputColorSpace === THREE.SRGBColorSpace;\n        }\n        else if (THREE.sRGBEncoding && renderer.outputEncoding) {\n            decoderRequired = renderer.outputEncoding === THREE.sRGBEncoding;\n        }\n        if (!decoderRequired)\n            return;\n        // save the current render target so we can restore it later\n        const previousRenderTarget = renderer.getRenderTarget();\n        // update the uniform for the shader\n        this.shaderMaterial.uniforms.u_texture.value = cameraTexture;\n        // render the shader scene to the intermediate render target\n        renderer.setRenderTarget(this.intermediateRenderTarget);\n        renderer.render(this.shaderScene, this.shaderCamera);\n        // copy the resulting texture to the final render target\n        this.shaderRenderTarget.texture = this.intermediateRenderTarget.texture;\n        // restore the previous render target\n        renderer.setRenderTarget(previousRenderTarget);\n        // update the texture matrix\n        this.texture.matrixAutoUpdate = false;\n        this.texture.matrix = cameraTexture.matrix;\n        // This is to avoid the user having to pass in a renderer to the constructor of the camera.\n        const properties = renderer.properties.get(cameraTexture);\n        const renderTargetProperties = renderer.properties.get(this.texture);\n        // steal webgl texture and swap it\n        properties.__webglTexture = renderTargetProperties.__webglTexture;\n        properties.__webglInit = true;\n    }\n    /**\n     * Releases the resources held by this object.\n     * @public\n     */\n    dispose() {\n        this.shaderRenderTarget.dispose();\n    }\n}\n", "/* eslint-disable no-underscore-dangle */\nimport * as Zappar from \"@zappar/zappar\";\nimport { THREE } from \"./three\";\nimport { getDefaultPipeline, CameraSource } from \"./defaultpipeline\";\nimport { CameraTexture, InlineDecoder } from \"./cameraTexture\";\n/**\n * The pose modes that determine how the camera moves around in the scene.\n */\nexport var CameraPoseMode;\n(function (CameraPoseMode) {\n    /**\n     * The camera sits, stationary, at the origin of world space, and points down the negative Z axis.\n     * In this mode, tracked anchors move in world space as the user moves the device or tracked objects in the real world.\n     */\n    CameraPoseMode[CameraPoseMode[\"Default\"] = 0] = \"Default\";\n    /**\n     * The camera sits at the origin of world space, but rotates as the user rotates the physical device.\n     *\n     * When the Zappar library initializes, the negative Z axis of world space points forward in front of the user.\n     *\n     * In this mode, tracked anchors move in world space as the user moves the device or tracked objects in the real world.\n     */\n    CameraPoseMode[CameraPoseMode[\"Attitude\"] = 1] = \"Attitude\";\n    /**\n     * In this case the camera moves and rotates in world space around the anchor at the origin.\n     */\n    CameraPoseMode[CameraPoseMode[\"AnchorOrigin\"] = 2] = \"AnchorOrigin\";\n})(CameraPoseMode || (CameraPoseMode = {}));\n/**\n * The mirror modes that may be used.\n */\nexport var CameraMirrorMode;\n(function (CameraMirrorMode) {\n    /**\n     * No mirroring.\n     */\n    CameraMirrorMode[CameraMirrorMode[\"None\"] = 0] = \"None\";\n    /**\n     * This mode mirrors the background camera texture and ensures content still appears correctly tracked.\n     * In this mode your content itself isn't flipped, so any text in your tracked content doesn't appear mirrored.\n     * This is the default mode for the user-facing camera.\n     */\n    CameraMirrorMode[CameraMirrorMode[\"Poses\"] = 1] = \"Poses\";\n    /**\n     * In this mode, the Zappar camera applies a scaleX(-1) CSS transform to your whole canvas.\n     * This way both the camera and your content appear mirrored.\n     */\n    CameraMirrorMode[CameraMirrorMode[\"CSS\"] = 2] = \"CSS\";\n})(CameraMirrorMode || (CameraMirrorMode = {}));\n/**\n * The directions that the camera can face.\n */\nvar CameraDirection;\n(function (CameraDirection) {\n    /** The camera is not running.\n     * This is the default mode for the camera.\n     */\n    CameraDirection[CameraDirection[\"None\"] = 0] = \"None\";\n    /** In this mode, the camera is always facing the user. */\n    CameraDirection[CameraDirection[\"User\"] = 1] = \"User\";\n    /** In this mode, the camera is always facing away from the user. */\n    CameraDirection[CameraDirection[\"Rear\"] = 2] = \"Rear\";\n})(CameraDirection || (CameraDirection = {}));\n/**\n * Creates a camera that you can use instead of a perspective camera.\n *\n * The camera provides a {@link Camera.backgroundTexture} property containing the camera feed.\n *\n * The ZapparThree library needs to use your WebGL context in order to process camera frames.\n * You can set it when your page loads using {@link glContextSet}.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/camera-setup/\n */\nexport class Camera extends THREE.Camera {\n    /**\n     * Constructs a new Camera.\n     * @param pipeline - The pipeline that this tracker will operate within.\n     * @property pipeline - The pipeline that this tracker will operate within.\n     * @property zNear - The near clipping plane.\n     * @property zFar - The far clipping plane.\n     * @property rearCameraSource? - The camera source which will be used for the rear camera.\n     * @property userCameraSource? - The camera source which will be used for the user camera.\n     */\n    constructor(opts) {\n        super();\n        /**\n         * The pose mode that determines how the camera moves in the scene.\n         */\n        this.poseMode = CameraPoseMode.Default;\n        /**\n         * The mirror mode that is used for the rear camera.\n         */\n        this.rearCameraMirrorMode = CameraMirrorMode.None;\n        /**\n         * The mirror mode that is used for the user camera.\n         */\n        this.userCameraMirrorMode = CameraMirrorMode.Poses;\n        this._currentMirrorMode = CameraMirrorMode.None;\n        /**\n         * @ignore\n         * Needed for raycasters to work.\n         */\n        this.isPerspectiveCamera = true;\n        this.cameraDirection = CameraDirection.None;\n        this.hasSetCSSScaleX = false;\n        this.renderWidth = 0;\n        this.renderHeight = 0;\n        this.pipeline = opts instanceof Zappar.Pipeline ? opts : (opts === null || opts === void 0 ? void 0 : opts.pipeline) || getDefaultPipeline();\n        this.rawPose = this.pipeline.cameraPoseDefault();\n        // SRGBColorSpace was introduced in r152\n        if (opts && !(opts instanceof Zappar.Pipeline)) {\n            this.zNear = opts.zNear ? opts.zNear : 0.01;\n            this.zFar = opts.zFar ? opts.zFar : 100;\n            this.rearCameraSource = this.cameraSourceFromOpts(opts.rearCameraSource);\n            this.userCameraSource = this.cameraSourceFromOpts(opts.userCameraSource, true);\n            this.backgroundTexture = opts.backgroundTexture ? opts.backgroundTexture : new CameraTexture();\n        }\n        else {\n            this.rearCameraSource = new CameraSource(Zappar.cameraDefaultDeviceID(), this.pipeline);\n            this.userCameraSource = new CameraSource(Zappar.cameraDefaultDeviceID(true), this.pipeline);\n            this.backgroundTexture = new CameraTexture();\n        }\n        this.matrixAutoUpdate = false;\n        document.addEventListener(\"visibilitychange\", () => {\n            document.visibilityState === \"visible\" ? this.resume() : this.pause();\n        });\n    }\n    /**\n     * The far clipping plane.\n     */\n    set far(value) {\n        this.zFar = value;\n    }\n    /**\n     * The far clipping plane.\n     */\n    get far() {\n        var _a;\n        return (_a = this.zFar) !== null && _a !== void 0 ? _a : 100;\n    }\n    /**\n     * The near clipping plane.\n     */\n    set near(value) {\n        this.zNear = value;\n    }\n    /**\n     * The near clipping plane.\n     */\n    get near() {\n        var _a;\n        return (_a = this.zNear) !== null && _a !== void 0 ? _a : 0.01;\n    }\n    /**\n     * Constructs a new CameraSource or HTMLElementSource based on parameters passed in.\n     * @param cameraSource - HTML element or camera device ID which will be used as a source\n     * @returns CameraSource if cameraSource param is undefined or string, otherwise HTMLElementSource.\n     */\n    cameraSourceFromOpts(cameraSource, frontFacing = false) {\n        return cameraSource instanceof Element\n            ? new Zappar.HTMLElementSource(this.pipeline, cameraSource)\n            : new CameraSource(cameraSource || Zappar.cameraDefaultDeviceID(frontFacing), this.pipeline);\n    }\n    /**\n     * Pauses the camera source.\n     */\n    pause() {\n        this.userCameraSource.pause();\n        this.rearCameraSource.pause();\n    }\n    /**\n     * Starts the camera source.\n     *\n     * Starting a given source pauses any other sources within the same pipeline.\n     */\n    resume() {\n        switch (this.cameraDirection) {\n            case CameraDirection.User:\n                this.userCameraSource.start();\n                break;\n            case CameraDirection.Rear:\n                this.rearCameraSource.start();\n                break;\n            default:\n                // do not start any camera\n                break;\n        }\n    }\n    /**\n     * Starts the camera source.\n     * @param userFacing - If true, starts the user facing camera. (i.e selfie).\n     */\n    start(userFacing) {\n        this.cameraDirection = userFacing ? CameraDirection.User : CameraDirection.Rear;\n        this.resume();\n    }\n    /**\n     * Stops the camera source.\n     */\n    stop() {\n        this.cameraDirection = CameraDirection.None;\n        this.pause();\n    }\n    /**\n     * Sets the pose mode to 'Anchor Origin'.\n     *\n     * In this case the camera moves and rotates in world space around the anchor at the origin.\n     * @param anchor - The anchor that defines the origin.\n     */\n    setPoseModeAnchorOrigin(anchor) {\n        this.poseAnchorOrigin = anchor;\n        this.poseMode = CameraPoseMode.AnchorOrigin;\n    }\n    /**\n     * Gets the current mirror mode.\n     */\n    get currentMirrorMode() {\n        // eslint-disable-next-line no-underscore-dangle\n        return this._currentMirrorMode;\n    }\n    handleColorSpace(renderer) {\n        // Casting renderer and THREE to any to bypass type checking\n        const rendererAny = renderer;\n        const THREEAny = THREE;\n        // Check if decoder is required based on outputColorSpace\n        let decoderRequired = false;\n        if ((rendererAny === null || rendererAny === void 0 ? void 0 : rendererAny.outputColorSpace) && (THREEAny === null || THREEAny === void 0 ? void 0 : THREEAny.SRGBColorSpace)) {\n            decoderRequired = (rendererAny === null || rendererAny === void 0 ? void 0 : rendererAny.outputColorSpace) === (THREEAny === null || THREEAny === void 0 ? void 0 : THREEAny.SRGBColorSpace);\n        }\n        else if ((THREEAny === null || THREEAny === void 0 ? void 0 : THREEAny.sRGBEncoding) && (rendererAny === null || rendererAny === void 0 ? void 0 : rendererAny.outputEncoding)) {\n            decoderRequired = (rendererAny === null || rendererAny === void 0 ? void 0 : rendererAny.outputEncoding) === (THREEAny === null || THREEAny === void 0 ? void 0 : THREEAny.sRGBEncoding);\n        }\n        if (!decoderRequired) {\n            // If THREE's revision is, assign the outputEncoding to backgroundTexture's encoding\n            if (parseInt(THREE.REVISION, 10) <= 152) {\n                this.backgroundTexture.encoding = rendererAny.outputEncoding;\n            }\n            else {\n                // If THREE's revision is greater than or equal to 152, assign the outputColorSpace to backgroundTexture's colorSpace\n                this.backgroundTexture.colorSpace = rendererAny.outputColorSpace;\n            }\n        }\n        else if (!this.inlineDecoder) {\n            // If decoder is required and inlineDecoder does not exist, create a new InlineDecoder with backgroundTexture\n            this.inlineDecoder = new InlineDecoder(this.backgroundTexture);\n        }\n    }\n    /**\n     * Processes camera frames and updates `backgroundTexture`.\n     * Call this function on your pipeline once an animation frame (e.g. during your `requestAnimationFrame` function).\n     * @param renderer - The Three.js WebGL renderer.\n     */\n    updateFrame(renderer) {\n        this.pipeline.processGL();\n        // Update to using the latest tracking frame data\n        this.pipeline.frameUpdate();\n        // eslint-disable-next-line no-underscore-dangle\n        this._currentMirrorMode = this.pipeline.cameraFrameUserFacing() ? this.userCameraMirrorMode : this.rearCameraMirrorMode;\n        const { domElement } = renderer;\n        if (this.currentMirrorMode !== CameraMirrorMode.CSS && this.hasSetCSSScaleX) {\n            domElement.style.transform = \"\";\n            this.hasSetCSSScaleX = false;\n        }\n        else if (this.currentMirrorMode === CameraMirrorMode.CSS && !this.hasSetCSSScaleX) {\n            domElement.style.transform = \"scaleX(-1)\";\n            this.hasSetCSSScaleX = true;\n        }\n        this.renderWidth = renderer.domElement.width;\n        this.renderHeight = renderer.domElement.height;\n        // eslint-disable-next-line no-underscore-dangle\n        this._updateProjectionMatrix();\n        // Get the pose of the camera from the Zappar library\n        switch (this.poseMode) {\n            case CameraPoseMode.Default:\n                this.rawPose = this.pipeline.cameraPoseDefault();\n                break;\n            case CameraPoseMode.Attitude:\n                this.rawPose = this.pipeline.cameraPoseWithAttitude(this.currentMirrorMode === CameraMirrorMode.Poses);\n                break;\n            case CameraPoseMode.AnchorOrigin:\n                this.rawPose = this.poseAnchorOrigin ? this.getOriginPose() : this.pipeline.cameraPoseDefault();\n                break;\n            default:\n                this.rawPose = this.pipeline.cameraPoseDefault();\n                break;\n        }\n        this.matrixWorldNeedsUpdate = true;\n        this.backgroundTexture.MirrorMode = this.currentMirrorMode;\n        this.backgroundTexture.updateFromPipeline(renderer, this.pipeline);\n        this.handleColorSpace(renderer);\n    }\n    // eslint-disable-next-line no-underscore-dangle\n    _updateProjectionMatrix() {\n        // Get the projection matrix for the camera from the Zappar library\n        const model = this.pipeline.cameraModel();\n        const projection = Zappar.projectionMatrixFromCameraModel(model, this.renderWidth, this.renderHeight, this.zNear, this.zFar);\n        this.projectionMatrix.fromArray(projection);\n        if (typeof this.projectionMatrixInverse.invert === \"function\") {\n            this.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n        }\n        else {\n            this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n        }\n    }\n    updateMatrixWorld(force) {\n        this.matrix.fromArray(this.rawPose);\n        this.matrix.decompose(this.position, this.quaternion, this.scale);\n        super.updateMatrixWorld(force);\n    }\n    getOriginPose() {\n        if (!this.poseAnchorOrigin)\n            return this.pipeline.cameraPoseDefault();\n        return this.pipeline.cameraPoseWithOrigin(this.poseAnchorOrigin.poseCameraRelative(this.currentMirrorMode === CameraMirrorMode.Poses));\n    }\n    /**\n     * Destroys the camera sources.\n     */\n    dispose() {\n        this.rearCameraSource.destroy();\n        this.userCameraSource.destroy();\n    }\n}\n", "import { THREE } from \"../three\";\nimport { CameraMirrorMode } from \"../camera\";\n/**\n * A THREE.Group that attaches content to a known image as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/image-tracking/\n */\nexport class ImageAnchorGroup extends THREE.Group {\n    /**\n     * Constructs a new ImageAnchorGroup.\n     * @param camera - A ZapparThree.Camera.\n     * @param imageTracker - The image tracker which will be used.\n     * @param anchorId - Specify this to limit the group to tracking an anchor with the provided ID.\n     */\n    constructor(camera, imageTracker, anchorId) {\n        super();\n        this.camera = camera;\n        this.imageTracker = imageTracker;\n        this.anchorId = anchorId;\n        /**\n         * @ignore\n         */\n        this.isReady = false;\n        // We'll be updating this Group's matrix ourselves from the Zappar library\n        this.matrixAutoUpdate = false;\n    }\n    updateMatrixWorld(force) {\n        if (!this.currentAnchor || !this.imageTracker.visible.has(this.currentAnchor)) {\n            // No current anchor, or current anchor isn't visible\n            if (this.anchorId) {\n                this.currentAnchor = this.imageTracker.anchors.get(this.anchorId);\n            }\n            else {\n                this.currentAnchor = this.imageTracker.visible.values().next().value;\n            }\n        }\n        if (this.currentAnchor) {\n            this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose, this.camera.currentMirrorMode === CameraMirrorMode.Poses));\n            this.matrix.decompose(this.position, this.quaternion, this.scale);\n        }\n        super.updateMatrixWorld(force);\n    }\n}\n", "/* eslint-disable class-methods-use-this */\nimport { THREE } from \"../three\";\nimport { ImageTracker } from \"../defaultpipeline\";\n/**\n * Loader for image trackers.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/image-tracking/\n */\nexport class ImageTrackerLoader extends THREE.Loader {\n    /**\n     * Loads an image tracker.\n     * @param zpt - A URL to, or ArrayBuffer of, an image target file.\n     * @param onLoad - Callback which returns the imageTracker once it's loaded.\n     * @param onError - Callback which is called if there's an error loading the target file.\n     * @returns The ImageTracker.\n     * @see https://docs.zap.works/universal-ar/zapworks-cli/\n     */\n    load(zpt, onLoad, onProgress, onError) {\n        const trk = new ImageTracker();\n        trk\n            .loadTarget(zpt)\n            .then(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad(trk);\n            this.manager.itemEnd(zpt);\n        })\n            .catch((_) => {\n            onError === null || onError === void 0 ? void 0 : onError(_);\n            this.manager.itemError(zpt);\n            this.manager.itemEnd(zpt);\n        });\n        return trk;\n    }\n    /**\n     * @ignore\n     */\n    parse() { }\n}\n", "import { THREE } from \"../three\";\nimport { CameraMirrorMode } from \"../camera\";\n/**\n * A THREE.Group which attaches content to a point on a surface in front of the user as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/instant-world-tracking/\n */\nexport class InstantWorldAnchorGroup extends THREE.Group {\n    /**\n     * Constructs a new InstantWorldAnchorGroup.\n     * @param camera - A ZapparThree.Camera.\n     * @param instantTracker - The instant world tracker which will be used.\n     */\n    constructor(camera, instantTracker) {\n        super();\n        this.camera = camera;\n        this.instantTracker = instantTracker;\n        // We'll be updating this Group's matrix ourselves from the Zappar library\n        this.matrixAutoUpdate = false;\n    }\n    /**\n     * Sets the point in the user's environment that the anchor tracks from.\n     *\n     * The parameters passed in to this function correspond to the X, Y and Z coordinates (in camera space) of the point to track.\n     * Choosing a position with X and Y coordinates of zero, and a negative Z coordinate,\n     * will select a point on a surface directly in front of the center of the screen.\n     *\n     * @param orientation -  The orientation of the point in space.\n     */\n    setAnchorPoseFromCameraOffset(x, y, z, orientation) {\n        this.instantTracker.setAnchorPoseFromCameraOffset(x, y, z, orientation);\n    }\n    updateMatrixWorld(force) {\n        this.matrix.fromArray(this.instantTracker.anchor.pose(this.camera.rawPose, this.camera.currentMirrorMode === CameraMirrorMode.Poses));\n        this.matrix.decompose(this.position, this.quaternion, this.scale);\n        super.updateMatrixWorld(force);\n    }\n}\n", "import { THREE } from \"../three\";\nimport { CameraMirrorMode } from \"../camera\";\n/**\n * A THREE.Group which attaches content to a face as it moves around in the camera view.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class FaceAnchorGroup extends THREE.Group {\n    /**\n     * Constructs a new FaceAnchorGroup.\n     * @param camera - A ZapparThree.Camera.\n     * @param faceTracker - The face tracker which will be used.\n     * @param anchorId - Specify this to limit the group to tracking an anchor with the provided ID.\n     */\n    constructor(camera, faceTracker, anchorId) {\n        super();\n        this.camera = camera;\n        this.faceTracker = faceTracker;\n        this.anchorId = anchorId;\n        /**\n         * @ignore\n         */\n        this.isReady = false;\n        // We'll be updating this Group's matrix ourselves from the Zappar library\n        this.matrixAutoUpdate = false;\n    }\n    updateMatrixWorld(force) {\n        if (!this.currentAnchor || !this.faceTracker.visible.has(this.currentAnchor)) {\n            // No current anchor, or current anchor isn't visible\n            if (this.anchorId) {\n                this.currentAnchor = this.faceTracker.anchors.get(this.anchorId);\n            }\n            else {\n                this.currentAnchor = this.faceTracker.visible.values().next().value;\n            }\n        }\n        if (this.currentAnchor) {\n            this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose, this.camera.currentMirrorMode === CameraMirrorMode.Poses));\n            this.matrix.decompose(this.position, this.quaternion, this.scale);\n        }\n        super.updateMatrixWorld(force);\n    }\n}\n", "import { FaceLandmark } from \"@zappar/zappar\";\nimport { mat4 } from \"gl-matrix\";\nimport { THREE } from \"../three\";\nimport { CameraMirrorMode } from \"../camera\";\n/**\n * A THREE.Group which attaches content to a known point (landmark) on a face as it moves around in the camera view.\n * Landmarks will remain accurate, even as the user's expression changes.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class FaceLandmarkGroup extends THREE.Group {\n    /**\n     * Constructs a new FaceLandmarkGroup.\n     * @param camera - A ZapparThree.Camera.\n     * @param faceTracker - The face tracker which will be used.\n     * @param landmark - The landmark to which the group will be anchored.\n     */\n    constructor(camera, faceTracker, landmark) {\n        super();\n        this.camera = camera;\n        this.faceTracker = faceTracker;\n        this.pose = mat4.create();\n        this.landmark = new FaceLandmark(landmark);\n        // We'll be updating this Group's matrix ourselves from the Zappar library\n        this.matrixAutoUpdate = false;\n    }\n    updateMatrixWorld(force) {\n        if (!this.currentAnchor || !this.faceTracker.visible.has(this.currentAnchor)) {\n            // No current anchor, or current anchor isn't visible\n            this.currentAnchor = this.faceTracker.visible.values().next().value;\n        }\n        if (this.currentAnchor) {\n            this.landmark.updateFromFaceAnchor(this.currentAnchor, this.camera.currentMirrorMode === CameraMirrorMode.Poses);\n            mat4.multiply(this.pose, this.currentAnchor.pose(this.camera.rawPose, this.camera.currentMirrorMode === CameraMirrorMode.Poses), this.landmark.pose);\n            this.matrix.fromArray(this.pose);\n            this.matrix.decompose(this.position, this.quaternion, this.scale);\n        }\n        super.updateMatrixWorld(force);\n    }\n    /**\n     * Destroys the face landmark.\n     */\n    dispose() {\n        this.landmark.destroy();\n    }\n}\n", "/* eslint-disable class-methods-use-this */\nimport { THREE } from \"../three\";\nimport { FaceTracker } from \"../defaultpipeline\";\n/**\n * Loader for face tracking model data.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class FaceTrackerLoader extends THREE.Loader {\n    /**\n     * Loads face tracking model data.\n     * @param customModel - A URL to, or ArrayBuffer of, model data.\n     * @param options - A URL or ArrayBuffer of the source mesh data or defines if some face features should be filled with polygons.\n     * @param onLoad - Callback which returns the FaceMesh once it's loaded.\n     * @param onError - Callback which is called if there's an error loading the mesh.\n     * @returns The FaceTracker.\n     */\n    load(customModel, onLoad, onProgress, onError) {\n        const trk = new FaceTracker();\n        const p = customModel ? trk.loadModel(customModel) : trk.loadDefaultModel();\n        const itemFilename = typeof customModel === \"string\" ? customModel : \"__zappar_threejs_face_tracker_default\";\n        p.then(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad(trk);\n            this.manager.itemEnd(itemFilename);\n        }).catch((_) => {\n            onError === null || onError === void 0 ? void 0 : onError(_);\n            this.manager.itemError(itemFilename);\n            this.manager.itemEnd(itemFilename);\n        });\n        return trk;\n    }\n    /**\n     * @ignore\n     */\n    parse() { }\n}\n", "/* eslint-disable class-methods-use-this */\nimport { FaceMesh } from \"@zappar/zappar\";\nimport { THREE } from \"../three\";\n/**\n * Loader for adaptive face mesh data.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class FaceMeshLoader extends THREE.Loader {\n    /**\n     * Loads the data for a face mesh.\n     * @param options - A URL or ArrayBuffer of the source mesh data or defines if some face features should be filled with polygons.\n     * @param onLoad - Callback which returns the FaceMesh once it's loaded.\n     * @param onError - Callback which is called if there's an error loading the mesh.\n     * @returns The FaceMesh.\n     */\n    load(options, onLoad, onProgress, onError) {\n        const trk = new FaceMesh();\n        let p;\n        const itemFilename = `__zappar_threejs_face_mesh_${JSON.stringify(options || \"default\")}`;\n        this.manager.itemStart(itemFilename);\n        if (options) {\n            if (typeof options === \"string\")\n                p = trk.load(options);\n            else if (options.customModel)\n                p = trk.load(options.customModel, options.fillMouth, options.fillEyeLeft, options.fillEyeRight, options.fillNeck);\n            else\n                p = trk.loadDefaultFace(options.fillMouth, options.fillEyeLeft, options.fillEyeRight);\n        }\n        else {\n            p = trk.loadDefaultFace();\n        }\n        p.then(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad(trk);\n            this.manager.itemEnd(itemFilename);\n        }).catch((_) => {\n            onError === null || onError === void 0 ? void 0 : onError(_);\n            this.manager.itemError(itemFilename);\n            this.manager.itemEnd(itemFilename);\n        });\n        return trk;\n    }\n    /**\n     * Loads the default face mesh.\n     * @param options - Defines if some face features should be filled with polygons.\n     * @param onLoad - Callback which returns the FaceMesh once it's loaded.\n     * @param onError - Callback which is called if there's an error loading the mesh.\n     * @returns The FaceMesh.\n     */\n    loadFace(options, onLoad, onProgress, onError) {\n        const trk = new FaceMesh();\n        let p;\n        const itemFilename = `__zappar_threejs_face_mesh_face_${JSON.stringify(options || \"default\")}`;\n        if (options) {\n            if (options.customModel)\n                p = trk.load(options.customModel, options.fillMouth, options.fillEyeLeft, options.fillEyeRight, options.fillNeck);\n            else\n                p = trk.loadDefaultFace(options.fillMouth, options.fillEyeLeft, options.fillEyeRight);\n        }\n        else {\n            p = trk.loadDefaultFace();\n        }\n        p.then(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad(trk);\n            this.manager.itemEnd(itemFilename);\n        }).catch((_) => {\n            onError === null || onError === void 0 ? void 0 : onError(_);\n            this.manager.itemError(itemFilename);\n            this.manager.itemEnd(itemFilename);\n        });\n        return trk;\n    }\n    /**\n     * Loads the full head simplified mesh which covers the whole of the user's head, including some neck.\n     * It's ideal for drawing into the depth buffer in order to mask out the back of 3D models placed on the user's head.\n     * @param options - Defines if some face features should be filled with polygons.\n     * @param onLoad - Callback which returns the FaceMesh once it's loaded.\n     * @param onError - Callback which is called if there's an error loading the mesh.\n     * @returns The FaceMesh.\n     */\n    loadFullHeadSimplified(options, onLoad, onProgress, onError) {\n        const trk = new FaceMesh();\n        let p;\n        const itemFilename = `__zappar_threejs_face_mesh_full_head_${JSON.stringify(options || \"default\")}`;\n        if (options) {\n            if (options.customModel)\n                p = trk.load(options.customModel, options.fillMouth, options.fillEyeLeft, options.fillEyeRight, options.fillNeck);\n            else\n                p = trk.loadDefaultFullHeadSimplified(options.fillMouth, options.fillEyeLeft, options.fillEyeRight, options.fillNeck);\n        }\n        else {\n            p = trk.loadDefaultFullHeadSimplified();\n        }\n        p.then(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad(trk);\n            this.manager.itemEnd(itemFilename);\n        }).catch((_) => {\n            onError === null || onError === void 0 ? void 0 : onError(_);\n            this.manager.itemError(itemFilename);\n            this.manager.itemEnd(itemFilename);\n        });\n        return trk;\n    }\n    /**\n     * @ignore\n     */\n    parse() { }\n}\n", "import { THREE } from \"../three\";\nimport { FaceMeshLoader } from \"../loaders/facemeshloader\";\nlet faceMeshSingleton;\n/**\n * A THREE.BufferGeometry that fits to the user's face and deforms as the user's expression changes.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class FaceBufferGeometry extends THREE.BufferGeometry {\n    /**\n     * Constructs a new FaceBufferGeometry.\n     * @param faceMesh - The face mesh which will be used. If not specified, the default face mesh will be loaded.\n     */\n    constructor(faceMesh) {\n        super();\n        this.hasSetIndices = false;\n        this.hasSetUVs = false;\n        this.recalculateNormals = true;\n        this.setIndex([]);\n        this.setAttribute(\"position\", new THREE.Float32BufferAttribute([], 3));\n        this.setAttribute(\"normal\", new THREE.Float32BufferAttribute([], 3));\n        this.setAttribute(\"uv\", new THREE.Float32BufferAttribute([], 2));\n        if (!faceMesh) {\n            if (!faceMeshSingleton) {\n                faceMeshSingleton = new FaceMeshLoader().load();\n            }\n            // eslint-disable-next-line no-param-reassign\n            faceMesh = faceMeshSingleton;\n        }\n        this._faceMesh = faceMesh;\n    }\n    _updateIndices() {\n        if (this.hasSetIndices)\n            return;\n        if (this._faceMesh.indices.length === 0)\n            return;\n        this.setIndex(new THREE.Uint16BufferAttribute(this._faceMesh.indices, 1));\n        this.hasSetIndices = true;\n    }\n    _updateUVs() {\n        if (this.hasSetUVs)\n            return;\n        if (this._faceMesh.uvs.length === 0)\n            return;\n        this.setAttribute(\"uv\", new THREE.BufferAttribute(this._faceMesh.uvs, 2));\n        this.hasSetUVs = true;\n    }\n    /**\n     * @ignore\n     */\n    get calculateNormals() {\n        return this.recalculateNormals;\n    }\n    /**\n     * @ignore\n     */\n    set calculateNormals(b) {\n        this.recalculateNormals = b;\n        if (!this.recalculateNormals) {\n            if (typeof this.removeAttribute === \"function\") {\n                this.removeAttribute(\"normal\");\n            }\n            delete this.normals;\n        }\n    }\n    /**\n     * Updates the geometry to the most recent identity and expression output from a face anchor group.\n     * @param f - The face anchor group which will be used to update the geometry.\n     */\n    updateFromFaceAnchorGroup(f) {\n        if (this._faceMesh.vertices.length === 0)\n            return;\n        if (!f.currentAnchor)\n            return;\n        this.updateFromFaceAnchor(f.currentAnchor);\n    }\n    /**\n     * Updates the geometry to the most recent identity and expression output from a face anchor.\n     * @param f - The face anchor which will be used to update the geometry.\n     */\n    updateFromFaceAnchor(f) {\n        this.updateFromIdentityExpression(f.identity, f.expression);\n    }\n    /**\n     * Updates the geometry to the provided identity and expression coefficients.\n     * @param identity  - The identity coefficients.\n     * @param expression - The expression coefficients.\n     */\n    updateFromIdentityExpression(identity, expression) {\n        if (this._faceMesh.vertices.length === 0)\n            return;\n        this._updateIndices();\n        this._updateUVs();\n        this._faceMesh.updateFromIdentityExpression(identity, expression);\n        if (!this.vertices) {\n            this.vertices = new Float32Array(this._faceMesh.vertices.length);\n            this.verticesAttribute = new THREE.BufferAttribute(this.vertices, 3);\n            this.setAttribute(\"position\", this.verticesAttribute);\n        }\n        this.vertices.set(this._faceMesh.vertices);\n        if (this.verticesAttribute)\n            this.verticesAttribute.needsUpdate = true;\n        this.computeBoundingSphere();\n        if (!this.calculateNormals)\n            return;\n        if (!this.normals) {\n            this.normals = new Float32Array(this._faceMesh.normals.length);\n            this.normalsAttribute = new THREE.BufferAttribute(this.normals, 3);\n            this.setAttribute(\"normal\", this.normalsAttribute);\n        }\n        this.normals.set(this._faceMesh.normals);\n        if (this.normalsAttribute)\n            this.normalsAttribute.needsUpdate = true;\n    }\n}\n", "import * as Zappar from \"@zappar/zappar\";\nimport { THREE } from \"../three\";\nimport { FaceBufferGeometry } from \"../geometry/facebuffergeometry\";\n/**\n * A THREE.Mesh that fits the user's head and fills the depth buffer,\n * ensuring that the camera image of the head shows instead of any 3D elements behind it in the scene.\n *\n * Works using a full-head ZapparThree.FaceMesh with the mouth, eyes and neck filled in.\n * Its renderOrder is set to Number.MIN_SAFE_INTEGER to ensure it's rendered before any other objects in the scene,\n * and its material has the colorWrite property set to false so it fills the depth buffer but not the color buffer.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class HeadMaskMesh extends THREE.Mesh {\n    /**\n     * Constructs a new head mask mesh.\n     * @param onLoad - Callback function which runs when the mesh is loaded.\n     * @param onError - Callback which is called if there's an error loading the mesh.\n     */\n    constructor(onLoad, onError) {\n        super();\n        this.onLoad = onLoad;\n        this.onError = onError;\n        this.faceMesh = new Zappar.FaceMesh();\n        this.faceBufferGeometry = new FaceBufferGeometry(this.faceMesh);\n        this.geometry = this.faceBufferGeometry;\n        this.material = new THREE.MeshBasicMaterial({\n            colorWrite: false,\n        });\n        this.faceMesh\n            .loadDefaultFullHeadSimplified(true, true, true, true)\n            .then(() => { var _a; return (_a = this.onLoad) === null || _a === void 0 ? void 0 : _a.call(this); })\n            .catch(() => { var _a; return (_a = this.onError) === null || _a === void 0 ? void 0 : _a.call(this); });\n        this.renderOrder = Number.MIN_SAFE_INTEGER;\n    }\n    /**\n     * Updates pose directly from the [[FaceAnchorGroup]] anchor.\n     * @param f - The anchor to derive the expression and identity from.\n     */\n    updateFromFaceAnchorGroup(f) {\n        this.faceBufferGeometry.updateFromFaceAnchorGroup(f);\n    }\n    /**\n     * Updates pose directly from the expression and identity in a [[FaceAnchor]].\n     * @param f - The anchor to derive the expression and identity from.\n     */\n    updateFromFaceAnchor(f) {\n        this.faceBufferGeometry.updateFromFaceAnchor(f);\n    }\n    /**\n     * Updates pose directly from identity and expression coefficients.\n     * @param identity  - The identity coefficients.\n     * @param expression - The expression coefficients.\n     */\n    updateFromIdentityExpression(identity, expression) {\n        this.faceBufferGeometry.updateFromIdentityExpression(identity, expression);\n    }\n    /**\n     * Destroys the face mesh and disposes of resources.\n     */\n    dispose() {\n        this.faceMesh.destroy();\n        this.faceBufferGeometry.dispose();\n    }\n}\n", "/* eslint-disable class-methods-use-this */\nimport { THREE } from \"../three\";\nimport { HeadMaskMesh } from \"../mesh/headmaskmesh\";\nconst itemFilename = \"__zappar_threejs_head_mask_mesh\";\n/**\n * Loader for HeadMaskMesh objects.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/face-tracking/\n */\nexport class HeadMaskMeshLoader extends THREE.Loader {\n    /**\n     * Loads a HeadMaskMesh.\n     * @param onLoad - Callback which returns the HeadMaskMesh once it's loaded.\n     * @param onError - Callback which is called if there's an error loading the mesh.\n     * @returns The HeadMaskMesh.\n     */\n    load(onLoad, onProgress, onError) {\n        this.manager.itemStart(itemFilename);\n        return new HeadMaskMesh(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad();\n            this.manager.itemEnd(itemFilename);\n        }, () => {\n            onError === null || onError === void 0 ? void 0 : onError();\n            this.manager.itemError(itemFilename);\n            this.manager.itemEnd(itemFilename);\n        });\n    }\n    /**\n     * @ignore\n     */\n    parse() { }\n}\n", "/* eslint-disable class-methods-use-this */\nimport { loadedPromise } from \"..\";\nimport { THREE } from \"../three\";\nconst itemFilename = \"__zappar_threejs_library\";\n/**\n * Loader for library itself.\n * This library uses some additional resources (e.g web workers and WebAssembly) - this loader resolves once the library has fully loaded these resources.\n * If you're using the LoadingManager included in this library you don't need to explicitly use this yourself as one is automatically created.\n */\nexport class LibraryLoader extends THREE.Loader {\n    /**\n     * Resolves once the library is loaded and ready to process data.\n     * @param onLoad - Callback which runs once the library is fully loaded.\n     * @param onError - Callback which is called if there's an error loading library.\n     */\n    load(onLoad, onProgress, onError) {\n        this.manager.itemStart(itemFilename);\n        loadedPromise()\n            .then(() => {\n            onLoad === null || onLoad === void 0 ? void 0 : onLoad();\n            this.manager.itemEnd(itemFilename);\n        })\n            .catch((err) => {\n            onError === null || onError === void 0 ? void 0 : onError();\n            this.manager.itemError(itemFilename);\n            this.manager.itemEnd(itemFilename);\n        });\n    }\n    /**\n     * @ignore\n     */\n    parse() { }\n}\n", "/* eslint-disable guard-for-in */\nimport { THREE } from \"../three\";\nimport { LibraryLoader } from \"./libraryloader\";\nclass UI {\n    constructor(style) {\n        this.lastLoadPercentage = 0;\n        this.divs = {\n            inner: document.createElement(\"div\"),\n            title: document.createElement(\"div\"),\n            progress: document.createElement(\"div\"),\n            progressValue: document.createElement(\"div\"),\n        };\n        this.css = {\n            container: {\n                position: \"fixed\",\n                width: \"100%\",\n                height: \"100%\",\n                top: \"0px\",\n                left: \"0px\",\n                zIndex: \"10000\",\n                backgroundColor: \"rgba(0,0,0,0.8)\",\n                fontFamily: \"sans-serif\",\n                color: \"rgba(255,255,255,1)\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                transition: \"opacity 500ms\",\n            },\n            inner: {\n                maxWidth: \"400px\",\n                textAlign: \"center\",\n            },\n            title: {\n                fontSize: \"20px\",\n            },\n            progress: {\n                background: \"rgba(255,255,255, 0.1)\",\n                justifyContent: \"flex-start\",\n                borderRadius: \"100px\",\n                alignItems: \"center\",\n                position: \"relative\",\n                padding: \"0 5px\",\n                display: \"flex\",\n                height: \"15px\",\n                width: \"250px\",\n                margin: \"15px\",\n            },\n            progressValue: {\n                boxShadow: \"0 10px 40px -10px #fff\",\n                borderTopLeftRadius: \"100px\",\n                borderBottomLeftRadius: \"100px\",\n                background: \"rgba(255,255,255,1)\",\n                height: \"10px\",\n                width: \"0\",\n                transition: \"width 500ms\",\n            },\n        };\n        // update loading bar based on % = (n-loaded / n-total * 100)\n        this.updateLoader = (loadPercentage) => {\n            if (loadPercentage < this.lastLoadPercentage)\n                return;\n            this.lastLoadPercentage = loadPercentage;\n            const elem = document.getElementById(\"zappar-loader-progressValue\");\n            elem.style.width = `${loadPercentage}%`;\n            elem.style.borderTopRightRadius = `${loadPercentage}px`;\n            elem.style.borderBottomRightRadius = `${loadPercentage}px`;\n            elem.addEventListener(\"transitionend\", () => {\n                if (loadPercentage === 100) {\n                    this.containerDiv.style.opacity = \"0\";\n                    this.containerDiv.addEventListener(\"transitionend\", (ev) => {\n                        if (ev.propertyName === \"opacity\") {\n                            this.dispose();\n                        }\n                    });\n                }\n            });\n        };\n        this.dispose = () => {\n            this.containerDiv.remove();\n        };\n        this.customStyle = style;\n        this.containerDiv = document.createElement(\"div\");\n    }\n    initialize() {\n        // eslint-disable-next-line no-restricted-syntax\n        for (const key in this.divs) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.divs[key].id = `zappar-loader-${key}`;\n        }\n        this.refreshStyle();\n        this.divs.inner.appendChild(this.divs.title);\n        this.divs.inner.appendChild(this.divs.progress);\n        this.divs.progress.appendChild(this.divs.progressValue);\n        this.containerDiv.appendChild(this.divs.inner);\n        this.divs.title.innerHTML = \"Loading...\";\n        document.body.append(this.containerDiv);\n    }\n    refreshStyle() {\n        var _a, _b, _c, _d, _e;\n        Object.assign(this.css.container, (_a = this.customStyle) === null || _a === void 0 ? void 0 : _a.container);\n        Object.assign(this.css.inner, (_b = this.customStyle) === null || _b === void 0 ? void 0 : _b.inner);\n        Object.assign(this.css.title, (_c = this.customStyle) === null || _c === void 0 ? void 0 : _c.title);\n        Object.assign(this.css.progress, (_d = this.customStyle) === null || _d === void 0 ? void 0 : _d.progress);\n        Object.assign(this.css.progressValue, (_e = this.customStyle) === null || _e === void 0 ? void 0 : _e.progressValue);\n        Object.assign(this.containerDiv.style, this.css.container);\n        Object.assign(this.divs.inner.style, this.css.inner);\n        Object.assign(this.divs.title.style, this.css.title);\n        Object.assign(this.divs.progress.style, this.css.progress);\n        Object.assign(this.divs.progressValue.style, this.css.progressValue);\n    }\n}\n/**\n * Creates a THREE.DefaultLoadingManager which is applied to all assets that can be loaded.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/loading-manager/\n */\nexport class DefaultLoaderUI extends UI {\n    /**\n     * Constructs a new DefaultLoaderUI.\n     * @param options - The styling of the UI.\n     * @param onload - The callback function to be called when assets are loaded.\n     */\n    constructor(options) {\n        super(options === null || options === void 0 ? void 0 : options.style);\n        THREE.DefaultLoadingManager.onStart = () => {\n            this.initialize();\n        };\n        THREE.DefaultLoadingManager.onLoad = () => {\n            var _a;\n            (_a = options === null || options === void 0 ? void 0 : options.onLoad) === null || _a === void 0 ? void 0 : _a.call(options);\n        };\n        THREE.DefaultLoadingManager.onProgress = (_url, itemsLoaded, itemsTotal) => {\n            this.updateLoader((itemsLoaded / itemsTotal) * 100);\n        };\n    }\n}\n/**\n * A LoadingManager with a user friendly interface.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/loading-manager/\n */\nexport class LoadingManager extends THREE.LoadingManager {\n    /**\n     * Constructs a new LoadingManager.\n     * @param options - Styling may be defined here, as well as any event callbacks.\n     */\n    constructor(options) {\n        super(() => { var _a; return (_a = options === null || options === void 0 ? void 0 : options.onLoad) === null || _a === void 0 ? void 0 : _a.call(options); }, (url, loaded, total) => {\n            var _a;\n            this.ui.customStyle = options === null || options === void 0 ? void 0 : options.style;\n            this.ui.refreshStyle();\n            (_a = options === null || options === void 0 ? void 0 : options.onProgress) === null || _a === void 0 ? void 0 : _a.call(options, url, loaded, total);\n            this.ui.updateLoader((loaded / total) * 100);\n        }, options === null || options === void 0 ? void 0 : options.onError);\n        this.ui = new UI(); // no multiple inheritance (â¯Â°â¡Â°)â¯ï¸µ â»ââ»\n        this.onStartCallback = undefined;\n        /**\n         * @ignore\n         */\n        this.onStart = () => {\n            this.ui.initialize();\n            if (this.onStartCallback)\n                this.onStartCallback();\n        };\n        /**\n         * Calls provided function when loading begins.\n         * @param callback - Function that is called when loading starts.\n         */\n        this._onStart = (callback) => {\n            this.onStartCallback = callback;\n        };\n        /**\n         * Destroys the UI.\n         */\n        this.dispose = () => {\n            this.ui.dispose();\n        };\n        new LibraryLoader(this).load();\n    }\n}\n", "import { THREE } from \"./three\";\nexport class CameraEnvironmentMap {\n    /**\n     * Constructs a new Camera Environment Map.\n     */\n    constructor() {\n        this.cubeMapScene = new THREE.Scene();\n        this.renderTarget = new THREE.WebGLCubeRenderTarget(256, {\n            format: THREE.RGBAFormat,\n            generateMipmaps: true,\n            minFilter: THREE.LinearMipmapLinearFilter,\n        });\n        this.cubeCamera = new THREE.CubeCamera(0.1, 1000, this.renderTarget);\n        this.sphereMaterial = new THREE.MeshBasicMaterial({ side: THREE.DoubleSide });\n        this.sphereGroup = new THREE.Group();\n        /**\n         * The resulting map texture. Set this as your `scene.environment` or as a material's `envMap`.\n         */\n        this.environmentMap = this.renderTarget.texture;\n        this.cubeMapScene.add(this.cubeCamera);\n        const sphere = new THREE.Mesh(new THREE.SphereGeometry(10, 16, 12), this.sphereMaterial);\n        sphere.rotation.set(0, -0.5 * Math.PI, 0);\n        this.sphereGroup.add(sphere);\n        this.cubeMapScene.add(this.sphereGroup);\n    }\n    /**\n     * Destroy the resources held by this object.\n     */\n    dispose() {\n        this.renderTarget.dispose();\n        this.sphereMaterial.dispose();\n    }\n    /**\n     * Update the contents of the environment map with the latest texture from the camera.\n     *\n     * Call this each frame after you call `update` on your Zappar camera, but before you render the scene.\n     * @param renderer - Your renderer object\n     * @param zapparCamera - The Zappar camera you're using to render your scene\n     */\n    update(renderer, zapparCamera) {\n        if (parseInt(THREE.REVISION, 10) < 152)\n            this.environmentMap.encoding = renderer.outputEncoding;\n        else\n            this.environmentMap.colorSpace = renderer.outputColorSpace;\n        this.sphereMaterial.map = zapparCamera.backgroundTexture;\n        this.sphereGroup.quaternion.copy(zapparCamera.quaternion);\n        this.cubeCamera.update(renderer, this.cubeMapScene);\n    }\n}\n", "import { THREE } from \"../three\";\n/**\n * A THREE.BufferGeometry that fits to the target image.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/image-tracking/\n */\nexport class TargetImagePreviewBufferGeometry extends THREE.BufferGeometry {\n    /**\n     * Constructs a new TargetImagePreviewBufferGeometry.\n     * @param imageTarget - The image target which will be used.\n     */\n    constructor(imageTarget) {\n        super();\n        this.imageTarget = imageTarget;\n        this.hasSetIndices = false;\n        this.hasSetUVs = false;\n        this.recalculateNormals = true;\n        if (this.imageTarget.preview.vertices.length === 0) {\n            throw new Error(\"No vertices found in the image target.\");\n        }\n        const vertexCount = this.imageTarget.preview.vertices.length / 3;\n        this.vertices = new Float32Array(vertexCount * 3);\n        this.vertices.set(this.imageTarget.preview.vertices);\n        this.setAttribute(\"position\", new THREE.BufferAttribute(this.vertices, 3));\n        this.setAttribute(\"normal\", new THREE.Float32BufferAttribute(vertexCount * 3, 3));\n        this._updateUVs();\n        this._updateIndices();\n        this.computeBoundingSphere();\n        this.computeVertexNormals();\n        this.attributes.position.needsUpdate = true;\n        this.attributes.normal.needsUpdate = true;\n        if (this.attributes.uv)\n            this.attributes.uv.needsUpdate = true;\n    }\n    /**\n     * @ignore\n     */\n    _updateIndices() {\n        var _a;\n        if (this.hasSetIndices)\n            return;\n        if (((_a = this.imageTarget) === null || _a === void 0 ? void 0 : _a.preview.indices.length) > 0) {\n            this.setIndex(new THREE.Uint16BufferAttribute(this.imageTarget.preview.indices, 1));\n            this.hasSetIndices = true;\n        }\n    }\n    /**\n     * @ignore\n     */\n    _updateUVs() {\n        if (this.hasSetUVs)\n            return;\n        if (this.imageTarget.preview.uvs.length > 0) {\n            this.setAttribute(\"uv\", new THREE.BufferAttribute(new Float32Array(this.imageTarget.preview.uvs), 2));\n            this.hasSetUVs = true;\n        }\n    }\n    /**\n     * @ignore\n     */\n    get calculateNormals() {\n        return this.recalculateNormals;\n    }\n}\n", "import { TargetImagePreviewBufferGeometry } from \"..\";\nimport { THREE } from \"../three\";\n/**\n * A THREE.Mesh that fits the target image.\n * If a material is not specified, it will use a default THREE.MeshBasicMaterial with a map of the target image.\n * @see https://docs.zap.works/universal-ar/web-libraries/threejs/image-tracking/\n */\nexport class TargetImagePreviewMesh extends THREE.Mesh {\n    constructor(target, material) {\n        if (!material) {\n            const map = new THREE.TextureLoader().load(target.image.src);\n            map.colorSpace = THREE.SRGBColorSpace;\n            // eslint-disable-next-line no-param-reassign\n            material = new THREE.MeshBasicMaterial({\n                map,\n            });\n        }\n        super(new TargetImagePreviewBufferGeometry(target), material);\n    }\n}\n", "import { VERSION } from \"./version\";\nconsole.log(`Zappar for ThreeJS v${VERSION}`);\nexport { Camera, CameraPoseMode, CameraMirrorMode } from \"./camera\";\nexport { ImageAnchorGroup } from \"./trackers/imageanchorgroup\";\nexport { ImageTrackerLoader } from \"./loaders/imagetrackerloader\";\nexport { InstantWorldAnchorGroup } from \"./trackers/instantworldanchorgroup\";\nexport { FaceAnchorGroup } from \"./trackers/faceanchorgroup\";\nexport { FaceLandmarkGroup } from \"./trackers/facelandmarkgroup\";\nexport { FaceTrackerLoader } from \"./loaders/facetrackerloader\";\nexport { FaceBufferGeometry } from \"./geometry/facebuffergeometry\";\nexport { FaceMeshLoader } from \"./loaders/facemeshloader\";\nexport { HeadMaskMesh } from \"./mesh/headmaskmesh\";\nexport { HeadMaskMeshLoader } from \"./loaders/headmaskmeshloader\";\nexport { LibraryLoader } from \"./loaders/libraryloader\";\nexport { LoadingManager, DefaultLoaderUI } from \"./loaders/loadingmanager\";\nexport { CameraEnvironmentMap } from \"./cameraenvironmentmap\";\nexport { TargetImagePreviewBufferGeometry } from \"./geometry/targetimagepreviewbuffergeometry\";\nexport { TargetImagePreviewMesh } from \"./mesh/targetimagepreviewmesh\";\nexport { ImageTracker, InstantWorldTracker, BarcodeFinder, FaceTracker, CameraSource, HTMLElementSource, onFrameUpdate, glContextSet, glContextLost, getDefaultPipeline, } from \"./defaultpipeline\";\nexport { FaceMesh, FaceLandmark, FaceLandmarkName, Pipeline, LogLevel, setLogLevel, permissionDenied, permissionGranted, permissionRequest, permissionDeniedUI, permissionRequestUI, browserIncompatible, browserIncompatibleUI, loaded, loadedPromise, SequenceSource, cookiesPermitted, } from \"@zappar/zappar\";\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AAUA,KAAC,SAAUA,SAAQC,YAAW;AAE1B;AAOA,UAAI,aAAc,UACd,QAAc,IACd,UAAc,KACd,YAAc,YACd,aAAc,aACd,WAAc,UACd,WAAc,UACd,QAAc,SACd,QAAc,SACd,OAAc,QACd,OAAc,QACd,SAAc,UACdC,WAAc,WACd,eAAc,gBACd,UAAc,WACd,SAAc,UACd,SAAc,UACd,UAAc,WACd,WAAc,YACd,WAAc,YACd,gBAAgB;AAEpB,UAAI,SAAU,UACV,QAAU,SACV,OAAU,QACV,aAAa,cACb,UAAU,WACV,SAAU,UACV,OAAU,QACV,UAAU,WACV,SAAU,UACV,SAAU,UACV,KAAU,MACV,YAAY,aACZ,WAAY,YACZ,QAAU,SACV,UAAU,WACV,QAAU,SACV,OAAU,QACV,SAAU,UACV,QAAU,SACV,WAAa;AAMjB,UAAI,SAAS,SAAUC,UAAS,YAAY;AACpC,YAAI,gBAAgB,CAAC;AACrB,iBAAS,KAAKA,UAAS;AACnB,cAAI,WAAW,CAAC,KAAK,WAAW,CAAC,EAAE,SAAS,MAAM,GAAG;AACjD,0BAAc,CAAC,IAAI,WAAW,CAAC,EAAE,OAAOA,SAAQ,CAAC,CAAC;AAAA,UACtD,OAAO;AACH,0BAAc,CAAC,IAAIA,SAAQ,CAAC;AAAA,UAChC;AAAA,QACJ;AACA,eAAO;AAAA,MACX,GACA,YAAY,SAAU,KAAK;AACvB,YAAI,QAAQ,CAAC;AACb,iBAAS,IAAE,GAAG,IAAE,IAAI,QAAQ,KAAK;AAC7B,gBAAM,IAAI,CAAC,EAAE,YAAY,CAAC,IAAI,IAAI,CAAC;AAAA,QACvC;AACA,eAAO;AAAA,MACX,GACA,MAAM,SAAU,MAAMC,OAAM;AACxB,eAAO,OAAO,SAAS,WAAW,SAASA,KAAI,EAAE,QAAQ,SAAS,IAAI,CAAC,MAAM,KAAK;AAAA,MACtF,GACA,WAAW,SAAUC,MAAK;AACtB,eAAOA,KAAI,YAAY;AAAA,MAC3B,GACA,WAAW,SAAU,SAAS;AAC1B,eAAO,OAAO,YAAa,WAAW,QAAQ,QAAQ,YAAY,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,IAAIJ;AAAA,MAC7F,GACA,OAAO,SAAUI,MAAKC,MAAK;AACvB,YAAI,OAAOD,SAAS,UAAU;AAC1B,UAAAA,OAAMA,KAAI,QAAQ,UAAU,KAAK;AACjC,iBAAO,OAAOC,SAAS,aAAaD,OAAMA,KAAI,UAAU,GAAG,aAAa;AAAA,QAC5E;AAAA,MACR;AAMA,UAAI,YAAY,SAAU,IAAI,QAAQ;AAE9B,YAAI,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,SAAS;AAGhC,eAAO,IAAI,OAAO,UAAU,CAAC,SAAS;AAElC,cAAI,QAAQ,OAAO,CAAC,GAChB,QAAQ,OAAO,IAAI,CAAC;AACxB,cAAI,IAAI;AAGR,iBAAO,IAAI,MAAM,UAAU,CAAC,SAAS;AAEjC,sBAAU,MAAM,GAAG,EAAE,KAAK,EAAE;AAE5B,gBAAI,CAAC,CAAC,SAAS;AACX,mBAAK,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAC/B,wBAAQ,QAAQ,EAAE,CAAC;AACnB,oBAAI,MAAM,CAAC;AAEX,oBAAI,OAAO,MAAM,YAAY,EAAE,SAAS,GAAG;AACvC,sBAAI,EAAE,WAAW,GAAG;AAChB,wBAAI,OAAO,EAAE,CAAC,KAAK,WAAW;AAE1B,2BAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,MAAM,KAAK;AAAA,oBACtC,OAAO;AAEH,2BAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;AAAA,oBACpB;AAAA,kBACJ,WAAW,EAAE,WAAW,GAAG;AAEvB,wBAAI,OAAO,EAAE,CAAC,MAAM,aAAa,EAAE,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,OAAO;AAExD,2BAAK,EAAE,CAAC,CAAC,IAAI,QAAQ,EAAE,CAAC,EAAE,KAAK,MAAM,OAAO,EAAE,CAAC,CAAC,IAAIJ;AAAA,oBACxD,OAAO;AAEH,2BAAK,EAAE,CAAC,CAAC,IAAI,QAAQ,MAAM,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,IAAIA;AAAA,oBACrD;AAAA,kBACJ,WAAW,EAAE,WAAW,GAAG;AACnB,yBAAK,EAAE,CAAC,CAAC,IAAI,QAAQ,EAAE,CAAC,EAAE,KAAK,MAAM,MAAM,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAIA;AAAA,kBAC1E;AAAA,gBACJ,OAAO;AACH,uBAAK,CAAC,IAAI,QAAQ,QAAQA;AAAA,gBAC9B;AAAA,cACJ;AAAA,YACJ;AAAA,UACJ;AACA,eAAK;AAAA,QACT;AAAA,MACJ,GAEA,YAAY,SAAUI,MAAK,KAAK;AAE5B,iBAAS,KAAK,KAAK;AAEf,cAAI,OAAO,IAAI,CAAC,MAAM,YAAY,IAAI,CAAC,EAAE,SAAS,GAAG;AACjD,qBAAS,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,QAAQ,KAAK;AACpC,kBAAI,IAAI,IAAI,CAAC,EAAE,CAAC,GAAGA,IAAG,GAAG;AACrB,uBAAQ,MAAM,UAAWJ,aAAY;AAAA,cACzC;AAAA,YACJ;AAAA,UACJ,WAAW,IAAI,IAAI,CAAC,GAAGI,IAAG,GAAG;AACzB,mBAAQ,MAAM,UAAWJ,aAAY;AAAA,UACzC;AAAA,QACJ;AACA,eAAOI;AAAA,MACf;AAOA,UAAI,eAAe;AAAA,QACX,OAAU;AAAA,QACV,OAAU;AAAA,QACV,OAAU;AAAA,QACV,OAAU;AAAA,QACV,SAAU;AAAA,QACV,SAAU;AAAA,QACV,SAAU;AAAA,QACV,KAAU;AAAA,MACd,GACA,oBAAoB;AAAA,QAChB,MAAc;AAAA,QACd,WAAc;AAAA,QACd,UAAc;AAAA,QACd,QAAc;AAAA,QACd,MAAc,CAAC,UAAU,QAAQ;AAAA,QACjC,SAAc;AAAA,QACd,KAAc;AAAA,QACd,KAAc;AAAA,QACd,OAAc;AAAA,QACd,MAAc,CAAC,UAAU,SAAS;AAAA,QAClC,MAAc;AAAA,MACtB;AAMA,UAAI,UAAU;AAAA,QAEV,SAAU;AAAA,UAAC;AAAA,YAEP;AAAA;AAAA,UACA;AAAA,UAAG,CAACH,UAAS,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YAChC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9B;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,QAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YACrC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,KAAK,CAAC;AAAA,UAAG;AAAA;AAAA,YAG7B;AAAA;AAAA,YACA;AAAA;AAAA;AAAA,YAEA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA;AAAA,YAGA;AAAA;AAAA,YAEA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,OAAK,OAAO,CAAC;AAAA,UAAG;AAAA,YACpC;AAAA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,qBAAqB,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YAChC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,WAAW,CAAC;AAAA,UAAG;AAAA,YACnC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,IAAI,CAAC;AAAA,UAAG;AAAA,YAC5B;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YAChC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,QAAQ,eAAa,OAAO,GAAGA,QAAO;AAAA,UAAG;AAAA,YACpD;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,UAAQ,QAAQ,CAAC;AAAA,UAAG;AAAA,YACxC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,QAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YACtC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,SAAS,CAAC;AAAA,UAAG;AAAA,YACjC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,SAAS,CAAC;AAAA,UAAG;AAAA,YACjC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,QAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YACtC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,UAAQ,OAAO,CAAC;AAAA,UAAG;AAAA,YACvC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAC/B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,SAAO,OAAO,CAAC;AAAA,UAAG;AAAA,YAC7B;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,QAAQ,QAAM,OAAO,GAAGA,QAAO;AAAA,UAAG;AAAA;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,MAAM,GAAG,GAAGA,QAAO;AAAA,UAAG;AAAA,YACjC;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,IAAI;AAAA,UAAG;AAAA;AAAA,YAGX;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,QAAQ,GAAGA,QAAO;AAAA,UAAG;AAAA,YAChC;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,KAAK,CAAC;AAAA,UAAG;AAAA,YAE7B;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,SAAO,WAAW,CAAC;AAAA,UAAG;AAAA,YAE1C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,SAAO,UAAU,GAAGA,QAAO;AAAA,UAAG;AAAA,YAEzC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,aAAW,OAAO,CAAC;AAAA,UAAG;AAAA,YAE1C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YAEpB;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,eAAe,CAAC;AAAA,UAAG;AAAA,YACvC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,IAAI;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAM,CAACA,UAAS,WAAW,YAAY,CAAC;AAAA,UAAG;AAAA,YAE/C;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA;AAAA,YAGpB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,UAAU,GAAGA,QAAO;AAAA,UAAG;AAAA,YAClC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,UAAQ,UAAU,CAAC;AAAA,UAAG;AAAA,YAC1C;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YAEA;AAAA;AAAA,YAEA;AAAA;AAAA,YACA;AAAA;AAAA;AAAA,YAGA;AAAA;AAAA,YAEA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YAEpB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAM,CAACA,UAAS,gBAAgB,EAAE,CAAC;AAAA,QAC3C;AAAA,QAEA,KAAM;AAAA,UAAC;AAAA,YAEH;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,OAAO,CAAC;AAAA,UAAG;AAAA,YAE9B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,QAAQ,CAAC;AAAA,UAAG;AAAA,YAE/B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,MAAM,CAAC;AAAA,UAAG;AAAA,YAE7B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,OAAO,CAAC;AAAA,UAAG;AAAA,YAE9B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,OAAO,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9B;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,KAAK,CAAC;AAAA,UAAG;AAAA,YAE5B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,QAAQ,OAAO,QAAQ,CAAC;AAAA,UAAG;AAAA,YAE9C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,cAAc,OAAO,CAAC;AAAA,UAAG;AAAA,YAE9B;AAAA;AAAA,UAEA;AAAA,UAAG,CAAC,CAAC,cAAc,QAAQ,CAAC;AAAA,QAChC;AAAA,QAEA,QAAS;AAAA,UAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAQN;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA,YACA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,YACA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC;AAAA,UAAG;AAAA;AAAA,YAG7B;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC9C;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9C;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,MAAM,GAAG,GAAG,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC3D;AAAA;AAAA,UACA;AAAA,UAAE,CAAC,CAAC,OAAO,MAAM,GAAG,GAAG,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG1D;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9C;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9C;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAGhD;AAAA,YACA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAChD;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAGhD;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC1C;AAAA,YACA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG1C;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAGhD;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,MAAM,GAAG,GAAG,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG5D;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC9C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9C;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC5C;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,eAAe,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG/D;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAGjD;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC9C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,SAAS,eAAe,GAAG,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG1E;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,QAAQ,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACpC;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,UAAU,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAGlD;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC5C;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG5C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA;AAAA,YAGA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAGjD;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG9C;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG/C;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA,YAG7C;AAAA;AAAA,YAEA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAEpC;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAEpC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACjD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,WAAW,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACnD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC9C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACjD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC9C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACjD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,gBAAgB,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACxD;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,UAAU,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAClD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC9C;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,QAAQ,cAAc,GAAG,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACtD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,UAAU,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAClD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,UAAU,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAClD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,QAAQ,OAAO,GAAG,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,QAAQ,OAAO,GAAG,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,WAAW,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACnD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACjD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,WAAW,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACnD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAChD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACpC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,OAAO,GAAG,GAAG,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC/D;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA;AAAA;AAAA;AAAA,YAM7C;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,OAAO,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YACrC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YACjD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA;AAAA;AAAA;AAAA,YAMlD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAC9B;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,KAAK,SAAS,GAAG,CAAC,QAAQ,OAAO,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAClE;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YACpC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,CAAC,OAAO,QAAM,KAAK,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YACpD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,OAAO,SAAO,MAAM,GAAG,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAChE;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAE;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAC7C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,QAAQ,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YACrD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA;AAAA;AAAA;AAAA,YAMtB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,OAAO,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YACtC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YAChD;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,GAAG,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA,YAC/C;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,QAAQ,GAAG,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA;AAAA;AAAA;AAAA,YAMlD;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,QAAQ,CAAC,MAAM,QAAQ,CAAC;AAAA,UAAG;AAAA;AAAA;AAAA;AAAA,YAM/B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC5B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YAC5B;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACrB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,MAAM,CAAC;AAAA,UAAG;AAAA,YACrB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,OAAO,CAAC,QAAQ,SAAS,CAAC;AAAA,QAClC;AAAA,QAEA,QAAS;AAAA,UAAC;AAAA,YAEN;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,OAAK,MAAM,CAAC;AAAA,UAAG;AAAA,YAEnC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA,YAE/B;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YAEpB;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,IAAI;AAAA,QACrB;AAAA,QAEA,IAAK;AAAA,UAAC;AAAA;AAAA,YAGF;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,MAAM,CAACA,UAAS,WAAW,iBAAiB,CAAC;AAAA,UAAG;AAAA,YACpD;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,SAAS,GAAG,CAACA,UAAS,WAAW,iBAAiB,CAAC;AAAA,UAAG;AAAA;AAAA,YAGjE;AAAA;AAAA,YACA;AAAA,UACA;AAAA,UAAG,CAAC,CAACA,UAAS,MAAM,GAAG,GAAG,CAAC,MAAM,KAAK,CAAC;AAAA,UAAG;AAAA,YAC1C;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,QAAQ,GAAG,CAACA,UAAS,MAAM,GAAG,CAAC;AAAA,UAAG;AAAA;AAAA,YAG7C;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,IAAI;AAAA,UAAG;AAAA;AAAA,YACpB;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,UAAU,CAAC;AAAA,UAAG;AAAA,YAClC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,SAAS,CAAC;AAAA,UAAG;AAAA,YACjC;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,UAAQ,KAAK,CAAC;AAAA,UAAG;AAAA,YACrC;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,OAAO,CAAC;AAAA,UAAG;AAAA;AAAA,YAG/B;AAAA;AAAA,UACA;AAAA,UAAG,CAACA,UAAS,CAAC,MAAM,SAAO,MAAM,CAAC;AAAA,UAAG;AAAA,YACrC;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,aAAa,GAAGA,QAAO;AAAA,UAAE;AAAA;AAAA,YAGpC;AAAA;AAAA,YACA;AAAA;AAAA;AAAA,YAGA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YAEA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,UAAG;AAAA,YACpB;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,CAAC,MAAM,SAAS,GAAGA,QAAO;AAAA,UAAG;AAAA,YACjC;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,YACA;AAAA;AAAA,UACA;AAAA,UAAG,CAAC,MAAMA,QAAO;AAAA,QACrB;AAAA,MACJ;AAMA,UAAIK,YAAW,SAAU,IAAI,YAAY;AAErC,YAAI,OAAO,OAAO,UAAU;AACxB,uBAAa;AACb,eAAKN;AAAA,QACT;AAEA,YAAI,EAAE,gBAAgBM,YAAW;AAC7B,iBAAO,IAAIA,UAAS,IAAI,UAAU,EAAE,UAAU;AAAA,QAClD;AAEA,YAAI,MAAM,OAAQ,OAAOP,YAAW,cAAcA,QAAO,aAAaA,QAAO,UAAU,YAAaA,QAAO,UAAU,YAAY;AACjI,YAAI,UAAU,aAAa,OAAO,SAAS,UAAU,IAAI;AAEzD,aAAK,aAAa,WAAY;AAC1B,cAAI,WAAW,CAAC;AAChB,mBAAS,IAAI,IAAIC;AACjB,mBAASC,QAAO,IAAID;AACpB,oBAAU,KAAK,UAAU,KAAK,QAAQ,OAAO;AAC7C,mBAAS,QAAQ,SAAS,SAAS,OAAO;AAC1C,iBAAO;AAAA,QACX;AACA,aAAK,SAAS,WAAY;AACtB,cAAI,OAAO,CAAC;AACZ,eAAK,YAAY,IAAIA;AACrB,oBAAU,KAAK,MAAM,KAAK,QAAQ,GAAG;AACrC,iBAAO;AAAA,QACX;AACA,aAAK,YAAY,WAAY;AACzB,cAAI,UAAU,CAAC;AACf,kBAAQ,MAAM,IAAIA;AAClB,kBAAQ,KAAK,IAAIA;AACjB,kBAAQ,IAAI,IAAIA;AAChB,oBAAU,KAAK,SAAS,KAAK,QAAQ,MAAM;AAC3C,iBAAO;AAAA,QACX;AACA,aAAK,YAAY,WAAY;AACzB,cAAI,UAAU,CAAC;AACf,kBAAQ,IAAI,IAAIA;AAChB,kBAAQC,QAAO,IAAID;AACnB,oBAAU,KAAK,SAAS,KAAK,QAAQ,MAAM;AAC3C,iBAAO;AAAA,QACX;AACA,aAAK,QAAQ,WAAY;AACrB,cAAI,MAAM,CAAC;AACX,cAAI,IAAI,IAAIA;AACZ,cAAIC,QAAO,IAAID;AACf,oBAAU,KAAK,KAAK,KAAK,QAAQ,EAAE;AACnC,iBAAO;AAAA,QACX;AACA,aAAK,YAAY,WAAY;AACzB,iBAAO;AAAA,YACH,IAAU,KAAK,MAAM;AAAA,YACrB,SAAU,KAAK,WAAW;AAAA,YAC1B,QAAU,KAAK,UAAU;AAAA,YACzB,IAAU,KAAK,MAAM;AAAA,YACrB,QAAU,KAAK,UAAU;AAAA,YACzB,KAAU,KAAK,OAAO;AAAA,UAC1B;AAAA,QACJ;AACA,aAAK,QAAQ,WAAY;AACrB,iBAAO;AAAA,QACX;AACA,aAAK,QAAQ,SAAUO,KAAI;AACvB,gBAAO,OAAOA,QAAO,YAAYA,IAAG,SAAS,gBAAiB,KAAKA,KAAI,aAAa,IAAIA;AACxF,iBAAO;AAAA,QACX;AACA,aAAK,MAAM,GAAG;AACd,eAAO;AAAA,MACX;AAEA,MAAAD,UAAS,UAAU;AACnB,MAAAA,UAAS,UAAW,UAAU,CAAC,MAAML,UAAS,KAAK,CAAC;AACpD,MAAAK,UAAS,MAAM,UAAU,CAAC,YAAY,CAAC;AACvC,MAAAA,UAAS,SAAS,UAAU,CAAC,OAAO,QAAQ,MAAM,SAAS,QAAQ,SAAS,QAAQ,UAAU,QAAQ,CAAC;AACvG,MAAAA,UAAS,SAASA,UAAS,KAAK,UAAU,CAAC,MAAML,QAAO,CAAC;AAOzD,UAAI,OAAO,YAAa,YAAY;AAEhC,YAAI,OAAO,WAAW,cAAc,OAAO,SAAS;AAChD,oBAAU,OAAO,UAAUK;AAAA,QAC/B;AACA,gBAAQ,WAAWA;AAAA,MACvB,OAAO;AAEH,YAAI,OAAO,WAAY,aAAa,OAAO,KAAK;AAC5C,iBAAO,WAAY;AACf,mBAAOA;AAAA,UACX,CAAC;AAAA,QACL,WAAW,OAAOP,YAAW,YAAY;AAErC,UAAAA,QAAO,WAAWO;AAAA,QACtB;AAAA,MACJ;AAOA,UAAI,IAAI,OAAOP,YAAW,eAAeA,QAAO,UAAUA,QAAO;AACjE,UAAI,KAAK,CAAC,EAAE,IAAI;AACZ,YAAIS,UAAS,IAAIF,UAAS;AAC1B,UAAE,KAAKE,QAAO,UAAU;AACxB,UAAE,GAAG,MAAM,WAAY;AACnB,iBAAOA,QAAO,MAAM;AAAA,QACxB;AACA,UAAE,GAAG,MAAM,SAAU,IAAI;AACrB,UAAAA,QAAO,MAAM,EAAE;AACf,cAAI,SAASA,QAAO,UAAU;AAC9B,mBAAS,QAAQ,QAAQ;AACrB,cAAE,GAAG,IAAI,IAAI,OAAO,IAAI;AAAA,UAC5B;AAAA,QACJ;AAAA,MACJ;AAAA,IAEJ,GAAG,OAAO,WAAW,WAAW,SAAS,OAAI;AAAA;AAAA;;;ACn3BtC,IAAM,UAAU;;;ACAhB,IAAM,QAAN,MAAY;AAAA,EACf,cAAc;AACV,SAAK,SAAS,CAAC;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,KAAK,GAAG;AACJ,SAAK,OAAO,KAAK,CAAC;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,GAAG;AACN,UAAM,OAAO,KAAK,OAAO,QAAQ,CAAC;AAClC,QAAI,OAAO,IAAI;AACX,WAAK,OAAO,OAAO,MAAM,CAAC;AAAA,IAC9B;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO;AACH,aAAS,IAAI,GAAG,QAAQ,KAAK,OAAO,QAAQ,IAAI,OAAO,KAAK;AACxD,WAAK,OAAO,CAAC,EAAE;AAAA,IACnB;AAAA,EACJ;AACJ;AAOO,IAAM,SAAN,MAAa;AAAA,EAChB,cAAc;AACV,SAAK,SAAS,CAAC;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,KAAK,GAAG;AACJ,SAAK,OAAO,KAAK,CAAC;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,GAAG;AACN,UAAM,OAAO,KAAK,OAAO,QAAQ,CAAC;AAClC,QAAI,OAAO,IAAI;AACX,WAAK,OAAO,OAAO,MAAM,CAAC;AAAA,IAC9B;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,KAAK,GAAG;AACJ,aAAS,IAAI,GAAG,QAAQ,KAAK,OAAO,QAAQ,IAAI,OAAO,KAAK;AACxD,WAAK,OAAO,CAAC,EAAE,CAAC;AAAA,IACpB;AAAA,EACJ;AACJ;;;ACtEO,IAAI;AAAA,CACV,SAAUC,mBAAkB;AACzB,EAAAA,kBAAiBA,kBAAiB,SAAS,IAAI,MAAM,IAAI;AACzD,EAAAA,kBAAiBA,kBAAiB,OAAO,IAAI,CAAC,IAAI;AAClD,EAAAA,kBAAiBA,kBAAiB,SAAS,IAAI,CAAC,IAAI;AACpD,EAAAA,kBAAiBA,kBAAiB,SAAS,IAAI,CAAC,IAAI;AACpD,EAAAA,kBAAiBA,kBAAiB,SAAS,IAAI,CAAC,IAAI;AACpD,EAAAA,kBAAiBA,kBAAiB,UAAU,IAAI,EAAE,IAAI;AACtD,EAAAA,kBAAiBA,kBAAiB,aAAa,IAAI,EAAE,IAAI;AACzD,EAAAA,kBAAiBA,kBAAiB,OAAO,IAAI,EAAE,IAAI;AACnD,EAAAA,kBAAiBA,kBAAiB,QAAQ,IAAI,GAAG,IAAI;AACrD,EAAAA,kBAAiBA,kBAAiB,KAAK,IAAI,GAAG,IAAI;AAClD,EAAAA,kBAAiBA,kBAAiB,UAAU,IAAI,GAAG,IAAI;AACvD,EAAAA,kBAAiBA,kBAAiB,SAAS,IAAI,IAAI,IAAI;AACvD,EAAAA,kBAAiBA,kBAAiB,SAAS,IAAI,IAAI,IAAI;AACvD,EAAAA,kBAAiBA,kBAAiB,QAAQ,IAAI,IAAI,IAAI;AACtD,EAAAA,kBAAiBA,kBAAiB,cAAc,IAAI,IAAI,IAAI;AAC5D,EAAAA,kBAAiBA,kBAAiB,OAAO,IAAI,KAAK,IAAI;AACtD,EAAAA,kBAAiBA,kBAAiB,OAAO,IAAI,KAAK,IAAI;AACtD,EAAAA,kBAAiBA,kBAAiB,mBAAmB,IAAI,KAAK,IAAI;AAClE,EAAAA,kBAAiBA,kBAAiB,KAAK,IAAI,MAAM,IAAI;AACzD,GAAG,qBAAqB,mBAAmB,CAAC,EAAE;AAEvC,IAAI;AAAA,CACV,SAAUC,uBAAsB;AAC7B,EAAAA,sBAAqBA,sBAAqB,UAAU,IAAI,CAAC,IAAI;AAC7D,EAAAA,sBAAqBA,sBAAqB,WAAW,IAAI,CAAC,IAAI;AAC9D,EAAAA,sBAAqBA,sBAAqB,UAAU,IAAI,CAAC,IAAI;AAC7D,EAAAA,sBAAqBA,sBAAqB,WAAW,IAAI,CAAC,IAAI;AAC9D,EAAAA,sBAAqBA,sBAAqB,aAAa,IAAI,CAAC,IAAI;AAChE,EAAAA,sBAAqBA,sBAAqB,UAAU,IAAI,CAAC,IAAI;AAC7D,EAAAA,sBAAqBA,sBAAqB,WAAW,IAAI,CAAC,IAAI;AAC9D,EAAAA,sBAAqBA,sBAAqB,SAAS,IAAI,CAAC,IAAI;AAC5D,EAAAA,sBAAqBA,sBAAqB,YAAY,IAAI,CAAC,IAAI;AAC/D,EAAAA,sBAAqBA,sBAAqB,cAAc,IAAI,CAAC,IAAI;AACjE,EAAAA,sBAAqBA,sBAAqB,MAAM,IAAI,EAAE,IAAI;AAC1D,EAAAA,sBAAqBA,sBAAqB,cAAc,IAAI,EAAE,IAAI;AAClE,EAAAA,sBAAqBA,sBAAqB,eAAe,IAAI,EAAE,IAAI;AACvE,GAAG,yBAAyB,uBAAuB,CAAC,EAAE;AAE/C,IAAI;AAAA,CACV,SAAUC,gDAA+C;AACtD,EAAAA,+CAA8CA,+CAA8C,OAAO,IAAI,CAAC,IAAI;AAC5G,EAAAA,+CAA8CA,+CAA8C,wBAAwB,IAAI,CAAC,IAAI;AAC7H,EAAAA,+CAA8CA,+CAA8C,iBAAiB,IAAI,CAAC,IAAI;AACtH,EAAAA,+CAA8CA,+CAA8C,WAAW,IAAI,CAAC,IAAI;AACpH,GAAG,kDAAkD,gDAAgD,CAAC,EAAE;AAEjG,IAAI;AAAA,CACV,SAAUC,cAAa;AACpB,EAAAA,aAAYA,aAAY,gBAAgB,IAAI,CAAC,IAAI;AACjD,EAAAA,aAAYA,aAAY,iBAAiB,IAAI,CAAC,IAAI;AAClD,EAAAA,aAAYA,aAAY,mBAAmB,IAAI,CAAC,IAAI;AACpD,EAAAA,aAAYA,aAAY,mBAAmB,IAAI,CAAC,IAAI;AACxD,GAAG,gBAAgB,cAAc,CAAC,EAAE;AAE7B,IAAI;AAAA,CACV,SAAUC,uBAAsB;AAC7B,EAAAA,sBAAqBA,sBAAqB,yBAAyB,IAAI,CAAC,IAAI;AAC5E,EAAAA,sBAAqBA,sBAAqB,0BAA0B,IAAI,CAAC,IAAI;AAC7E,EAAAA,sBAAqBA,sBAAqB,yBAAyB,IAAI,CAAC,IAAI;AAC5E,EAAAA,sBAAqBA,sBAAqB,yBAAyB,IAAI,CAAC,IAAI;AAC5E,EAAAA,sBAAqBA,sBAAqB,yBAAyB,IAAI,CAAC,IAAI;AAC5E,EAAAA,sBAAqBA,sBAAqB,yBAAyB,IAAI,CAAC,IAAI;AAC5E,EAAAA,sBAAqBA,sBAAqB,yBAAyB,IAAI,CAAC,IAAI;AAC5E,EAAAA,sBAAqBA,sBAAqB,sBAAsB,IAAI,CAAC,IAAI;AAC7E,GAAG,yBAAyB,uBAAuB,CAAC,EAAE;AAE/C,IAAI;AAAA,CACV,SAAUC,sBAAqB;AAC5B,EAAAA,qBAAoBA,qBAAoB,2BAA2B,IAAI,CAAC,IAAI;AAC5E,EAAAA,qBAAoBA,qBAAoB,gCAAgC,IAAI,CAAC,IAAI;AACjF,EAAAA,qBAAoBA,qBAAoB,4BAA4B,IAAI,CAAC,IAAI;AACjF,GAAG,wBAAwB,sBAAsB,CAAC,EAAE;;;ACzE7C,IAAM,oBAAN,MAAwB;AAAA,EAC3B,YAAY,gBAAgB;AACxB,SAAK,iBAAiB;AACtB,SAAK,kBAAkB,CAAC;AACxB,SAAK,UAAU,IAAI,YAAY,EAAE;AACjC,SAAK,WAAW,IAAI,WAAW,KAAK,OAAO;AAC3C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,UAAU,IAAI,WAAW,KAAK,OAAO;AAC1C,SAAK,WAAW,IAAI,kBAAkB,KAAK,OAAO;AAClD,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,UAAU;AACf,SAAK,eAAe;AACpB,SAAK,cAAc;AACnB,SAAK,YAAY;AAAA,MACb,KAAK,OAAK,KAAK,IAAI,CAAC;AAAA,MACpB,MAAM,OAAK,KAAK,IAAI,IAAI,IAAI,CAAC;AAAA,MAC7B,OAAO,OAAK,KAAK,MAAM,CAAC;AAAA,MACxB,QAAQ,OAAK,KAAK,OAAO,CAAC;AAAA,MAC1B,gBAAgB,OAAK,KAAK,YAAY,CAAC;AAAA,MACvC,MAAM,OAAK,KAAK,IAAI,CAAC;AAAA,MACrB,WAAW,OAAK,KAAK,mBAAmB,CAAC;AAAA,MACzC,WAAW,OAAK,KAAK,mBAAmB,CAAC;AAAA,MACzC,sBAAsB,OAAK,KAAK,mBAAmB,CAAC;AAAA,MACpD,wBAAwB,OAAK,KAAK,mBAAmB,CAAC;AAAA,MACtD,aAAa,OAAK,KAAK,mBAAmB,CAAC;AAAA,MAC3C,WAAW,OAAK,KAAK,OAAO,CAAC;AAAA,MAC7B,eAAe,OAAK,KAAK,IAAI,CAAC;AAAA,MAC9B,kBAAkB,OAAK,KAAK,IAAI,CAAC;AAAA,MACjC,oCAAoC,OAAK,KAAK,IAAI,CAAC;AAAA,MACnD,UAAU,OAAK,KAAK,IAAI,CAAC;AAAA,IAC7B;AACA,SAAK,gBAAgB,KAAK,IAAI,YAAY,EAAE,CAAC;AAC7C,SAAK,gBAAgB,KAAK,IAAI,YAAY,EAAE,CAAC;AAAA,EACjD;AAAA,EACA,aAAa,IAAI;AACb,SAAK,gBAAgB,KAAK,EAAE;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,mBAAmB,aAAa;AAC5B,QAAI,eAAe,KAAK,UAAU,cAAc,KAAK;AACrD,QAAI,KAAK,WAAW,KAAK,QAAQ,cAAc;AAC3C;AACJ,QAAI,YAAY;AAQhB,QAAI,CAAC,WAAW;AACZ,UAAI,WAAW;AACf;AACA,kBAAY,YAAY;AACxB,kBAAY,YAAY;AACxB,kBAAY,YAAY;AACxB,kBAAY,YAAY;AACxB,kBAAY,YAAY;AACxB;AACA,kBAAY,IAAI,YAAY,QAAQ;AAAA,IACxC;AACA,QAAI,UAAU,KAAK,UAAU,KAAK,WAAW;AAC7C,SAAK,UAAU;AACf,SAAK,WAAW,IAAI,WAAW,KAAK,OAAO;AAC3C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,UAAU,IAAI,WAAW,KAAK,OAAO;AAC1C,SAAK,WAAW,IAAI,kBAAkB,KAAK,OAAO;AAClD,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,QAAI;AACA,WAAK,SAAS,IAAI,QAAQ,SAAS,GAAG,KAAK,OAAO,CAAC;AAAA,EAG3D;AAAA,EACA,YAAY,WAAW,IAAI;AACvB,SAAK,mBAAmB,CAAC;AACzB,SAAK,eAAe,KAAK;AACzB,SAAK,SAAS,KAAK,UAAU,CAAC,IAAI;AAClC,SAAK,WAAW;AAChB,OAAG,KAAK,SAAS;AACjB,SAAK,SAAS,KAAK,YAAY,IAAI,KAAK,UAAU,KAAK;AACvD,SAAK,eAAe;AACpB,SAAK,aAAa;AAAA,EACtB;AAAA,EACA,eAAe;AACX,QAAI,KAAK,gBAAgB,OAAO;AAC5B,WAAK,cAAc;AACnB,iBAAW,MAAM;AACb,aAAK,cAAc;AACnB,aAAK,MAAM;AAAA,MACf,GAAG,CAAC;AAAA,IACR;AAAA,EACJ;AAAA,EACA,QAAQ;AAEJ,QAAI,KAAK,gBAAgB,WAAW,GAAG;AACnC,WAAK,aAAa;AAClB;AAAA,IACJ;AACA,SAAK,SAAS,CAAC,IAAI,KAAK;AACxB,SAAK,eAAe,KAAK,OAAO;AAChC,SAAK,UAAU;AACf,SAAK,UAAU,KAAK,gBAAgB,IAAI;AACxC,SAAK,WAAW,IAAI,WAAW,KAAK,OAAO;AAC3C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,UAAU,IAAI,WAAW,KAAK,OAAO;AAC1C,SAAK,WAAW,IAAI,kBAAkB,KAAK,OAAO;AAClD,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,UAAU;AACf,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,IAAI,KAAK;AACL,SAAK,mBAAmB,CAAC;AACzB,SAAK,SAAS,KAAK,OAAO,IAAI;AAC9B,SAAK;AAAA,EACT;AAAA,EACA,OAAO,KAAK;AACR,SAAK,mBAAmB,CAAC;AACzB,QAAI,KAAK,UAAU,MAAM;AACrB,WAAK;AACT,SAAK,SAAS,KAAK,UAAU,CAAC,IAAI;AAClC,SAAK,WAAW;AAAA,EACpB;AAAA,EACA,MAAM,KAAK;AACP,SAAK,mBAAmB,CAAC;AACzB,SAAK,SAAS,KAAK,OAAO,IAAI;AAC9B,SAAK;AAAA,EACT;AAAA,EACA,WAAW,MAAM;AACb,SAAK,mBAAmB,KAAK,MAAM;AACnC,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AAClC,WAAK,SAAS,KAAK,UAAU,CAAC,IAAI,KAAK,CAAC;AAAA,IAC5C;AACA,SAAK,WAAW,KAAK;AAAA,EACzB;AAAA,EACA,aAAa,MAAM;AACf,SAAK,mBAAmB,KAAK,MAAM;AACnC,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AAClC,WAAK,SAAS,KAAK,UAAU,CAAC,IAAI,KAAK,CAAC;AAAA,IAC5C;AACA,SAAK,WAAW,KAAK;AAAA,EACzB;AAAA,EACA,aAAa,MAAM;AACf,SAAK,mBAAmB,KAAK,MAAM;AACnC,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AAClC,WAAK,SAAS,KAAK,UAAU,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI;AAAA,IACpD;AACA,SAAK,WAAW,KAAK;AAAA,EACzB;AAAA,EACA,iBAAiB,MAAM;AACnB,SAAK,mBAAmB,KAAK,aAAa,CAAC;AAC3C,SAAK,SAAS,KAAK,OAAO,IAAI,KAAK;AACnC,SAAK;AACL,SAAK,QAAQ,IAAI,MAAM,KAAK,UAAU,CAAC;AAEvC,SAAK,WAAY,KAAK,cAAc;AACpC,SAAK,KAAK,aAAa,OAAO;AAC1B,WAAK;AAAA,EACb;AAAA,EACA,YAAY,MAAM;AACd,QAAI,OAAO,IAAI,WAAW,IAAI;AAC9B,SAAK,iBAAiB,IAAI;AAAA,EAC9B;AAAA,EACA,wBAAwB,MAAM;AAC1B,SAAK,mBAAmB,KAAK,aAAa,CAAC;AAC3C,SAAK,SAAS,KAAK,OAAO,IAAI,KAAK;AACnC,SAAK;AACL,SAAK,SAAS,IAAI,MAAM,KAAK,UAAU,CAAC;AAExC,SAAK,WAAY,KAAK,cAAc;AACpC,SAAK,KAAK,aAAa,OAAO;AAC1B,WAAK;AAAA,EACb;AAAA,EACA,mBAAmB,MAAM;AACrB,SAAK,mBAAmB,KAAK,aAAa,CAAC;AAC3C,SAAK,SAAS,KAAK,OAAO,IAAI,KAAK;AACnC,SAAK;AACL,SAAK,SAAS,IAAI,MAAM,KAAK,OAAO;AACpC,SAAK,WAAW,KAAK;AAAA,EACzB;AAAA,EACA,kBAAkB,MAAM;AACpB,SAAK,mBAAmB,KAAK,aAAa,CAAC;AAC3C,SAAK,SAAS,KAAK,OAAO,IAAI,KAAK;AACnC,SAAK;AACL,QAAI,YAAY,KAAK,UAAU;AAC/B,SAAK,SAAS,IAAI,MAAM,SAAS;AAEjC,SAAK,WAAY,KAAK,UAAU;AAChC,SAAK,KAAK,SAAS,OAAO;AACtB,WAAK;AAAA,EACb;AAAA,EACA,iBAAiB,MAAM;AACnB,SAAK,mBAAmB,KAAK,aAAa,CAAC;AAC3C,SAAK,SAAS,KAAK,OAAO,IAAI,KAAK;AACnC,SAAK;AACL,SAAK,SAAS,IAAI,MAAM,KAAK,OAAO;AACpC,SAAK,WAAW,KAAK;AAAA,EACzB;AAAA,EACA,kBAAkB,MAAM;AACpB,SAAK,mBAAmB,KAAK,aAAa,CAAC;AAC3C,SAAK,SAAS,KAAK,OAAO,IAAI,KAAK;AACnC,SAAK;AACL,SAAK,SAAS,IAAI,MAAM,KAAK,OAAO;AACpC,SAAK,WAAW,KAAK;AAAA,EACzB;AAAA,EACA,OAAO,MAAM;AACT,QAAI,UAAU,IAAI,YAAY;AAC9B,QAAI,MAAM,QAAQ,OAAO,IAAI;AAC7B,SAAK,mBAAmB,IAAI,aAAa,CAAC;AAC1C,SAAK,SAAS,KAAK,OAAO,IAAI,IAAI;AAClC,SAAK;AACL,SAAK,QAAQ,IAAI,KAAK,KAAK,UAAU,CAAC;AAEtC,SAAK,WAAY,IAAI,cAAc;AACnC,SAAK,IAAI,aAAa,OAAO;AACzB,WAAK;AAAA,EACb;AACJ;;;ACnOO,IAAM,sBAAN,MAA0B;AAAA,EAC7B,cAAc;AACV,SAAK,UAAU,IAAI,YAAY,CAAC;AAChC,SAAK,WAAW,IAAI,WAAW,KAAK,OAAO;AAC3C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,UAAU,IAAI,WAAW,KAAK,OAAO;AAC1C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,UAAU;AACf,SAAK,UAAU;AACf,SAAK,eAAe;AACpB,SAAK,aAAa;AAAA,MACd,KAAK,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,MAC5C,MAAM,MAAO,KAAK,SAAS,KAAK,cAAc,MAAM;AAAA,MACpD,MAAM,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,MAC7C,OAAO,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,MAC9C,WAAW,MAAM;AACb,YAAI,KAAK,eAAe,MAAM;AAC1B,eAAK;AACT,YAAI,MAAM,KAAK,SAAS,KAAK,eAAe,CAAC;AAC7C,aAAK,gBAAgB;AACrB,eAAO;AAAA,MACX;AAAA,MACA,QAAQ,MAAM;AACV,YAAIC,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAIC,WAAU,IAAI,YAAY;AAC9B,YAAI,MAAMA,SAAQ,OAAO,IAAI,WAAW,KAAK,SAAS,KAAK,eAAe,GAAGD,IAAG,CAAC;AACjF,aAAK,gBAAiBA,QAAO;AAC7B,aAAKA,OAAM,OAAO;AACd,eAAK;AACT,eAAO;AAAA,MACX;AAAA,MACA,gBAAgB,MAAM;AAClB,YAAIA,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAI,MAAM,IAAI,WAAWA,IAAG;AAC5B,YAAI,IAAI,KAAK,QAAQ,SAAS,KAAK,eAAe,GAAG,KAAK,eAAe,IAAIA,IAAG,CAAC;AACjF,aAAK,gBAAiB,IAAI,cAAc;AACxC,aAAK,IAAI,aAAa,OAAO;AACzB,eAAK;AACT,eAAO,IAAI;AAAA,MACf;AAAA,MACA,WAAW,MAAM;AACb,YAAIA,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAI,MAAM,IAAI,aAAaA,IAAG;AAC9B,YAAI,IAAI,KAAK,SAAS,SAAS,KAAK,cAAc,KAAK,eAAe,EAAE,CAAC;AACzE,aAAK,gBAAgBA;AACrB,eAAO;AAAA,MACX;AAAA,MACA,WAAW,MAAM;AACb,YAAIA,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAI,MAAM,IAAI,aAAaA,IAAG;AAC9B,YAAI,IAAI,KAAK,SAAS,SAAS,KAAK,cAAc,KAAK,eAAe,CAAC,CAAC;AACxE,aAAK,gBAAgBA;AACrB,eAAO;AAAA,MACX;AAAA,MACA,sBAAsB,MAAM;AACxB,YAAIA,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAI,MAAM,IAAI,aAAaA,IAAG;AAC9B,YAAI,IAAI,KAAK,SAAS,SAAS,KAAK,cAAc,KAAK,eAAe,EAAE,CAAC;AACzE,aAAK,gBAAgBA;AACrB,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,MAAM;AAC1B,YAAIA,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAI,MAAM,IAAI,aAAaA,IAAG;AAC9B,YAAI,IAAI,KAAK,SAAS,SAAS,KAAK,cAAc,KAAK,eAAe,EAAE,CAAC;AACzE,aAAK,gBAAgBA;AACrB,eAAO;AAAA,MACX;AAAA,MACA,aAAa,MAAM;AACf,YAAIA,OAAM,KAAK,SAAS,KAAK,cAAc;AAC3C,YAAI,MAAM,IAAI,aAAaA,IAAG;AAC9B,YAAI,IAAI,KAAK,SAAS,SAAS,KAAK,cAAc,KAAK,eAAe,CAAC,CAAC;AACxE,aAAK,gBAAgBA;AACrB,eAAO;AAAA,MACX;AAAA,MACA,eAAe,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,MACtD,kBAAkB,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,MACzD,oCAAoC,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,MAC3E,UAAU,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,IACrD;AAAA,EACJ;AAAA,EACA,QAAQ,MAAM;AACV,SAAK,UAAU;AACf,SAAK,WAAW,IAAI,WAAW,KAAK,OAAO;AAC3C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,WAAW,IAAI,aAAa,KAAK,OAAO;AAC7C,SAAK,UAAU,IAAI,WAAW,KAAK,OAAO;AAC1C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,WAAW,IAAI,YAAY,KAAK,OAAO;AAC5C,SAAK,UAAU;AACf,SAAK,UAAU;AACf,QAAI,KAAK,cAAc,GAAG;AACtB,WAAK,UAAU;AACf,WAAK,UAAU,KAAK,SAAS,CAAC;AAAA,IAClC;AACA,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,aAAa;AACT,WAAO,KAAK,UAAU,IAAI,KAAK;AAAA,EACnC;AAAA,EACA,YAAY,IAAI;AACZ,WAAO,KAAK,WAAW,GAAG;AACtB,UAAIA,OAAM,KAAK,SAAS,KAAK,OAAO;AACpC,UAAI,YAAY,KAAK,SAAS,KAAK,UAAU,CAAC;AAC9C,WAAK,eAAe,KAAK,UAAU;AACnC,WAAK,WAAWA;AAChB,SAAG,WAAW,KAAK,UAAU;AAAA,IACjC;AAAA,EACJ;AACJ;;;AC7GO,IAAM,gBAAN,MAAoB;AAAA,EACvB,YAAY,gBAAgB;AACxB,SAAK,iBAAiB;AACtB,SAAK,eAAe;AAAA,MAChB,WAAW;AAAA,IACf;AACA,SAAK,aAAa,IAAI,kBAAkB,QAAM;AAC1C,WAAK,eAAe,EAAE;AAAA,IAC1B,CAAC;AACD,SAAK,eAAe,IAAI,oBAAoB;AAC5C,SAAK,YAAY;AACjB,SAAK,8BAA8B,oBAAI,IAAI;AAC3C,SAAK,mCAAmC,oBAAI,IAAI;AAChD,SAAK,qCAAqC,oBAAI,IAAI;AAClD,SAAK,mCAAmC,oBAAI,IAAI;AAChD,SAAK,kCAAkC,oBAAI,IAAI;AAC/C,SAAK,+BAA+B,oBAAI,IAAI;AAC5C,SAAK,mCAAmC,oBAAI,IAAI;AAChD,SAAK,oCAAoC,oBAAI,IAAI;AACjD,SAAK,2CAA2C,oBAAI,IAAI;AACxD,SAAK,OAAO;AAAA,MACR,WAAW,MAAM;AACb,eAAO,KAAK,aAAa;AAAA,MAC7B;AAAA,MACA,eAAe,CAAC,UAAU;AACtB,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,SAAS,KAAK;AAAA,QACpB,CAAC;AAAA,MACL;AAAA,MACA,0BAA0B,CAAC,IAAI,QAAQ;AACnC,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,OAAO,EAAE;AACX,YAAE,OAAO,GAAG;AAAA,QAChB,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,iBAAiB,MAAM;AACnB,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI;AAAA,UACJ,yBAAyB;AAAA,UACzB,cAAc,IAAI,aAAa,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG,CAAC,CAAC;AAAA,UACzD,aAAa,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,UAC9E,8BAA8B,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,UAC/F,8BAA8B,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,UAC/F,cAAc;AAAA,QAClB;AACA,aAAK,4BAA4B,IAAI,OAAO,CAAC;AAC7C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AAAA,QAChB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,kBAAkB,CAAC,MAAM;AACrB,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,4BAA4B,OAAO,CAAC;AACzC,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,iCAAiC,CAAC,MAAM;AACpC,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,8BAA8B,CAAC,GAAG,MAAM,OAAO,QAAQ,WAAW,4BAA4B,cAAc,gBAAgB;AACxH,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,CAAC;AACR,YAAE,eAAe,IAAI;AACrB,YAAE,IAAI,KAAK;AACX,YAAE,IAAI,MAAM;AACZ,YAAE,IAAI,SAAS;AACf,YAAE,UAAU,0BAA0B;AACtC,YAAE,YAAY,YAAY;AAC1B,YAAE,KAAK,WAAW;AAAA,QACtB,CAAC;AAAA,MACL;AAAA,MACA,0CAA0C,CAAC,GAAG,MAAM,YAAY,QAAQ,OAAO,QAAQ,WAAW,4BAA4B,UAAU,cAAc,gBAAgB;AAClK,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AAAA,MACxD;AAAA,MACA,uCAAuC,CAAC,MAAM;AAC1C,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,uCAAuC,CAAC,MAAM;AAC1C,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,sCAAsC,CAAC,GAAG,MAAM,GAAG,GAAGE,OAAM;AACxD,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,UAAU,IAAI;AAChB,YAAE,MAAM,CAAC;AACT,YAAE,MAAM,CAAC;AACT,YAAE,MAAMA,EAAC;AAAA,QACb,CAAC;AAAA,MACL;AAAA,MACA,sCAAsC,CAAC,GAAG,MAAM,GAAG,GAAGA,OAAM;AACxD,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,UAAU,IAAI;AAChB,YAAE,MAAM,CAAC;AACT,YAAE,MAAM,CAAC;AACT,YAAE,MAAMA,EAAC;AAAA,QACb,CAAC;AAAA,MACL;AAAA,MACA,iCAAiC,CAAC,GAAG,MAAM,GAAG,GAAGA,OAAM;AACnD,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,UAAU,IAAI;AAChB,YAAE,MAAM,CAAC;AACT,YAAE,MAAM,CAAC;AACT,YAAE,MAAMA,EAAC;AAAA,QACb,CAAC;AAAA,MACL;AAAA,MACA,wCAAwC,CAAC,GAAG,QAAQ;AAChD,YAAI,IAAI,KAAK,4BAA4B,IAAI,CAAC;AAC9C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,UAAU,GAAG;AAAA,QACnB,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,sBAAsB,CAAC,UAAU,cAAc;AAC3C,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI,CAAC;AACT,aAAK,iCAAiC,IAAI,OAAO,CAAC;AAClD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AACZ,YAAE,KAAK,QAAQ;AACf,YAAE,OAAO,SAAS;AAAA,QACtB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,iCAAiC,OAAO,CAAC;AAC9C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,wBAAwB,CAAC,aAAa;AAClC,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI,CAAC;AACT,aAAK,mCAAmC,IAAI,OAAO,CAAC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AACZ,YAAE,KAAK,QAAQ;AAAA,QACnB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,yBAAyB,CAAC,MAAM;AAC5B,YAAI,IAAI,KAAK,mCAAmC,IAAI,CAAC;AACrD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,mCAAmC,OAAO,CAAC;AAChD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,sBAAsB,CAAC,aAAa;AAChC,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI;AAAA,UACJ,SAAS;AAAA,UACT,uBAAuB;AAAA,UACvB,cAAc;AAAA,UACd,WAAW,CAAC;AAAA,UACZ,aAAa,CAAC;AAAA,QAClB;AACA,aAAK,iCAAiC,IAAI,OAAO,CAAC;AAClD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,KAAK;AACZ,YAAE,KAAK,QAAQ;AAAA,QACnB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,iCAAiC,OAAO,CAAC;AAC9C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA,MACA,uCAAuC,CAAC,GAAG,SAAS;AAChD,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,CAAC;AACR,YAAE,eAAe,IAAI;AAAA,QACzB,CAAC;AAAA,MACL;AAAA,MACA,qCAAqC,CAAC,MAAM;AACxC,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,2BAA2B,CAAC,GAAG,YAAY;AACvC,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,CAAC;AACR,YAAE,KAAK,OAAO;AAAA,QAClB,CAAC;AAAA,MACL;AAAA,MACA,4BAA4B,CAAC,MAAM;AAC/B,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,yBAAyB,CAAC,GAAG,SAAS;AAClC,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,UAAU,IAAI;AAAA,MAC3B;AAAA,MACA,+BAA+B,CAAC,GAAG,SAAS;AACxC,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,YAAY,IAAI;AAAA,MAC7B;AAAA;AAAA,MAEA,qBAAqB,CAAC,aAAa;AAC/B,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI;AAAA,UACJ,SAAS;AAAA,UACT,cAAc;AAAA,UACd,WAAW;AAAA,UACX,cAAc;AAAA,UACd,WAAW,CAAC;AAAA,UACZ,aAAa,CAAC;AAAA,UACd,8BAA8B,CAAC;AAAA,UAC/B,gCAAgC,CAAC;AAAA,QACrC;AACA,aAAK,gCAAgC,IAAI,OAAO,CAAC;AACjD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AACZ,YAAE,KAAK,QAAQ;AAAA,QACnB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,sBAAsB,CAAC,MAAM;AACzB,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,gCAAgC,OAAO,CAAC;AAC7C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA,MACA,qCAAqC,CAAC,GAAG,SAAS;AAC9C,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,eAAe,IAAI;AAAA,QACzB,CAAC;AAAA,MACL;AAAA,MACA,mCAAmC,CAAC,MAAM;AACtC,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,0BAA0B,CAAC,GAAG,YAAY;AACtC,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,KAAK,OAAO;AAAA,QAClB,CAAC;AAAA,MACL;AAAA,MACA,sBAAsB,CAAC,MAAM;AACzB,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,4BAA4B,CAAC,GAAG,QAAQ;AACpC,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,IAAI,GAAG;AAAA,QACb,CAAC;AAAA,MACL;AAAA,MACA,wBAAwB,CAAC,MAAM;AAC3B,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,2BAA2B,CAAC,MAAM;AAC9B,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,wBAAwB,CAAC,GAAG,SAAS;AACjC,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,UAAU,IAAI;AAAA,MAC3B;AAAA,MACA,8BAA8B,CAAC,GAAG,SAAS;AACvC,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,YAAY,IAAI;AAAA,MAC7B;AAAA,MACA,2CAA2C,CAAC,GAAG,SAAS;AACpD,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,6BAA6B,IAAI;AAAA,MAC9C;AAAA,MACA,6CAA6C,CAAC,GAAG,SAAS;AACtD,YAAI,IAAI,KAAK,gCAAgC,IAAI,CAAC;AAClD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,+BAA+B,IAAI;AAAA,MAChD;AAAA;AAAA,MAEA,kBAAkB,MAAM;AACpB,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI,CAAC;AACT,aAAK,6BAA6B,IAAI,OAAO,CAAC;AAC9C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AAAA,QAChB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,mBAAmB,CAAC,MAAM;AACtB,YAAI,IAAI,KAAK,6BAA6B,IAAI,CAAC;AAC/C,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,6BAA6B,OAAO,CAAC;AAC1C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,sBAAsB,CAAC,aAAa;AAChC,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI,CAAC;AACT,aAAK,iCAAiC,IAAI,OAAO,CAAC;AAClD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AACZ,YAAE,iBAAiB,QAAQ;AAAA,QAC/B,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,uBAAuB,CAAC,MAAM;AAC1B,YAAI,IAAI,KAAK,iCAAiC,IAAI,CAAC;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,iCAAiC,OAAO,CAAC;AAC9C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,uBAAuB,CAAC,aAAa;AACjC,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI;AAAA,UACJ,SAAS;AAAA,UACT,cAAc;AAAA,UACd,YAAY,CAAC;AAAA,UACb,cAAc,CAAC;AAAA,UACf,UAAU,KAAK,MAAM;AAAA,QACzB;AACA,aAAK,kCAAkC,IAAI,OAAO,CAAC;AACnD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,KAAK;AACZ,YAAE,KAAK,QAAQ;AAAA,QACnB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,CAAC,MAAM;AAC3B,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,kCAAkC,OAAO,CAAC;AAC/C,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA,MACA,4BAA4B,CAAC,GAAG,YAAY;AACxC,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,KAAK,OAAO;AAAA,QAClB,CAAC;AAAA,MACL;AAAA,MACA,wBAAwB,CAAC,MAAM;AAC3B,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,6BAA6B,CAAC,MAAM;AAChC,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,2BAA2B,CAAC,GAAG,SAAS;AACpC,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,WAAW,IAAI;AAAA,MAC5B;AAAA,MACA,6BAA6B,CAAC,GAAG,SAAS;AACtC,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE,aAAa,IAAI;AAAA,MAC9B;AAAA,MACA,wBAAwB,CAAC,MAAM;AAC3B,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,4BAA4B,CAAC,GAAG,MAAM;AAClC,YAAI,IAAI,KAAK,kCAAkC,IAAI,CAAC;AACpD,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AACR,YAAE,cAAc,CAAC;AAAA,QACrB,CAAC;AAAA,MACL;AAAA;AAAA,MAEA,8BAA8B,CAAC,aAAa;AACxC,YAAI,QAAS,KAAK;AAClB,YAAI,IAAI;AAAA,UACJ,SAAS;AAAA,UACT,MAAM,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,QAC3E;AACA,aAAK,yCAAyC,IAAI,OAAO,CAAC;AAC1D,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,KAAK;AACZ,YAAE,KAAK,QAAQ;AAAA,QACnB,CAAC;AACD,eAAO;AAAA,MACX;AAAA,MACA,+BAA+B,CAAC,MAAM;AAClC,YAAI,IAAI,KAAK,yCAAyC,IAAI,CAAC;AAC3D,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,yCAAyC,OAAO,CAAC;AACtD,aAAK,WAAW,YAAY,IAAI,OAAK;AACjC,YAAE,KAAK,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAAA,MACA,mCAAmC,CAAC,GAAG,YAAY;AAC/C,YAAI,IAAI,KAAK,yCAAyC,IAAI,CAAC;AAC3D,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,CAAC;AACR,YAAE,KAAK,OAAO;AAAA,QAClB,CAAC;AAAA,MACL;AAAA,MACA,+BAA+B,CAAC,MAAM;AAClC,YAAI,IAAI,KAAK,yCAAyC,IAAI,CAAC;AAC3D,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,uCAAuC,CAAC,MAAM;AAC1C,YAAI,IAAI,KAAK,yCAAyC,IAAI,CAAC;AAC3D,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,eAAO,EAAE;AAAA,MACb;AAAA,MACA,8DAA8D,CAAC,GAAG,GAAG,GAAGA,IAAG,gBAAgB;AACvF,YAAI,IAAI,KAAK,yCAAyC,IAAI,CAAC;AAC3D,YAAI,CAAC;AACD,gBAAM,IAAI,MAAM,gCAAgC;AACpD,aAAK,WAAW,YAAY,GAAG,OAAK;AAChC,YAAE,KAAK,CAAC;AACR,YAAE,MAAM,CAAC;AACT,YAAE,MAAM,CAAC;AACT,YAAE,MAAMA,EAAC;AACT,YAAE,mCAAmC,WAAW;AAAA,QACpD,CAAC;AAAA,MACL;AAAA,IACJ;AAAA,EACJ;AAAA,EACA,gBAAgB,GAAG;AACf,SAAK,aAAa,QAAQ,CAAC;AAC3B,SAAK,aAAa,YAAY,CAAC,WAAW,QAAQ;AAC9C,cAAQ,WAAW;AAAA,QACf,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,4BAA4B,IAAI,MAAM;AACtD,cAAI,CAAC;AACD;AACJ,eAAK,eAAe,IAAI,IAAI;AAC5B;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,4BAA4B,IAAI,MAAM;AACtD,cAAI,CAAC;AACD;AACJ,eAAK,eAAe,IAAI,YAAY;AACpC;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,4BAA4B,IAAI,MAAM;AACtD,cAAI,CAAC;AACD;AACJ,eAAK,0BAA0B,IAAI,IAAI;AACvC;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,4BAA4B,IAAI,MAAM;AACtD,cAAI,CAAC;AACD;AACJ,eAAK,+BAA+B,IAAI,UAAU;AAClD;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,4BAA4B,IAAI,MAAM;AACtD,cAAI,CAAC;AACD;AACJ,eAAK,+BAA+B,IAAI,UAAU;AAClD;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,iCAAiC,IAAI,MAAM;AAC3D,cAAI,CAAC;AACD;AACJ,eAAK,wBAAwB,IAAI,IAAI;AACrC;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,iCAAiC,IAAI,MAAM;AAC3D,cAAI,CAAC;AACD;AACJ,eAAK,eAAe,IAAI,IAAI;AAC5B;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,iCAAiC,IAAI,MAAM;AAC3D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,UAAU,IAAI,IAAI,IAAI,OAAO;AAClC;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,iCAAiC,IAAI,MAAM;AAC3D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,YAAY,IAAI,IAAI,IAAI,UAAU;AACvC;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,gCAAgC,IAAI,MAAM;AAC1D,cAAI,CAAC;AACD;AACJ,eAAK,eAAe,IAAI,IAAI;AAC5B;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,gCAAgC,IAAI,MAAM;AAC1D,cAAI,CAAC;AACD;AACJ,eAAK,eAAe,IAAI,IAAI;AAC5B;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,gCAAgC,IAAI,MAAM;AAC1D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,UAAU,IAAI,IAAI,IAAI,OAAO;AAClC;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,gCAAgC,IAAI,MAAM;AAC1D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,YAAY,IAAI,IAAI,IAAI,UAAU;AACvC;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,gCAAgC,IAAI,MAAM;AAC1D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,6BAA6B,IAAI,IAAI,IAAI,qBAAqB;AACnE;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,gCAAgC,IAAI,MAAM;AAC1D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,+BAA+B,IAAI,IAAI,IAAI,uBAAuB;AACvE;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,kCAAkC,IAAI,MAAM;AAC5D,cAAI,CAAC;AACD;AACJ,eAAK,eAAe,IAAI,IAAI;AAC5B;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,kCAAkC,IAAI,MAAM;AAC5D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,WAAW,IAAI,IAAI,IAAI,OAAO;AACnC;AAAA,QACJ;AAAA,QACA,KAAK,IAAI;AACL,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,kCAAkC,IAAI,MAAM;AAC5D,cAAI,CAAC;AACD;AACJ,cAAI,OAAO,IAAI,IAAI;AACnB,eAAK,aAAa,IAAI,IAAI,IAAI,cAAc;AAC5C;AAAA,QACJ;AAAA,QACA,KAAK,GAAG;AACJ,cAAI,SAAS,IAAI,KAAK;AACtB,cAAI,OAAO,KAAK,yCAAyC,IAAI,MAAM;AACnE,cAAI,CAAC;AACD;AACJ,eAAK,OAAO,IAAI,UAAU;AAC1B;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACL;AACJ;;;ACntBO,SAAS,cAAc,IAAI,MAAM,KAAK;AACzC,MAAI,MAAM,GAAG,aAAa,IAAI;AAC9B,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,yBAAyB;AAC7C,KAAG,aAAa,KAAK,GAAG;AACxB,KAAG,cAAc,GAAG;AACpB,MAAI,MAAM,GAAG,iBAAiB,GAAG;AACjC,MAAI,OAAO,IAAI,KAAK,EAAE,SAAS;AAC3B,UAAM,IAAI,MAAM,2BAA2B,GAAG;AAClD,SAAO;AACX;AACO,SAAS,YAAY,IAAI,MAAM;AAClC,KAAG,YAAY,IAAI;AACnB,MAAI,MAAM,GAAG,kBAAkB,IAAI;AACnC,MAAI,OAAO,IAAI,KAAK,EAAE,SAAS;AAC3B,UAAM,IAAI,MAAM,qBAAqB,GAAG;AAChD;;;ACfA,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,IAAI,gBAAgB,CAAC;AACd,SAAS,mBAAmB;AAC/B,WAAS;AACT,QAAM;AACN,SAAO;AACP,kBAAgB,CAAC;AACrB;AACA,SAAS,SAAS,IAAI;AAClB,MAAI;AACA,WAAO;AACX,QAAM,GAAG,aAAa;AACtB,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,gCAAgC;AACpD,MAAI,SAAS;AAAA,IACT;AAAA,IAAM;AAAA,IAAO;AAAA,IACb;AAAA,IAAM;AAAA,IAAQ;AAAA,IACd;AAAA,IAAK;AAAA,IAAO;AAAA,IACZ;AAAA,IAAK;AAAA,IAAQ;AAAA,EACjB;AACA,KAAG,WAAW,GAAG,cAAc,GAAG;AAClC,KAAG,WAAW,GAAG,cAAc,IAAI,aAAa,MAAM,GAAG,GAAG,WAAW;AACvE,KAAG,WAAW,GAAG,cAAc,IAAI;AACnC,SAAO;AACX;AACA,SAAS,aAAa,IAAI;AACtB,MAAI;AACA,WAAO;AACX,SAAO,GAAG,aAAa;AACvB,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,gCAAgC;AACpD,MAAI,SAAS;AAAA,IACT;AAAA,IAAG;AAAA,IACH;AAAA,IAAG;AAAA,IACH;AAAA,IAAG;AAAA,IACH;AAAA,IAAG;AAAA,EACP;AACA,KAAG,WAAW,GAAG,cAAc,IAAI;AACnC,KAAG,WAAW,GAAG,cAAc,IAAI,aAAa,MAAM,GAAG,GAAG,WAAW;AACvE,KAAG,WAAW,GAAG,cAAc,IAAI;AACnC,SAAO;AACX;AACO,SAAS,UAAU,IAAIC,mBAAkB,cAAc,cAAc,YAAY;AACpF,MAAIC,UAAS,UAAU,EAAE;AACzB,MAAI,IAAI,SAAS,EAAE;AACnB,MAAIC,QAAO,aAAa,EAAE;AAC1B,KAAG,QAAQ,GAAG,UAAU;AACxB,KAAG,WAAWD,QAAO,IAAI;AACzB,KAAG,iBAAiBA,QAAO,WAAW,OAAOD,iBAAgB;AAC7D,KAAG,iBAAiBC,QAAO,aAAa,OAAO,YAAY;AAC3D,KAAG,iBAAiBA,QAAO,aAAa,OAAO,YAAY;AAC3D,KAAG,WAAW,GAAG,cAAc,CAAC;AAChC,KAAG,cAAc,GAAG,QAAQ;AAC5B,KAAG,YAAY,GAAG,YAAY,YAAY,IAAI,UAAU,CAAC;AACzD,KAAG,UAAUA,QAAO,kBAAkB,CAAC;AACvC,KAAG,oBAAoBA,QAAO,eAAe,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AACzE,KAAG,wBAAwBA,QAAO,aAAa;AAC/C,KAAG,WAAW,GAAG,cAAcC,KAAI;AACnC,KAAG,oBAAoBD,QAAO,mBAAmB,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AAC7E,KAAG,wBAAwBA,QAAO,iBAAiB;AACnD,KAAG,WAAW,GAAG,gBAAgB,GAAG,CAAC;AACrC,KAAG,yBAAyBA,QAAO,aAAa;AAChD,KAAG,yBAAyBA,QAAO,iBAAiB;AACpD,KAAG,WAAW,GAAG,cAAc,IAAI;AACvC;AAKA,IAAI,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBtB,IAAI,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBxB,SAAS,UAAU,IAAI;AACnB,MAAI;AACA,WAAO;AACX,MAAI,OAAO,GAAG,cAAc;AAC5B,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,0BAA0B;AAC9C,MAAI,eAAe,cAAc,IAAI,GAAG,eAAe,eAAe;AACtE,MAAI,iBAAiB,cAAc,IAAI,GAAG,iBAAiB,iBAAiB;AAC5E,KAAG,aAAa,MAAM,YAAY;AAClC,KAAG,aAAa,MAAM,cAAc;AACpC,cAAY,IAAI,IAAI;AACpB,MAAI,YAAY,GAAG,mBAAmB,MAAM,YAAY;AACxD,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,2CAA2C;AAC/D,MAAI,cAAc,GAAG,mBAAmB,MAAM,iBAAiB;AAC/D,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,gDAAgD;AACpE,MAAI,cAAc,GAAG,mBAAmB,MAAM,cAAc;AAC5D,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,6CAA6C;AACjE,MAAI,mBAAmB,GAAG,mBAAmB,MAAM,aAAa;AAChE,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,4CAA4C;AAChE,WAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,eAAe,GAAG,kBAAkB,MAAM,UAAU;AAAA,IACpD,mBAAmB,GAAG,kBAAkB,MAAM,cAAc;AAAA,EAChE;AACA,SAAO;AACX;AACA,SAAS,YAAY,IAAI,KAAK;AAC1B,MAAI,cAAc,GAAG;AACjB,WAAO,cAAc,GAAG;AAC5B,MAAI,UAAU,GAAG,cAAc;AAC/B,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,0BAA0B;AAC9C,gBAAc,GAAG,IAAI;AACrB,KAAG,YAAY,GAAG,YAAY,OAAO;AAMrC,QAAM,QAAQ;AACd,QAAM,iBAAiB,GAAG;AAC1B,QAAM,QAAQ;AACd,QAAM,SAAS;AACf,QAAM,SAAS;AACf,QAAM,YAAY,GAAG;AACrB,QAAM,UAAU,GAAG;AACnB,QAAM,QAAQ,IAAI,WAAW,CAAC,GAAG,GAAG,KAAK,GAAG,CAAC;AAC7C,KAAG,YAAY,GAAG,qBAAqB,IAAI;AAC3C,KAAG,WAAW,GAAG,YAAY,OAAO,gBAAgB,OAAO,QAAQ,QAAQ,WAAW,SAAS,KAAK;AACpG,QAAM,QAAQ,IAAI,MAAM;AACxB,QAAM,SAAS,WAAY;AACvB,OAAG,YAAY,GAAG,YAAY,OAAO;AACrC,OAAG,YAAY,GAAG,qBAAqB,IAAI;AAC3C,OAAG,WAAW,GAAG,YAAY,OAAO,gBAAgB,WAAW,SAAS,KAAK;AAC7E,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAAA,EACpE;AACA,QAAM,MAAM;AACZ,SAAO;AACX;;;AC7KO,IAAI,UAAU;AACd,IAAI,aAAa,OAAO,iBAAiB,cAAc,eAAe;AACtE,IAAI,SAAS,KAAK;AAUzB,IAAI,SAAS,KAAK,KAAK;AAuBvB,IAAI,CAAC,KAAK,MAAO,MAAK,QAAQ,WAAY;AACxC,MAAI,IAAI,GACJ,IAAI,UAAU;AAElB,SAAO,KAAK;AACV,SAAK,UAAU,CAAC,IAAI,UAAU,CAAC;AAAA,EACjC;AAEA,SAAO,KAAK,KAAK,CAAC;AACpB;;;ACrCO,SAAS,SAAS;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AAEnC,MAAa,cAAc,cAAc;AACvC,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AAAA,EACX;AAEA,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,SAAO;AACT;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAAE;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYO,SAASC,UAAS;AACvB,MAAI,MAAM,IAAa,WAAW,EAAE;AAEpC,MAAa,cAAc,cAAc;AACvC,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI;AAAA,EACZ;AAEA,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAQO,SAAS,MAAM,GAAG;AACvB,MAAI,MAAM,IAAa,WAAW,EAAE;AACpC,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,SAAO;AACT;AASO,SAAS,KAAK,KAAK,GAAG;AAC3B,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,SAAO;AACT;AAuBO,SAAS,WAAW,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AACzG,MAAI,MAAM,IAAa,WAAW,EAAE;AACpC,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAwBO,SAAS,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AACvG,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAQO,SAAS,SAAS,KAAK;AAC5B,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AASO,SAAS,UAAU,KAAK,GAAG;AAEhC,MAAI,QAAQ,GAAG;AACb,QAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,QAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,QAAI,MAAM,EAAE,EAAE;AACd,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,EAAE;AACb,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,EAAE;AACb,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI;AAAA,EACZ,OAAO;AACL,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,EAAE;AACb,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,EAAE;AACb,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,CAAC;AACb,QAAI,EAAE,IAAI,EAAE,CAAC;AACb,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AAAA,EAChB;AAEA,SAAO;AACT;AASO,SAAS,OAAO,KAAK,GAAG;AAC7B,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAE5B,MAAI,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;AAE5E,MAAI,CAAC,KAAK;AACR,WAAO;AAAA,EACT;AAEA,QAAM,IAAM;AACZ,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAC/C,MAAI,EAAE,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAChD,MAAI,EAAE,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAChD,MAAI,EAAE,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAChD,MAAI,EAAE,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAChD,MAAI,EAAE,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAChD,MAAI,EAAE,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO;AAChD,SAAO;AACT;AASO,SAAS,QAAQ,KAAK,GAAG;AAC9B,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,CAAC,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AAClG,MAAI,CAAC,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACpG,MAAI,CAAC,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AAClG,MAAI,CAAC,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACpG,MAAI,CAAC,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACpG,MAAI,CAAC,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AAClG,MAAI,CAAC,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACpG,MAAI,CAAC,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AAClG,MAAI,CAAC,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AAClG,MAAI,CAAC,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACpG,MAAI,EAAE,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACnG,MAAI,EAAE,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACrG,MAAI,EAAE,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACrG,MAAI,EAAE,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACnG,MAAI,EAAE,IAAI,EAAE,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACrG,MAAI,EAAE,IAAI,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM,OAAO,OAAO,MAAM,MAAM,MAAM;AACnG,SAAO;AACT;AAQO,SAAS,YAAY,GAAG;AAC7B,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAC5B,MAAI,MAAM,MAAM,MAAM,MAAM;AAE5B,SAAO,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;AAC3E;AAUO,SAAS,SAAS,KAAK,GAAG,GAAG;AAClC,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,CAAC,GACT,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AAEd,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,CAAC;AACR,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,EAAE;AACT,OAAK,EAAE,EAAE;AACT,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAC/C,MAAI,EAAE,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAChD,MAAI,EAAE,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAChD,OAAK,EAAE,EAAE;AACT,OAAK,EAAE,EAAE;AACT,OAAK,EAAE,EAAE;AACT,OAAK,EAAE,EAAE;AACT,MAAI,EAAE,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAChD,MAAI,EAAE,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAChD,MAAI,EAAE,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAChD,MAAI,EAAE,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAChD,SAAO;AACT;AAUO,SAAS,UAAU,KAAK,GAAG,GAAG;AACnC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPC,KAAI,EAAE,CAAC;AACX,MAAI,KAAK,KAAK,KAAK;AACnB,MAAI,KAAK,KAAK,KAAK;AACnB,MAAI,KAAK,KAAK,KAAK;AAEnB,MAAI,MAAM,KAAK;AACb,QAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,EAAE;AAC/C,QAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,EAAE;AAC/C,QAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,IAAIA,KAAI,EAAE,EAAE;AAChD,QAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,IAAIA,KAAI,EAAE,EAAE;AAAA,EAClD,OAAO;AACL,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,CAAC;AACT,UAAM,EAAE,EAAE;AACV,UAAM,EAAE,EAAE;AACV,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI,MAAM,IAAI,MAAM,IAAI,MAAMA,KAAI,EAAE,EAAE;AAC5C,QAAI,EAAE,IAAI,MAAM,IAAI,MAAM,IAAI,MAAMA,KAAI,EAAE,EAAE;AAC5C,QAAI,EAAE,IAAI,MAAM,IAAI,MAAM,IAAI,MAAMA,KAAI,EAAE,EAAE;AAC5C,QAAI,EAAE,IAAI,MAAM,IAAI,MAAM,IAAI,MAAMA,KAAI,EAAE,EAAE;AAAA,EAC9C;AAEA,SAAO;AACT;AAUO,SAAS,MAAM,KAAK,GAAG,GAAG;AAC/B,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPA,KAAI,EAAE,CAAC;AACX,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAIA;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAIA;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,MAAI,EAAE,IAAI,EAAE,EAAE;AACd,SAAO;AACT;AAWO,SAAS,OAAO,KAAK,GAAG,KAAK,MAAM;AACxC,MAAI,IAAI,KAAK,CAAC,GACV,IAAI,KAAK,CAAC,GACVA,KAAI,KAAK,CAAC;AACd,MAAIC,OAAM,KAAK,MAAM,GAAG,GAAGD,EAAC;AAC5B,MAAI,GAAG,GAAG;AACV,MAAI,KAAK,KAAK,KAAK;AACnB,MAAI,KAAK,KAAK,KAAK;AACnB,MAAI,KAAK,KAAK,KAAK;AACnB,MAAI,KAAK,KAAK;AACd,MAAI,KAAK,KAAK;AACd,MAAI,KAAK,KAAK;AAEd,MAAIC,OAAe,SAAS;AAC1B,WAAO;AAAA,EACT;AAEA,EAAAA,OAAM,IAAIA;AACV,OAAKA;AACL,OAAKA;AACL,EAAAD,MAAKC;AACL,MAAI,KAAK,IAAI,GAAG;AAChB,MAAI,KAAK,IAAI,GAAG;AAChB,MAAI,IAAI;AACR,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,CAAC;AACT,QAAM,EAAE,EAAE;AACV,QAAM,EAAE,EAAE;AAEV,QAAM,IAAI,IAAI,IAAI;AAClB,QAAM,IAAI,IAAI,IAAID,KAAI;AACtB,QAAMA,KAAI,IAAI,IAAI,IAAI;AACtB,QAAM,IAAI,IAAI,IAAIA,KAAI;AACtB,QAAM,IAAI,IAAI,IAAI;AAClB,QAAMA,KAAI,IAAI,IAAI,IAAI;AACtB,QAAM,IAAIA,KAAI,IAAI,IAAI;AACtB,QAAM,IAAIA,KAAI,IAAI,IAAI;AACtB,QAAMA,KAAIA,KAAI,IAAI;AAElB,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACvC,MAAI,EAAE,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AACxC,MAAI,EAAE,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM;AAExC,MAAI,MAAM,KAAK;AAEb,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AAAA,EAChB;AAEA,SAAO;AACT;AAUO,SAAS,QAAQ,KAAK,GAAG,KAAK;AACnC,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE;AAEd,MAAI,MAAM,KAAK;AAEb,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AAAA,EAChB;AAGA,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,EAAE,IAAI,MAAM,IAAI,MAAM;AAC1B,MAAI,EAAE,IAAI,MAAM,IAAI,MAAM;AAC1B,SAAO;AACT;AAUO,SAAS,QAAQ,KAAK,GAAG,KAAK;AACnC,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE;AAEd,MAAI,MAAM,KAAK;AAEb,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AAAA,EAChB;AAGA,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,EAAE,IAAI,MAAM,IAAI,MAAM;AAC1B,MAAI,EAAE,IAAI,MAAM,IAAI,MAAM;AAC1B,SAAO;AACT;AAUO,SAAS,QAAQ,KAAK,GAAG,KAAK;AACnC,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AACb,MAAI,MAAM,EAAE,CAAC;AAEb,MAAI,MAAM,KAAK;AAEb,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AACd,QAAI,EAAE,IAAI,EAAE,EAAE;AAAA,EAChB;AAGA,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,MAAI,CAAC,IAAI,MAAM,IAAI,MAAM;AACzB,SAAO;AACT;AAaO,SAAS,gBAAgB,KAAK,GAAG;AACtC,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAaO,SAAS,YAAY,KAAK,GAAG;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAcO,SAAS,aAAa,KAAK,KAAK,MAAM;AAC3C,MAAI,IAAI,KAAK,CAAC,GACV,IAAI,KAAK,CAAC,GACVA,KAAI,KAAK,CAAC;AACd,MAAIC,OAAM,KAAK,MAAM,GAAG,GAAGD,EAAC;AAC5B,MAAI,GAAG,GAAG;AAEV,MAAIC,OAAe,SAAS;AAC1B,WAAO;AAAA,EACT;AAEA,EAAAA,OAAM,IAAIA;AACV,OAAKA;AACL,OAAKA;AACL,EAAAD,MAAKC;AACL,MAAI,KAAK,IAAI,GAAG;AAChB,MAAI,KAAK,IAAI,GAAG;AAChB,MAAI,IAAI;AAER,MAAI,CAAC,IAAI,IAAI,IAAI,IAAI;AACrB,MAAI,CAAC,IAAI,IAAI,IAAI,IAAID,KAAI;AACzB,MAAI,CAAC,IAAIA,KAAI,IAAI,IAAI,IAAI;AACzB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,IAAI,IAAI,IAAIA,KAAI;AACzB,MAAI,CAAC,IAAI,IAAI,IAAI,IAAI;AACrB,MAAI,CAAC,IAAIA,KAAI,IAAI,IAAI,IAAI;AACzB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,IAAIA,KAAI,IAAI,IAAI;AACzB,MAAI,CAAC,IAAI,IAAIA,KAAI,IAAI,IAAI;AACzB,MAAI,EAAE,IAAIA,KAAIA,KAAI,IAAI;AACtB,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAaO,SAAS,cAAc,KAAK,KAAK;AACtC,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,IAAI,KAAK,IAAI,GAAG;AAEpB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,CAAC;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAaO,SAAS,cAAc,KAAK,KAAK;AACtC,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,IAAI,KAAK,IAAI,GAAG;AAEpB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,CAAC;AACV,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAaO,SAAS,cAAc,KAAK,KAAK;AACtC,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,IAAI,KAAK,IAAI,GAAG;AAEpB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,CAAC;AACV,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAiBO,SAAS,wBAAwB,KAAK,GAAG,GAAG;AAEjD,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPA,KAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAIE,MAAKF,KAAIA;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,KAAKF,KAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,CAAC,IAAI,KAAK,KAAK;AACnB,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI,KAAK,KAAK;AACnB,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,EAAE,IAAI,KAAK,KAAK;AACpB,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AASO,SAAS,UAAU,KAAK,GAAG;AAChC,MAAI,cAAc,IAAa,WAAW,CAAC;AAC3C,MAAI,KAAK,CAAC,EAAE,CAAC,GACT,KAAK,CAAC,EAAE,CAAC,GACT,KAAK,CAAC,EAAE,CAAC,GACT,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,YAAY,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AAEnD,MAAI,YAAY,GAAG;AACjB,gBAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IAAI;AAC/D,gBAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IAAI;AAC/D,gBAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IAAI;AAAA,EACjE,OAAO;AACL,gBAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM;AAC3D,gBAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM;AAC3D,gBAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM;AAAA,EAC7D;AAEA,0BAAwB,KAAK,GAAG,WAAW;AAC3C,SAAO;AACT;AAWO,SAAS,eAAe,KAAK,KAAK;AACvC,MAAI,CAAC,IAAI,IAAI,EAAE;AACf,MAAI,CAAC,IAAI,IAAI,EAAE;AACf,MAAI,CAAC,IAAI,IAAI,EAAE;AACf,SAAO;AACT;AAYO,SAAS,WAAW,KAAK,KAAK;AACnC,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,CAAC;AACf,MAAI,MAAM,IAAI,EAAE;AAChB,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,KAAK,GAAG;AACjC,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,KAAK,GAAG;AACjC,MAAI,CAAC,IAAI,KAAK,MAAM,KAAK,KAAK,GAAG;AACjC,SAAO;AACT;AAWO,SAAS,YAAY,KAAK,KAAK;AACpC,MAAI,UAAU,IAAa,WAAW,CAAC;AACvC,aAAW,SAAS,GAAG;AACvB,MAAI,MAAM,IAAI,QAAQ,CAAC;AACvB,MAAI,MAAM,IAAI,QAAQ,CAAC;AACvB,MAAI,MAAM,IAAI,QAAQ,CAAC;AACvB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,CAAC,IAAI;AACpB,MAAI,OAAO,IAAI,EAAE,IAAI;AACrB,MAAI,QAAQ,OAAO,OAAO;AAC1B,MAAI,IAAI;AAER,MAAI,QAAQ,GAAG;AACb,QAAI,KAAK,KAAK,QAAQ,CAAG,IAAI;AAC7B,QAAI,CAAC,IAAI,OAAO;AAChB,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,KAAK,OAAO,QAAQ;AAAA,EAC3B,WAAW,OAAO,QAAQ,OAAO,MAAM;AACrC,QAAI,KAAK,KAAK,IAAM,OAAO,OAAO,IAAI,IAAI;AAC1C,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,IAAI,OAAO;AAChB,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,KAAK,OAAO,QAAQ;AAAA,EAC3B,WAAW,OAAO,MAAM;AACtB,QAAI,KAAK,KAAK,IAAM,OAAO,OAAO,IAAI,IAAI;AAC1C,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,IAAI,OAAO;AAChB,QAAI,CAAC,KAAK,OAAO,QAAQ;AAAA,EAC3B,OAAO;AACL,QAAI,KAAK,KAAK,IAAM,OAAO,OAAO,IAAI,IAAI;AAC1C,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,KAAK,OAAO,QAAQ;AACzB,QAAI,CAAC,IAAI,OAAO;AAAA,EAClB;AAEA,SAAO;AACT;AAmBO,SAAS,6BAA6B,KAAK,GAAG,GAAG,GAAG;AAEzD,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPF,KAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAIE,MAAKF,KAAIA;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,KAAKF,KAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,KAAK,KAAK,KAAK,OAAO;AAC3B,MAAI,CAAC,KAAK,KAAK,MAAM;AACrB,MAAI,CAAC,KAAK,KAAK,MAAM;AACrB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,KAAK,KAAK,MAAM;AACrB,MAAI,CAAC,KAAK,KAAK,KAAK,OAAO;AAC3B,MAAI,CAAC,KAAK,KAAK,MAAM;AACrB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,KAAK,KAAK,MAAM;AACrB,MAAI,CAAC,KAAK,KAAK,MAAM;AACrB,MAAI,EAAE,KAAK,KAAK,KAAK,OAAO;AAC5B,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI,EAAE,CAAC;AACb,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAsBO,SAAS,mCAAmC,KAAK,GAAG,GAAG,GAAG,GAAG;AAElE,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPF,KAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAIE,MAAKF,KAAIA;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,KAAKF,KAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,QAAQ,KAAK,KAAK,OAAO;AAC7B,MAAI,QAAQ,KAAK,MAAM;AACvB,MAAI,QAAQ,KAAK,MAAM;AACvB,MAAI,QAAQ,KAAK,MAAM;AACvB,MAAI,QAAQ,KAAK,KAAK,OAAO;AAC7B,MAAI,QAAQ,KAAK,MAAM;AACvB,MAAI,QAAQ,KAAK,MAAM;AACvB,MAAI,QAAQ,KAAK,MAAM;AACvB,MAAI,SAAS,KAAK,KAAK,OAAO;AAC9B,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,EAAE,CAAC,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;AACtD,MAAI,EAAE,IAAI,EAAE,CAAC,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO;AACtD,MAAI,EAAE,IAAI,EAAE,CAAC,IAAI,MAAM,OAAO,KAAK,OAAO,KAAK,QAAQ;AACvD,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAUO,SAAS,SAAS,KAAK,GAAG;AAC/B,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPF,KAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAIE,MAAKF,KAAIA;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAKA,KAAI;AACb,MAAI,KAAKA,KAAI;AACb,MAAI,KAAKA,KAAIE;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAI;AACb,MAAI,KAAK,IAAIA;AACb,MAAI,CAAC,IAAI,IAAI,KAAK;AAClB,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI,IAAI,KAAK;AAClB,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,EAAE,IAAI,IAAI,KAAK;AACnB,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAcO,SAAS,QAAQ,KAAK,MAAM,OAAO,QAAQ,KAAK,MAAM,KAAK;AAChE,MAAI,KAAK,KAAK,QAAQ;AACtB,MAAI,KAAK,KAAK,MAAM;AACpB,MAAI,KAAK,KAAK,OAAO;AACrB,MAAI,CAAC,IAAI,OAAO,IAAI;AACpB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,OAAO,IAAI;AACpB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,KAAK,QAAQ,QAAQ;AAC1B,MAAI,CAAC,KAAK,MAAM,UAAU;AAC1B,MAAI,EAAE,KAAK,MAAM,QAAQ;AACzB,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,MAAM,OAAO,IAAI;AAC3B,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAeO,SAAS,cAAc,KAAK,MAAM,QAAQ,MAAM,KAAK;AAC1D,MAAI,IAAI,IAAM,KAAK,IAAI,OAAO,CAAC,GAC3B;AACJ,MAAI,CAAC,IAAI,IAAI;AACb,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AAEV,MAAI,OAAO,QAAQ,QAAQ,UAAU;AACnC,SAAK,KAAK,OAAO;AACjB,QAAI,EAAE,KAAK,MAAM,QAAQ;AACzB,QAAI,EAAE,IAAI,IAAI,MAAM,OAAO;AAAA,EAC7B,OAAO;AACL,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI,KAAK;AAAA,EACjB;AAEA,SAAO;AACT;AAMO,IAAI,cAAc;AAelB,SAAS,cAAc,KAAK,MAAM,QAAQ,MAAM,KAAK;AAC1D,MAAI,IAAI,IAAM,KAAK,IAAI,OAAO,CAAC,GAC3B;AACJ,MAAI,CAAC,IAAI,IAAI;AACb,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AAEV,MAAI,OAAO,QAAQ,QAAQ,UAAU;AACnC,SAAK,KAAK,OAAO;AACjB,QAAI,EAAE,IAAI,MAAM;AAChB,QAAI,EAAE,IAAI,MAAM,OAAO;AAAA,EACzB,OAAO;AACL,QAAI,EAAE,IAAI;AACV,QAAI,EAAE,IAAI,CAAC;AAAA,EACb;AAEA,SAAO;AACT;AAaO,SAAS,2BAA2B,KAAK,KAAK,MAAM,KAAK;AAC9D,MAAI,QAAQ,KAAK,IAAI,IAAI,YAAY,KAAK,KAAK,GAAK;AACpD,MAAI,UAAU,KAAK,IAAI,IAAI,cAAc,KAAK,KAAK,GAAK;AACxD,MAAI,UAAU,KAAK,IAAI,IAAI,cAAc,KAAK,KAAK,GAAK;AACxD,MAAI,WAAW,KAAK,IAAI,IAAI,eAAe,KAAK,KAAK,GAAK;AAC1D,MAAI,SAAS,KAAO,UAAU;AAC9B,MAAI,SAAS,KAAO,QAAQ;AAC5B,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,GAAG,UAAU,YAAY,SAAS;AAC3C,MAAI,CAAC,KAAK,QAAQ,WAAW,SAAS;AACtC,MAAI,EAAE,IAAI,OAAO,OAAO;AACxB,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,MAAM,QAAQ,OAAO;AAC/B,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAgBO,SAAS,QAAQ,KAAK,MAAM,OAAO,QAAQ,KAAK,MAAM,KAAK;AAChE,MAAI,KAAK,KAAK,OAAO;AACrB,MAAI,KAAK,KAAK,SAAS;AACvB,MAAI,KAAK,KAAK,OAAO;AACrB,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI,IAAI;AACd,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,KAAK,OAAO,SAAS;AAC3B,MAAI,EAAE,KAAK,MAAM,UAAU;AAC3B,MAAI,EAAE,KAAK,MAAM,QAAQ;AACzB,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAMO,IAAI,QAAQ;AAgBZ,SAAS,QAAQ,KAAK,MAAM,OAAO,QAAQ,KAAK,MAAM,KAAK;AAChE,MAAI,KAAK,KAAK,OAAO;AACrB,MAAI,KAAK,KAAK,SAAS;AACvB,MAAI,KAAK,KAAK,OAAO;AACrB,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK;AACd,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,KAAK,OAAO,SAAS;AAC3B,MAAI,EAAE,KAAK,MAAM,UAAU;AAC3B,MAAI,EAAE,IAAI,OAAO;AACjB,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAYO,SAAS,OAAO,KAAK,KAAK,QAAQ,IAAI;AAC3C,MAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAID;AACxC,MAAI,OAAO,IAAI,CAAC;AAChB,MAAI,OAAO,IAAI,CAAC;AAChB,MAAI,OAAO,IAAI,CAAC;AAChB,MAAI,MAAM,GAAG,CAAC;AACd,MAAI,MAAM,GAAG,CAAC;AACd,MAAI,MAAM,GAAG,CAAC;AACd,MAAI,UAAU,OAAO,CAAC;AACtB,MAAI,UAAU,OAAO,CAAC;AACtB,MAAI,UAAU,OAAO,CAAC;AAEtB,MAAI,KAAK,IAAI,OAAO,OAAO,IAAa,WAAW,KAAK,IAAI,OAAO,OAAO,IAAa,WAAW,KAAK,IAAI,OAAO,OAAO,IAAa,SAAS;AAC7I,WAAO,SAAS,GAAG;AAAA,EACrB;AAEA,OAAK,OAAO;AACZ,OAAK,OAAO;AACZ,OAAK,OAAO;AACZ,EAAAA,OAAM,IAAI,KAAK,MAAM,IAAI,IAAI,EAAE;AAC/B,QAAMA;AACN,QAAMA;AACN,QAAMA;AACN,OAAK,MAAM,KAAK,MAAM;AACtB,OAAK,MAAM,KAAK,MAAM;AACtB,OAAK,MAAM,KAAK,MAAM;AACtB,EAAAA,OAAM,KAAK,MAAM,IAAI,IAAI,EAAE;AAE3B,MAAI,CAACA,MAAK;AACR,SAAK;AACL,SAAK;AACL,SAAK;AAAA,EACP,OAAO;AACL,IAAAA,OAAM,IAAIA;AACV,UAAMA;AACN,UAAMA;AACN,UAAMA;AAAA,EACR;AAEA,OAAK,KAAK,KAAK,KAAK;AACpB,OAAK,KAAK,KAAK,KAAK;AACpB,OAAK,KAAK,KAAK,KAAK;AACpB,EAAAA,OAAM,KAAK,MAAM,IAAI,IAAI,EAAE;AAE3B,MAAI,CAACA,MAAK;AACR,SAAK;AACL,SAAK;AACL,SAAK;AAAA,EACP,OAAO;AACL,IAAAA,OAAM,IAAIA;AACV,UAAMA;AACN,UAAMA;AACN,UAAMA;AAAA,EACR;AAEA,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI,EAAE,KAAK,OAAO,KAAK,OAAO,KAAK;AACzC,MAAI,EAAE,IAAI,EAAE,KAAK,OAAO,KAAK,OAAO,KAAK;AACzC,MAAI,EAAE,IAAI,EAAE,KAAK,OAAO,KAAK,OAAO,KAAK;AACzC,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAWO,SAAS,SAAS,KAAK,KAAK,QAAQ,IAAI;AAC7C,MAAI,OAAO,IAAI,CAAC,GACZ,OAAO,IAAI,CAAC,GACZ,OAAO,IAAI,CAAC,GACZ,MAAM,GAAG,CAAC,GACV,MAAM,GAAG,CAAC,GACV,MAAM,GAAG,CAAC;AACd,MAAI,KAAK,OAAO,OAAO,CAAC,GACpB,KAAK,OAAO,OAAO,CAAC,GACpB,KAAK,OAAO,OAAO,CAAC;AACxB,MAAIA,OAAM,KAAK,KAAK,KAAK,KAAK,KAAK;AAEnC,MAAIA,OAAM,GAAG;AACX,IAAAA,OAAM,IAAI,KAAK,KAAKA,IAAG;AACvB,UAAMA;AACN,UAAMA;AACN,UAAMA;AAAA,EACR;AAEA,MAAI,KAAK,MAAM,KAAK,MAAM,IACtB,KAAK,MAAM,KAAK,MAAM,IACtB,KAAK,MAAM,KAAK,MAAM;AAC1B,EAAAA,OAAM,KAAK,KAAK,KAAK,KAAK,KAAK;AAE/B,MAAIA,OAAM,GAAG;AACX,IAAAA,OAAM,IAAI,KAAK,KAAKA,IAAG;AACvB,UAAMA;AACN,UAAMA;AACN,UAAMA;AAAA,EACR;AAEA,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI,KAAK,KAAK,KAAK;AACxB,MAAI,CAAC,IAAI,KAAK,KAAK,KAAK;AACxB,MAAI,CAAC,IAAI,KAAK,KAAK,KAAK;AACxB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,MAAI,EAAE,IAAI;AACV,SAAO;AACT;AAQO,SAAS,IAAI,GAAG;AACrB,SAAO,UAAU,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,EAAE,IAAI,OAAO,EAAE,EAAE,IAAI,OAAO,EAAE,EAAE,IAAI,OAAO,EAAE,EAAE,IAAI,OAAO,EAAE,EAAE,IAAI,OAAO,EAAE,EAAE,IAAI;AAClP;AAQO,SAAS,KAAK,GAAG;AACtB,SAAO,KAAK,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;AACxH;AAUO,SAAS,IAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,SAAO;AACT;AAUO,SAAS,SAAS,KAAK,GAAG,GAAG;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE;AACtB,SAAO;AACT;AAUO,SAAS,eAAe,KAAK,GAAG,GAAG;AACxC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI;AAClB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI;AAClB,SAAO;AACT;AAWO,SAAS,qBAAqB,KAAK,GAAG,GAAGE,QAAO;AACrD,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAIA;AAC1B,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAIA;AAC1B,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAIA;AAC1B,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAIA;AAC1B,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAIA;AAC1B,MAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAIA;AAC1B,SAAO;AACT;AASO,SAAS,YAAY,GAAG,GAAG;AAChC,SAAO,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE;AAChS;AASO,SAAS,OAAO,GAAG,GAAG;AAC3B,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,MAAI,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE,GACV,MAAM,EAAE,EAAE;AACd,SAAO,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,MAAM,GAAG,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,MAAM,GAAG,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,MAAM,GAAG,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,MAAM,GAAG,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,MAAM,GAAG,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,MAAM,GAAG,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,GAAG,GAAG,KAAK,IAAI,GAAG,CAAC;AAC52C;AAMO,IAAI,MAAM;AAMV,IAAI,MAAM;;;ACr3DjB;AAAA;AAAA,aAAAC;AAAA,EAAA;AAAA;AAAA;AAAA,eAAAC;AAAA,EAAA,YAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAAC;AAAA,EAAA,mBAAAC;AAAA,EAAA;AAAA;AAAA,oBAAAC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAAC;AAAA,EAAA,gBAAAC;AAAA,EAAA;AAAA;AAAA;AAAA,iBAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA;AAAA,eAAAC;AAAA,EAAA;AAAA,aAAAC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA,aAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,gBAAAC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAYO,SAASC,UAAS;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AAEnC,MAAa,cAAc,cAAc;AACvC,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AAAA,EACX;AAEA,SAAO;AACT;AAQO,SAASC,OAAM,GAAG;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AACnC,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,SAAO;AACT;AAQO,SAAS,OAAO,GAAG;AACxB,MAAI,IAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC;AACX,MAAIC,KAAI,EAAE,CAAC;AACX,SAAO,KAAK,MAAM,GAAG,GAAGA,EAAC;AAC3B;AAUO,SAASC,YAAW,GAAG,GAAGD,IAAG;AAClC,MAAI,MAAM,IAAa,WAAW,CAAC;AACnC,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAIA;AACT,SAAO;AACT;AASO,SAASE,MAAK,KAAK,GAAG;AAC3B,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,SAAO;AACT;AAWO,SAASC,KAAI,KAAK,GAAG,GAAGH,IAAG;AAChC,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAIA;AACT,SAAO;AACT;AAUO,SAASI,KAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,UAAS,KAAK,GAAG,GAAG;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,UAAS,KAAK,GAAG,GAAG;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAAS,OAAO,KAAK,GAAG,GAAG;AAChC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AASO,SAAS,KAAK,KAAK,GAAG;AAC3B,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,CAAC;AACvB,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,CAAC;AACvB,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,CAAC;AACvB,SAAO;AACT;AASO,SAAS,MAAM,KAAK,GAAG;AAC5B,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,SAAO;AACT;AAUO,SAAS,IAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,SAAO;AACT;AAUO,SAAS,IAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,SAAO;AACT;AASO,SAAS,MAAM,KAAK,GAAG;AAC5B,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,SAAO;AACT;AAUO,SAASC,OAAM,KAAK,GAAG,GAAG;AAC/B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,SAAO;AACT;AAWO,SAAS,YAAY,KAAK,GAAG,GAAGA,QAAO;AAC5C,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,SAAO;AACT;AASO,SAAS,SAAS,GAAG,GAAG;AAC7B,MAAI,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,MAAI,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,MAAIP,KAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,SAAO,KAAK,MAAM,GAAG,GAAGA,EAAC;AAC3B;AASO,SAAS,gBAAgB,GAAG,GAAG;AACpC,MAAI,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,MAAI,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,MAAIA,KAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,SAAO,IAAI,IAAI,IAAI,IAAIA,KAAIA;AAC7B;AAQO,SAAS,cAAc,GAAG;AAC/B,MAAI,IAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC;AACX,MAAIA,KAAI,EAAE,CAAC;AACX,SAAO,IAAI,IAAI,IAAI,IAAIA,KAAIA;AAC7B;AASO,SAAS,OAAO,KAAK,GAAG;AAC7B,MAAI,CAAC,IAAI,CAAC,EAAE,CAAC;AACb,MAAI,CAAC,IAAI,CAAC,EAAE,CAAC;AACb,MAAI,CAAC,IAAI,CAAC,EAAE,CAAC;AACb,SAAO;AACT;AASO,SAAS,QAAQ,KAAK,GAAG;AAC9B,MAAI,CAAC,IAAI,IAAM,EAAE,CAAC;AAClB,MAAI,CAAC,IAAI,IAAM,EAAE,CAAC;AAClB,MAAI,CAAC,IAAI,IAAM,EAAE,CAAC;AAClB,SAAO;AACT;AASO,SAAS,UAAU,KAAK,GAAG;AAChC,MAAI,IAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC;AACX,MAAIA,KAAI,EAAE,CAAC;AACX,MAAIQ,OAAM,IAAI,IAAI,IAAI,IAAIR,KAAIA;AAE9B,MAAIQ,OAAM,GAAG;AAEX,IAAAA,OAAM,IAAI,KAAK,KAAKA,IAAG;AAAA,EACzB;AAEA,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,SAAO;AACT;AASO,SAAS,IAAI,GAAG,GAAG;AACxB,SAAO,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAC/C;AAUO,SAAS,MAAM,KAAK,GAAG,GAAG;AAC/B,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,KAAK,KAAK,KAAK;AACxB,MAAI,CAAC,IAAI,KAAK,KAAK,KAAK;AACxB,MAAI,CAAC,IAAI,KAAK,KAAK,KAAK;AACxB,SAAO;AACT;AAWO,SAAS,KAAK,KAAK,GAAG,GAAG,GAAG;AACjC,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,IAAI;AAC1B,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,IAAI;AAC1B,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,IAAI;AAC1B,SAAO;AACT;AAaO,SAAS,QAAQ,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG;AAC1C,MAAI,eAAe,IAAI;AACvB,MAAI,UAAU,gBAAgB,IAAI,IAAI,KAAK;AAC3C,MAAI,UAAU,gBAAgB,IAAI,KAAK;AACvC,MAAI,UAAU,gBAAgB,IAAI;AAClC,MAAI,UAAU,gBAAgB,IAAI,IAAI;AACtC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI;AACnE,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI;AACnE,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI;AACnE,SAAO;AACT;AAaO,SAAS,OAAO,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG;AACzC,MAAI,gBAAgB,IAAI;AACxB,MAAI,wBAAwB,gBAAgB;AAC5C,MAAI,eAAe,IAAI;AACvB,MAAI,UAAU,wBAAwB;AACtC,MAAI,UAAU,IAAI,IAAI;AACtB,MAAI,UAAU,IAAI,eAAe;AACjC,MAAI,UAAU,eAAe;AAC7B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI;AACnE,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI;AACnE,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,IAAI;AACnE,SAAO;AACT;AASO,SAAS,OAAO,KAAKD,QAAO;AACjC,EAAAA,SAAQA,UAAS;AACjB,MAAI,IAAa,OAAO,IAAI,IAAM,KAAK;AACvC,MAAIP,KAAa,OAAO,IAAI,IAAM;AAClC,MAAI,SAAS,KAAK,KAAK,IAAMA,KAAIA,EAAC,IAAIO;AACtC,MAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;AACvB,MAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;AACvB,MAAI,CAAC,IAAIP,KAAIO;AACb,SAAO;AACT;AAWO,SAAS,cAAc,KAAK,GAAG,GAAG;AACvC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPP,KAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,IAAIA,KAAI,EAAE,EAAE;AAC9C,MAAI,KAAK;AACT,MAAI,CAAC,KAAK,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,EAAE,KAAK;AACpD,MAAI,CAAC,KAAK,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,EAAE,KAAK;AACpD,MAAI,CAAC,KAAK,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,IAAIA,KAAI,EAAE,EAAE,KAAK;AACrD,SAAO;AACT;AAUO,SAAS,cAAc,KAAK,GAAG,GAAG;AACvC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPA,KAAI,EAAE,CAAC;AACX,MAAI,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,CAAC;AACtC,MAAI,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,CAAC;AACtC,MAAI,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAIA,KAAI,EAAE,CAAC;AACtC,SAAO;AACT;AAWO,SAAS,cAAc,KAAK,GAAG,GAAG;AAEvC,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC,GACPA,KAAI,EAAE,CAAC;AAGX,MAAI,MAAM,KAAKA,KAAI,KAAK,GACpB,MAAM,KAAK,IAAI,KAAKA,IACpB,MAAM,KAAK,IAAI,KAAK;AAExB,MAAI,OAAO,KAAK,MAAM,KAAK,KACvB,OAAO,KAAK,MAAM,KAAK,KACvB,OAAO,KAAK,MAAM,KAAK;AAE3B,MAAI,KAAK,KAAK;AACd,SAAO;AACP,SAAO;AACP,SAAO;AAEP,UAAQ;AACR,UAAQ;AACR,UAAQ;AAER,MAAI,CAAC,IAAI,IAAI,MAAM;AACnB,MAAI,CAAC,IAAI,IAAI,MAAM;AACnB,MAAI,CAAC,IAAIA,KAAI,MAAM;AACnB,SAAO;AACT;AAUO,SAASS,SAAQ,KAAK,GAAG,GAAG,KAAK;AACtC,MAAI,IAAI,CAAC,GACL,IAAI,CAAC;AAET,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAEjB,IAAE,CAAC,IAAI,EAAE,CAAC;AACV,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG;AACjD,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG;AAEjD,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,SAAQ,KAAK,GAAG,GAAG,KAAK;AACtC,MAAI,IAAI,CAAC,GACL,IAAI,CAAC;AAET,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAEjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG;AACjD,IAAE,CAAC,IAAI,EAAE,CAAC;AACV,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG;AAEjD,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,SAAQ,KAAK,GAAG,GAAG,KAAK;AACtC,MAAI,IAAI,CAAC,GACL,IAAI,CAAC;AAET,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAEjB,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG;AACjD,IAAE,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,GAAG;AACjD,IAAE,CAAC,IAAI,EAAE,CAAC;AAEV,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAQO,SAAS,MAAM,GAAG,GAAG;AAC1B,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,OAAO,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE,GAC5C,OAAO,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE,GAC5C,MAAM,OAAO,MACb,SAAS,OAAO,IAAI,GAAG,CAAC,IAAI;AAChC,SAAO,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,QAAQ,EAAE,GAAG,CAAC,CAAC;AACpD;AAQO,SAAS,KAAK,KAAK;AACxB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,SAAO;AACT;AAQO,SAASC,KAAI,GAAG;AACrB,SAAO,UAAU,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI;AACtD;AASO,SAASC,aAAY,GAAG,GAAG;AAChC,SAAO,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC;AACvD;AASO,SAASC,QAAO,GAAG,GAAG;AAC3B,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,SAAO,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC;AACnQ;AAMO,IAAIC,OAAMV;AAMV,IAAIW,OAAMV;AAMV,IAAI,MAAM;AAMV,IAAI,OAAO;AAMX,IAAI,UAAU;AAMd,IAAI,MAAM;AAMV,IAAI,SAAS;AAcb,IAAI,WAAU,WAAY;AAC/B,MAAI,MAAMR,QAAO;AACjB,SAAO,SAAU,GAAG,QAAQ,QAAQ,OAAO,IAAI,KAAK;AAClD,QAAI,GAAG;AAEP,QAAI,CAAC,QAAQ;AACX,eAAS;AAAA,IACX;AAEA,QAAI,CAAC,QAAQ;AACX,eAAS;AAAA,IACX;AAEA,QAAI,OAAO;AACT,UAAI,KAAK,IAAI,QAAQ,SAAS,QAAQ,EAAE,MAAM;AAAA,IAChD,OAAO;AACL,UAAI,EAAE;AAAA,IACR;AAEA,SAAK,IAAI,QAAQ,IAAI,GAAG,KAAK,QAAQ;AACnC,UAAI,CAAC,IAAI,EAAE,CAAC;AACZ,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAChB,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAChB,SAAG,KAAK,KAAK,GAAG;AAChB,QAAE,CAAC,IAAI,IAAI,CAAC;AACZ,QAAE,IAAI,CAAC,IAAI,IAAI,CAAC;AAChB,QAAE,IAAI,CAAC,IAAI,IAAI,CAAC;AAAA,IAClB;AAEA,WAAO;AAAA,EACT;AACF,GAAE;;;ACtwBK,SAASmB,UAAS;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AAEnC,MAAa,cAAc,cAAc;AACvC,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AAAA,EACX;AAEA,SAAO;AACT;AAiVO,SAASC,WAAU,KAAK,GAAG;AAChC,MAAI,IAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC;AACX,MAAIC,KAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC;AACX,MAAIC,OAAM,IAAI,IAAI,IAAI,IAAID,KAAIA,KAAI,IAAI;AAEtC,MAAIC,OAAM,GAAG;AACX,IAAAA,OAAM,IAAI,KAAK,KAAKA,IAAG;AAAA,EACzB;AAEA,MAAI,CAAC,IAAI,IAAIA;AACb,MAAI,CAAC,IAAI,IAAIA;AACb,MAAI,CAAC,IAAID,KAAIC;AACb,MAAI,CAAC,IAAI,IAAIA;AACb,SAAO;AACT;AA6PO,IAAIC,YAAU,WAAY;AAC/B,MAAI,MAAMC,QAAO;AACjB,SAAO,SAAU,GAAG,QAAQ,QAAQ,OAAO,IAAI,KAAK;AAClD,QAAI,GAAG;AAEP,QAAI,CAAC,QAAQ;AACX,eAAS;AAAA,IACX;AAEA,QAAI,CAAC,QAAQ;AACX,eAAS;AAAA,IACX;AAEA,QAAI,OAAO;AACT,UAAI,KAAK,IAAI,QAAQ,SAAS,QAAQ,EAAE,MAAM;AAAA,IAChD,OAAO;AACL,UAAI,EAAE;AAAA,IACR;AAEA,SAAK,IAAI,QAAQ,IAAI,GAAG,KAAK,QAAQ;AACnC,UAAI,CAAC,IAAI,EAAE,CAAC;AACZ,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAChB,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAChB,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAChB,SAAG,KAAK,KAAK,GAAG;AAChB,QAAE,CAAC,IAAI,IAAI,CAAC;AACZ,QAAE,IAAI,CAAC,IAAI,IAAI,CAAC;AAChB,QAAE,IAAI,CAAC,IAAI,IAAI,CAAC;AAChB,QAAE,IAAI,CAAC,IAAI,IAAI,CAAC;AAAA,IAClB;AAEA,WAAO;AAAA,EACT;AACF,GAAE;;;ACvoBK,SAASC,UAAS;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AAEnC,MAAa,cAAc,cAAc;AACvC,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AAAA,EACX;AAEA,MAAI,CAAC,IAAI;AACT,SAAO;AACT;AAyBO,SAAS,aAAa,KAAK,MAAM,KAAK;AAC3C,QAAM,MAAM;AACZ,MAAI,IAAI,KAAK,IAAI,GAAG;AACpB,MAAI,CAAC,IAAI,IAAI,KAAK,CAAC;AACnB,MAAI,CAAC,IAAI,IAAI,KAAK,CAAC;AACnB,MAAI,CAAC,IAAI,IAAI,KAAK,CAAC;AACnB,MAAI,CAAC,IAAI,KAAK,IAAI,GAAG;AACrB,SAAO;AACT;AAiOO,SAAS,MAAM,KAAK,GAAG,GAAG,GAAG;AAGlC,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,OAAO,OAAO,OAAO,QAAQ;AAEjC,UAAQ,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AAE3C,MAAI,QAAQ,GAAK;AACf,YAAQ,CAAC;AACT,SAAK,CAAC;AACN,SAAK,CAAC;AACN,SAAK,CAAC;AACN,SAAK,CAAC;AAAA,EACR;AAGA,MAAI,IAAM,QAAiB,SAAS;AAElC,YAAQ,KAAK,KAAK,KAAK;AACvB,YAAQ,KAAK,IAAI,KAAK;AACtB,aAAS,KAAK,KAAK,IAAM,KAAK,KAAK,IAAI;AACvC,aAAS,KAAK,IAAI,IAAI,KAAK,IAAI;AAAA,EACjC,OAAO;AAGL,aAAS,IAAM;AACf,aAAS;AAAA,EACX;AAGA,MAAI,CAAC,IAAI,SAAS,KAAK,SAAS;AAChC,MAAI,CAAC,IAAI,SAAS,KAAK,SAAS;AAChC,MAAI,CAAC,IAAI,SAAS,KAAK,SAAS;AAChC,MAAI,CAAC,IAAI,SAAS,KAAK,SAAS;AAChC,SAAO;AACT;AAwEO,SAAS,SAAS,KAAK,GAAG;AAG/B,MAAI,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAC9B,MAAI;AAEJ,MAAI,SAAS,GAAK;AAEhB,YAAQ,KAAK,KAAK,SAAS,CAAG;AAE9B,QAAI,CAAC,IAAI,MAAM;AACf,YAAQ,MAAM;AAEd,QAAI,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;AACzB,QAAI,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;AACzB,QAAI,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;AAAA,EAC3B,OAAO;AAEL,QAAI,IAAI;AACR,QAAI,EAAE,CAAC,IAAI,EAAE,CAAC,EAAG,KAAI;AACrB,QAAI,EAAE,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,EAAG,KAAI;AAC7B,QAAI,KAAK,IAAI,KAAK;AAClB,QAAI,KAAK,IAAI,KAAK;AAClB,YAAQ,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,CAAG;AAClE,QAAI,CAAC,IAAI,MAAM;AACf,YAAQ,MAAM;AACd,QAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK;AACzC,QAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK;AACzC,QAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK;AAAA,EAC3C;AAEA,SAAO;AACT;AA2KO,IAAIC,aAAiBA;AA+BrB,IAAI,cAAa,WAAY;AAClC,MAAI,UAAeC,QAAO;AAC1B,MAAI,YAAiBC,YAAW,GAAG,GAAG,CAAC;AACvC,MAAI,YAAiBA,YAAW,GAAG,GAAG,CAAC;AACvC,SAAO,SAAU,KAAK,GAAG,GAAG;AAC1B,QAAIC,OAAW,IAAI,GAAG,CAAC;AAEvB,QAAIA,OAAM,WAAW;AACnB,MAAK,MAAM,SAAS,WAAW,CAAC;AAChC,UAAS,IAAI,OAAO,IAAI,KAAU,CAAK,MAAM,SAAS,WAAW,CAAC;AAClE,MAAK,UAAU,SAAS,OAAO;AAC/B,mBAAa,KAAK,SAAS,KAAK,EAAE;AAClC,aAAO;AAAA,IACT,WAAWA,OAAM,UAAU;AACzB,UAAI,CAAC,IAAI;AACT,UAAI,CAAC,IAAI;AACT,UAAI,CAAC,IAAI;AACT,UAAI,CAAC,IAAI;AACT,aAAO;AAAA,IACT,OAAO;AACL,MAAK,MAAM,SAAS,GAAG,CAAC;AACxB,UAAI,CAAC,IAAI,QAAQ,CAAC;AAClB,UAAI,CAAC,IAAI,QAAQ,CAAC;AAClB,UAAI,CAAC,IAAI,QAAQ,CAAC;AAClB,UAAI,CAAC,IAAI,IAAIA;AACb,aAAOC,WAAU,KAAK,GAAG;AAAA,IAC3B;AAAA,EACF;AACF,GAAE;AAaK,IAAI,UAAS,WAAY;AAC9B,MAAI,QAAQH,QAAO;AACnB,MAAI,QAAQA,QAAO;AACnB,SAAO,SAAU,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG;AACnC,UAAM,OAAO,GAAG,GAAG,CAAC;AACpB,UAAM,OAAO,GAAG,GAAG,CAAC;AACpB,UAAM,KAAK,OAAO,OAAO,IAAI,KAAK,IAAI,EAAE;AACxC,WAAO;AAAA,EACT;AACF,GAAE;AAYK,IAAI,WAAU,WAAY;AAC/B,MAAI,OAAY,OAAO;AACvB,SAAO,SAAU,KAAK,MAAM,OAAO,IAAI;AACrC,SAAK,CAAC,IAAI,MAAM,CAAC;AACjB,SAAK,CAAC,IAAI,MAAM,CAAC;AACjB,SAAK,CAAC,IAAI,MAAM,CAAC;AACjB,SAAK,CAAC,IAAI,GAAG,CAAC;AACd,SAAK,CAAC,IAAI,GAAG,CAAC;AACd,SAAK,CAAC,IAAI,GAAG,CAAC;AACd,SAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AACjB,SAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AACjB,SAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AACjB,WAAOG,WAAU,KAAK,SAAS,KAAK,IAAI,CAAC;AAAA,EAC3C;AACF,GAAE;;;ACrsBF;AAAA;AAAA,aAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,YAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,YAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,YAAAC;AAAA,EAAA,gBAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,mBAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,kBAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,YAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,gBAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,iBAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,mBAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,uBAAAC;AAAA,EAAA,qBAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,WAAAC;AAAA,EAAA,gBAAAC;AAAA,EAAA;AAAA;AAAA,uBAAAC;AAAA,EAAA,qBAAAC;AAAA,EAAA,YAAAC;AAAA;AAYO,SAASC,UAAS;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AAEnC,MAAa,cAAc,cAAc;AACvC,QAAI,CAAC,IAAI;AACT,QAAI,CAAC,IAAI;AAAA,EACX;AAEA,SAAO;AACT;AAQO,SAASC,OAAM,GAAG;AACvB,MAAI,MAAM,IAAa,WAAW,CAAC;AACnC,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,SAAO;AACT;AASO,SAASC,YAAW,GAAG,GAAG;AAC/B,MAAI,MAAM,IAAa,WAAW,CAAC;AACnC,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,SAAO;AACT;AASO,SAASC,MAAK,KAAK,GAAG;AAC3B,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,EAAE,CAAC;AACZ,SAAO;AACT;AAUO,SAASC,KAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,SAAO;AACT;AAUO,SAASC,KAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,UAAS,KAAK,GAAG,GAAG;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,UAAS,KAAK,GAAG,GAAG;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AAUO,SAASC,QAAO,KAAK,GAAG,GAAG;AAChC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnB,SAAO;AACT;AASO,SAASC,MAAK,KAAK,GAAG;AAC3B,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,CAAC;AACvB,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,CAAC;AACvB,SAAO;AACT;AASO,SAASC,OAAM,KAAK,GAAG;AAC5B,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,SAAO;AACT;AAUO,SAASC,KAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,SAAO;AACT;AAUO,SAASC,KAAI,KAAK,GAAG,GAAG;AAC7B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAC5B,SAAO;AACT;AASO,SAASC,OAAM,KAAK,GAAG;AAC5B,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;AACxB,SAAO;AACT;AAUO,SAASC,OAAM,KAAK,GAAG,GAAG;AAC/B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI;AAChB,SAAO;AACT;AAWO,SAASC,aAAY,KAAK,GAAG,GAAGD,QAAO;AAC5C,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAIA;AACvB,SAAO;AACT;AASO,SAASE,UAAS,GAAG,GAAG;AAC7B,MAAI,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,GACd,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,SAAO,KAAK,MAAM,GAAG,CAAC;AACxB;AASO,SAASC,iBAAgB,GAAG,GAAG;AACpC,MAAI,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,GACd,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAClB,SAAO,IAAI,IAAI,IAAI;AACrB;AAQO,SAASC,QAAO,GAAG;AACxB,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,SAAO,KAAK,MAAM,GAAG,CAAC;AACxB;AAQO,SAASC,eAAc,GAAG;AAC/B,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,SAAO,IAAI,IAAI,IAAI;AACrB;AASO,SAASC,QAAO,KAAK,GAAG;AAC7B,MAAI,CAAC,IAAI,CAAC,EAAE,CAAC;AACb,MAAI,CAAC,IAAI,CAAC,EAAE,CAAC;AACb,SAAO;AACT;AASO,SAASC,SAAQ,KAAK,GAAG;AAC9B,MAAI,CAAC,IAAI,IAAM,EAAE,CAAC;AAClB,MAAI,CAAC,IAAI,IAAM,EAAE,CAAC;AAClB,SAAO;AACT;AASO,SAASC,WAAU,KAAK,GAAG;AAChC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAIC,OAAM,IAAI,IAAI,IAAI;AAEtB,MAAIA,OAAM,GAAG;AAEX,IAAAA,OAAM,IAAI,KAAK,KAAKA,IAAG;AAAA,EACzB;AAEA,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,MAAI,CAAC,IAAI,EAAE,CAAC,IAAIA;AAChB,SAAO;AACT;AASO,SAASC,KAAI,GAAG,GAAG;AACxB,SAAO,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjC;AAWO,SAASC,OAAM,KAAK,GAAG,GAAG;AAC/B,MAAIC,KAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AAChC,MAAI,CAAC,IAAI,IAAI,CAAC,IAAI;AAClB,MAAI,CAAC,IAAIA;AACT,SAAO;AACT;AAWO,SAASC,MAAK,KAAK,GAAG,GAAG,GAAG;AACjC,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,IAAI;AAC1B,MAAI,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,IAAI;AAC1B,SAAO;AACT;AASO,SAASC,QAAO,KAAKd,QAAO;AACjC,EAAAA,SAAQA,UAAS;AACjB,MAAI,IAAa,OAAO,IAAI,IAAM,KAAK;AACvC,MAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAIA;AACvB,MAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAIA;AACvB,SAAO;AACT;AAUO,SAAS,cAAc,KAAK,GAAG,GAAG;AACvC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI;AAC3B,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI;AAC3B,SAAO;AACT;AAUO,SAAS,eAAe,KAAK,GAAG,GAAG;AACxC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;AAClC,SAAO;AACT;AAWO,SAASe,eAAc,KAAK,GAAG,GAAG;AACvC,MAAI,IAAI,EAAE,CAAC,GACP,IAAI,EAAE,CAAC;AACX,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;AAClC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;AAClC,SAAO;AACT;AAYO,SAASC,eAAc,KAAK,GAAG,GAAG;AACvC,MAAI,IAAI,EAAE,CAAC;AACX,MAAI,IAAI,EAAE,CAAC;AACX,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE;AACnC,MAAI,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE;AACnC,SAAO;AACT;AAUO,SAASC,QAAO,KAAK,GAAG,GAAG,KAAK;AAErC,MAAI,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,GACf,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,GACf,OAAO,KAAK,IAAI,GAAG,GACnB,OAAO,KAAK,IAAI,GAAG;AAEvB,MAAI,CAAC,IAAI,KAAK,OAAO,KAAK,OAAO,EAAE,CAAC;AACpC,MAAI,CAAC,IAAI,KAAK,OAAO,KAAK,OAAO,EAAE,CAAC;AACpC,SAAO;AACT;AAQO,SAASC,OAAM,GAAG,GAAG;AAC1B,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC,GAEZ,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE,GAEhE,SAAS,QAAQ,KAAK,KAAK,KAAK,MAAM;AAEtC,SAAO,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,QAAQ,EAAE,GAAG,CAAC,CAAC;AACpD;AAQO,SAASC,MAAK,KAAK;AACxB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,SAAO;AACT;AAQO,SAASC,KAAI,GAAG;AACrB,SAAO,UAAU,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,IAAI;AACxC;AASO,SAASC,aAAY,GAAG,GAAG;AAChC,SAAO,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC;AACtC;AASO,SAASC,QAAO,GAAG,GAAG;AAC3B,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,MAAI,KAAK,EAAE,CAAC,GACR,KAAK,EAAE,CAAC;AACZ,SAAO,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC,KAAK,KAAK,IAAI,KAAK,EAAE,KAAc,UAAU,KAAK,IAAI,GAAK,KAAK,IAAI,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC;AAC9K;AAMO,IAAIb,OAAML;AAMV,IAAImB,OAAM/B;AAMV,IAAIgC,OAAM/B;AAMV,IAAIgC,OAAM/B;AAMV,IAAIgC,QAAOxB;AAMX,IAAIyB,WAAUxB;AAMd,IAAIyB,UAASvB;AAcb,IAAIwB,YAAU,WAAY;AAC/B,MAAI,MAAM3C,QAAO;AACjB,SAAO,SAAU,GAAG,QAAQ,QAAQ,OAAO,IAAI,KAAK;AAClD,QAAI,GAAG;AAEP,QAAI,CAAC,QAAQ;AACX,eAAS;AAAA,IACX;AAEA,QAAI,CAAC,QAAQ;AACX,eAAS;AAAA,IACX;AAEA,QAAI,OAAO;AACT,UAAI,KAAK,IAAI,QAAQ,SAAS,QAAQ,EAAE,MAAM;AAAA,IAChD,OAAO;AACL,UAAI,EAAE;AAAA,IACR;AAEA,SAAK,IAAI,QAAQ,IAAI,GAAG,KAAK,QAAQ;AACnC,UAAI,CAAC,IAAI,EAAE,CAAC;AACZ,UAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAChB,SAAG,KAAK,KAAK,GAAG;AAChB,QAAE,CAAC,IAAI,IAAI,CAAC;AACZ,QAAE,IAAI,CAAC,IAAI,IAAI,CAAC;AAAA,IAClB;AAEA,WAAO;AAAA,EACT;AACF,GAAE;;;AC/mBF,eAA0B;AACnB,IAAI;AAAA,CACV,SAAU4C,8BAA6B;AACpC,EAAAA,6BAA4BA,6BAA4B,YAAY,IAAI,CAAC,IAAI;AAC7E,EAAAA,6BAA4BA,6BAA4B,YAAY,IAAI,CAAC,IAAI;AACjF,GAAG,gCAAgC,8BAA8B,CAAC,EAAE;AAC7D,IAAI,UAAU;AAAA,EACjB,wBAAwB;AAAA,EACxB,aAAa;AAAA,EACb,uCAAuC;AAAA,EACvC,uCAAuC;AAAA,EACvC,sBAAsB;AAAA,EACtB,YAAY;AAAA,EACZ,aAAa;AAAA,EACb,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,mBAAmB;AAAA,EACnB,uCAAuC;AAAA,EACvC,yBAAyB;AAAA,EACzB,uBAAuB;AAAA,EACvB,qCAAqC;AAAA,EACrC,wBAAwB;AAC5B;AACA,IAAI,OAAO,WAAW,aAAa;AAC/B,SAAO,YAAY,IAAI;AACvB,MAAI,OAAO,SAAS,KAAK,QAAQ,eAAe,KAAK,GAAG;AACpD,YAAQ,IAAI,qDAAqD;AACjE,YAAQ,wCAAwC;AAAA,EACpD;AACA,MAAI,OAAO,SAAS,KAAK,QAAQ,sBAAsB,KAAK,GAAG;AAC3D,YAAQ,IAAI,4DAA4D;AACxE,YAAQ,0BAA0B;AAAA,EACtC;AACJ;AACA,IAAI,QAAQ,IAAa,kBAAS;AAClC,IAAI,MAAM,MAAM,MAAM,EAAE,QAAQ,WAAW,YAAY;AACvD,IAAI,UAAU,MAAM,UAAU,EAAE,QAAQ,WAAW,YAAY;AAC/D,IAAI,WAAW,YAAY,OAAO,OAAO;AACrC,UAAQ,yBAAyB;AACjC,MAAI,OAAO,WAAW,eAAe,OAAO,gBAAgB,QAAW;AAEnE,YAAQ,MAAM;AAAA,EAClB;AACJ;AACA,IAAI,WAAW,YAAY,OAAO,OAAO;AACrC,UAAQ,yBAAyB;AACjC,QAAM,UAAU,MAAM,MAAM,EAAE,WAAW;AACzC,UAAQ,OAAO;AACnB;AACA,SAAS,QAAQ,SAAS;AACtB,UAAQ,yBAAyB;AACjC,MAAI,eAAe,QAAQ,MAAM,GAAG;AACpC,MAAI,aAAa,UAAU,GAAG;AAC1B,UAAM,eAAe,SAAS,aAAa,CAAC,CAAC;AAC7C,UAAM,eAAe,SAAS,aAAa,CAAC,CAAC;AAC7C,QAAI,eAAe,MACd,iBAAiB,MAAM,eAAe,GAAI;AAC3C,cAAQ,cAAc;AAAA,IAC1B;AACA,QAAI,eAAe,MACd,iBAAiB,MAAM,eAAe,GAAI;AAC3C,cAAQ,oBAAoB;AAAA,IAChC;AACA,QAAK,iBAAiB,MAAM,gBAAgB,KAAO,gBAAgB;AAC/D,cAAQ,wCAAwC;AACpD,QAAI,gBAAgB,IAAI;AACpB,cAAQ,wCAAwC;AAAA,IACpD;AACA,SAAM,gBAAgB,MAAM,eAAe,KAAO,gBAAgB,OAC9D,UAAU,gBACV,UAAU,aAAa,2BACvB,UAAU,aAAa,wBAAwB,EAAE,WAAW;AAC5D,cAAQ,uBAAuB;AAC/B,UAAI,eAAe,IAAI;AAGnB,gBAAQ,cAAc;AACtB,gBAAQ,aAAa;AAAA,MACzB;AAAA,IACJ;AACA,QAAI,iBAAiB,MAAM,gBAAgB,GAAG;AAC1C,cAAQ,wBAAwB;AAAA,IACpC;AACA,QAAI,gBAAgB,IAAI;AACpB,cAAQ,sCAAsC;AAAA,IAClD;AAAA,EACJ;AACJ;;;ACrFO,SAAS,iBAAiB,QAAQ,aAAa,cAAc,OAAO,MAAM,MAAM,KAAO;AAC1F,MAAI,QAAQ,OAAO,CAAC,IAAI;AACxB,MAAI,QAAQ,OAAO,CAAC,IAAI;AACxB,MAAI,aAAa,aAAK,OAAO;AAC7B,eAAK,QAAQ,YAAY,QAAQ,OAAO,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,QAAQ,QAAQ,MAAM,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,QAAQ,QAAQ,MAAM,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,QAAQ,OAAO,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,MAAM,GAAG;AAI5M,aAAW,CAAC,KAAK;AACjB,aAAW,CAAC,KAAK;AACjB,aAAW,CAAC,KAAK;AACjB,aAAW,CAAC,KAAK;AACjB,MAAI,OAAO,aAAK,OAAO;AACvB,eAAK,YAAY,MAAM,CAAC,MAAM,OAAO,MAAM,OAAO,CAAC,CAAC;AACpD,eAAK,SAAS,YAAY,MAAM,UAAU;AAG1C,eAAK,aAAa,MAAM,mCAAmC,KAAK,IAAI,KAAK,KAAK,KAAO,CAAC,GAAG,GAAG,CAAC,CAAC;AAC9F,eAAK,SAAS,YAAY,MAAM,UAAU;AAC1C,MAAI,MAAM,aAAK,OAAO;AACtB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,eAAK,cAAc,KAAK,KAAK,IAAI;AACjC,MAAI,WAAW,KAAK,IAAI,IAAI,CAAC,CAAC;AAC9B,MAAI,YAAY,KAAK,IAAI,IAAI,CAAC,CAAC;AAC/B,MAAI,cAAc;AAClB,MAAI,WAAW,cAAc,YAAY,cAAc;AACnD,kBAAc,eAAe;AAAA,EACjC,OACK;AACD,kBAAc,cAAc;AAAA,EAChC;AACA,eAAK,YAAY,MAAM,CAAC,aAAa,aAAa,CAAC,CAAC;AACpD,eAAK,SAAS,YAAY,MAAM,UAAU;AAC1C,eAAK,YAAY,MAAM,CAAC,IAAI,aAAa,IAAI,cAAc,CAAC,CAAC;AAC7D,eAAK,SAAS,YAAY,MAAM,UAAU;AAC1C,eAAK,aAAa,MAAM,mCAAmC,KAAK,IAAI,KAAK,KAAK,MAAQ,CAAC,GAAG,GAAG,CAAC,CAAC;AAC/F,eAAK,SAAS,YAAY,YAAY,IAAI;AAC1C,SAAO;AACX;AACO,SAAS,mCAAmC,cAAc;AAC7D,MAAI,OAAO,OAAO,eAAe,CAAC,QAAQ,wBAAwB;AAC9D,YAAQ,OAAO,OAAO,YAAY,MAAM;AAAA,MACpC,KAAK;AACD,eAAO,eAAe,KAAK;AAAA,MAC/B,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO,eAAe,MAAM;AAAA,MAChC;AACI,eAAO;AAAA,IACf;AAAA,EACJ,WACS,OAAO,gBAAgB,QAAW;AACvC,YAAQ,OAAO,aAAa;AAAA,MACxB,KAAK;AAAG,eAAO,eAAe,KAAK;AAAA,MACnC,KAAK;AAAI,eAAO;AAAA,MAChB,KAAK;AAAK,eAAO,eAAe,MAAM;AAAA,MACtC,KAAK;AAAK,eAAO;AAAA,IACrB;AAAA,EACJ;AACA,SAAO;AACX;;;ACjEO,IAAMC,SAAN,MAAY;AAAA,EACf,cAAc;AACV,SAAK,SAAS,CAAC;AAAA,EACnB;AAAA,EACA,KAAK,GAAG;AACJ,SAAK,OAAO,KAAK,CAAC;AAAA,EACtB;AAAA,EACA,OAAO,GAAG;AACN,QAAI,OAAO,KAAK,OAAO,QAAQ,CAAC;AAChC,QAAI,OAAO,IAAI;AACX,WAAK,OAAO,OAAO,MAAM,CAAC;AAAA,IAC9B;AAAA,EACJ;AAAA,EACA,OAAO;AACH,aAAS,IAAI,GAAG,QAAQ,KAAK,OAAO,QAAQ,IAAI,OAAO,KAAK;AACxD,WAAK,OAAO,CAAC,EAAE;AAAA,IACnB;AAAA,EACJ;AACJ;AACO,IAAMC,UAAN,MAAa;AAAA,EAChB,cAAc;AACV,SAAK,SAAS,CAAC;AAAA,EACnB;AAAA,EACA,KAAK,GAAG;AACJ,SAAK,OAAO,KAAK,CAAC;AAAA,EACtB;AAAA,EACA,OAAO,GAAG;AACN,QAAI,OAAO,KAAK,OAAO,QAAQ,CAAC;AAChC,QAAI,OAAO,IAAI;AACX,WAAK,OAAO,OAAO,MAAM,CAAC;AAAA,IAC9B;AAAA,EACJ;AAAA,EACA,KAAK,GAAG;AACJ,aAAS,IAAI,GAAG,QAAQ,KAAK,OAAO,QAAQ,IAAI,OAAO,KAAK;AACxD,WAAK,OAAO,CAAC,EAAE,CAAC;AAAA,IACpB;AAAA,EACJ;AACJ;;;ACpCO,IAAM,aAAN,MAAiB;AAAA,EACpB,cAAc;AACV,SAAK,oBAAoB,IAAIC,OAAM;AACnC,SAAK,oBAAoB,IAAIC,QAAO;AACpC,SAAK,oBAAoB,CAAC;AAAA,EAC9B;AAAA,EACA,oBAAoB,KAAK;AACrB,SAAK,kBAAkB,KAAK,GAAG;AAAA,EACnC;AAAA,EACA,oBAAoB,KAAK,OAAO;AAC5B,SAAK,kBAAkB,KAAK;AAAA,MACxB;AAAA,MACA,eAAe;AAAA,IACnB,CAAC;AACD,SAAK,kBAAkB,KAAK;AAAA,EAChC;AAAA,EACA,sBAAsB;AAClB,QAAI,MAAM,KAAK;AACf,SAAK,oBAAoB,CAAC;AAC1B,WAAO;AAAA,EACX;AACJ;;;ACtBA,IAAI,YAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAEO,IAAI,iBAAiB,IAAI,WAAW;AACpC,SAAS,aAAa,QAAQ;AACjC,SAAO,UAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,QAAI,CAAC;AACD,eAAS,IAAI,OAAO,IAAI,IAAI,YAAY,YAAY,GAAG,GAAG,EAAE,MAAM,SAAS,CAAC;AAChF,WAAO,YAAY;AAAA,MACf,GAAG;AAAA,MACH,KAAK,IAAI,IAAI,oBAAoB,YAAY,GAAG,EAAE,SAAS;AAAA,IAC/D,CAAC;AACD,UAAM,YAAY,MAAM;AACxB,aAAS,eAAe;AACpB,UAAI,OAAO,eAAe,oBAAoB;AAC9C,eAAS,OAAO,MAAM;AAClB,eAAO,YAAY,IAAI,KAAK,IAAI,aAAa;AAAA,MACjD;AAAA,IACJ;AACA,mBAAe,kBAAkB,KAAK,YAAY;AAClD,iBAAa;AACb,WAAO,iBAAiB,WAAW,SAAO;AACtC,qBAAe,oBAAoB,IAAI,IAAI;AAAA,IAC/C,CAAC;AAAA,EACL,CAAC;AACL;AACA,SAAS,YAAY,GAAG;AACpB,SAAO,IAAI,QAAQ,aAAW;AAC1B,QAAI,WAAW,CAAC,QAAQ;AACpB,UAAI,IAAI,SAAS,UAAU;AACvB,UAAE,oBAAoB,WAAW,QAAQ;AACzC,gBAAQ;AAAA,MACZ;AAAA,IACJ;AACA,MAAE,iBAAiB,WAAW,QAAQ;AAAA,EAC1C,CAAC;AACL;;;AClCA,0BAAyB;;;ACTlB,IAAI;AAAA,CACV,SAAUC,UAAS;AAChB,EAAAA,SAAQA,SAAQ,iBAAiB,IAAI,CAAC,IAAI;AAC1C,EAAAA,SAAQA,SAAQ,uBAAuB,IAAI,CAAC,IAAI;AAChD,EAAAA,SAAQA,SAAQ,kBAAkB,IAAI,CAAC,IAAI;AAC/C,GAAG,YAAY,UAAU,CAAC,EAAE;AAC5B,SAAS,cAAc,KAAK;AACxB,QAAM,CAACC,OAAMC,OAAM,IAAI,IAAI,YAAY,EAAE,MAAM,GAAG;AAClD,SAAO,CAACD,OAAMC,WAAU,EAAE;AAC9B;AACA,IAAM,CAAC,MAAM,MAAM,IAAI,cAAc,UAAU,QAAQ;AAChD,SAAS,GAAGC,MAAK;AACpB,UAAQ,MAAM;AAAA,IACV,KAAK;AACD,cAAQA,MAAK;AAAA,QACT,KAAK,QAAQ;AAAiB,iBAAO;AAAA,QACrC,KAAK,QAAQ;AAAuB,iBAAO;AAAA,QAC3C,KAAK,QAAQ;AAAkB,iBAAO;AAAA,MAC1C;AACA;AAAA,IACJ,KAAK;AACD,cAAQA,MAAK;AAAA,QACT,KAAK,QAAQ;AAAiB,iBAAO;AAAA,QACrC,KAAK,QAAQ;AAAuB,iBAAO;AAAA,QAC3C,KAAK,QAAQ;AAAkB,iBAAO;AAAA,MAC1C;AACA;AAAA,IACJ,KAAK;AACD,cAAQA,MAAK;AAAA,QACT,KAAK,QAAQ;AAAiB,iBAAO;AAAA,QACrC,KAAK,QAAQ;AAAuB,iBAAO;AAAA,QAC3C,KAAK,QAAQ;AAAkB,iBAAO;AAAA,MAC1C;AACA;AAAA,EACR;AACA,UAAQA,MAAK;AAAA,IACT,KAAK,QAAQ;AAAiB,aAAO;AAAA,IACrC,KAAK,QAAQ;AAAuB,aAAO;AAAA,IAC3C,KAAK,QAAQ;AAAkB,aAAO;AAAA,EAC1C;AACA,SAAO;AACX;;;ADzCA,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAGA,IAAI,SAAS,IAAI,6BAAS;AAC1B,IAAI,2BAA2B;AAC/B,IAAI,2BAA2B;AAC/B,IAAI,0BAA0B;AAC9B,IAAI,0BAA0B;AAC9B,IAAI,CAAC,OAAO,0BAA0B,CAAC,OAAO,uBAAuB,mBAAmB;AACpF,6BAA2B;AAC/B;AACA,SAAS,2BAA2B;AAChC,SAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,QAAI,UAAU,eAAe,UAAU,YAAY,OAAO;AACtD,UAAI;AACA,YAAI,MAAM,MAAM,UAAU,YAAY,MAAM,EAAE,MAAM,SAAS,CAAC;AAC9D,kCAA0B,IAAI,UAAU;AACxC,mCAA2B,IAAI,UAAU;AAAA,MAC7C,SACO,IAAI;AAAA,MAAE;AAAA,IACjB;AAAA,EACJ,CAAC;AACL;AACA,yBAAyB;AAClB,SAAS,0BAA0B;AAAE,SAAO;AAA0B;AACtE,SAAS,0BAA0B;AAAE,SAAO;AAA0B;AACtE,SAAS,yBAAyB;AAAE,SAAO;AAAyB;AACpE,SAAS,yBAAyB;AAAE,SAAO;AAAyB;AACpE,SAAS,sBAAsB;AAAE,SAAO,2BAA2B;AAAyB;AAC5F,SAAS,uBAAuB;AAAE,SAAO,4BAA4B;AAA0B;AAC/F,SAAS,uBAAuB;AACnC,SAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAM,wBAAwB;AAC9B,UAAM,wBAAwB;AAAA,EAClC,CAAC;AACL;AACO,SAAS,0BAA0B;AACtC,SAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,QAAI;AACA,UAAI,MAAM,MAAM,UAAU,aAAa,aAAa;AAAA,QAChD,OAAO;AAAA,MACX,CAAC;AACD,UAAI,SAAS,IAAI,UAAU;AAC3B,aAAO,QAAQ,OAAK,EAAE,KAAK,CAAC;AAC5B,iCAA2B;AAC3B,gCAA0B;AAAA,IAC9B,SACO,KAAK;AACR,iCAA2B;AAC3B,gCAA0B;AAAA,IAC9B;AAAA,EACJ,CAAC;AACL;AACO,SAAS,0BAA0B;AACtC,SAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,QAAI,OAAO,0BAA0B,OAAO,uBAAuB,mBAAmB;AAClF,UAAI,mBAAmB,MAAM,OAAO,uBAAuB,kBAAkB;AAC7E,UAAI,qBAAqB,WAAW;AAChC,mCAA2B;AAC3B,kCAA0B;AAC1B,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,+BAA2B;AAC3B,8BAA0B;AAAA,EAC9B,CAAC;AACL;AACO,SAAS,sBAAsB;AAClC,SAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAM,yBAAyB;AAC/B,QAAI,qBAAqB,GAAG;AACxB,aAAO;AAAA,IACX;AACA,QAAIC,OAAM,SAAS,cAAc,KAAK;AACtC,IAAAA,KAAI,UAAU,IAAI,2BAA2B;AAC7C,IAAAA,KAAI,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAuCY,GAAG,QAAQ,eAAe,CAAC;AAAA,mCAC5B,GAAG,QAAQ,qBAAqB,CAAC;AAAA,wDACZ,GAAG,QAAQ,gBAAgB,CAAC;AAAA;AAAA;AAG5E,aAAS,KAAK,OAAOA,IAAG;AACxB,QAAI,SAASA,KAAI,cAAc,mCAAmC;AAClE,WAAO,MAAM,IAAI,QAAQ,aAAW;AAChC,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,iBAAiB,SAAS,MAAMD,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChI,cAAM,qBAAqB;AAC3B,QAAAC,KAAI,OAAO;AACX,eAAO,MAAM;AACT,gBAAM,UAAU;AAChB,cAAI,oBAAoB,GAAG;AACvB,oBAAQ,KAAK;AACb;AAAA,UACJ;AACA,cAAI,qBAAqB,GAAG;AACxB,oBAAQ,IAAI;AACZ;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ,CAAC,CAAC;AAAA,IACN,CAAC;AAAA,EACL,CAAC;AACL;AACA,SAAS,YAAY;AACjB,SAAO,IAAI,QAAQ,aAAW,sBAAsB,MAAM,QAAQ,CAAC,CAAC;AACxE;AACO,SAAS,qBAAqB;AACjC,UAAQ,OAAO,WAAW,EAAE,MAAM;AAAA,IAC9B,KAAK;AACD,+BAAyB;AACzB;AAAA,IACJ;AACI,4BAAsB;AACtB;AAAA,EACR;AACJ;AACA,SAAS,wBAAwB;AAC7B,MAAIA,OAAM,SAAS,cAAc,KAAK;AACtC,EAAAA,KAAI,UAAU,IAAI,2BAA2B;AAC7C,EAAAA,KAAI,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4ChB,WAAS,KAAK,OAAOA,IAAG;AACxB,MAAI,SAASA,KAAI,cAAc,kCAAkC;AACjE,aAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,iBAAiB,SAAS,MAAM,OAAO,SAAS,OAAO,CAAC;AACnH;AACA,SAAS,2BAA2B;AAChC,MAAIA,OAAM,SAAS,cAAc,KAAK;AACtC,EAAAA,KAAI,UAAU,IAAI,2BAA2B;AAC7C,EAAAA,KAAI,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4ChB,WAAS,KAAK,OAAOA,IAAG;AACxB,MAAI,SAASA,KAAI,cAAc,kCAAkC;AACjE,aAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,iBAAiB,SAAS,MAAM,OAAO,SAAS,OAAO,CAAC;AACnH;;;AEtQA,IAAI,WAAW,YAAY;AACpB,SAAS,YAAY,GAAG;AAC3B,aAAW;AACf;AACO,SAAS,SAAS,MAAM;AAC3B,MAAI,YAAY,YAAY;AACxB,YAAQ,IAAI,iBAAiB,GAAG,IAAI;AAC5C;AACO,SAAS,SAAS,MAAM;AAC3B,MAAI,YAAY,YAAY;AACxB,YAAQ,MAAM,kBAAkB,GAAG,IAAI;AAC/C;AACO,SAAS,UAAU,MAAM;AAC5B,MAAI,YAAY,YAAY;AACxB,YAAQ,IAAI,iBAAiB,GAAG,IAAI;AAC5C;;;ACdA,IAAI,iBAAiB;AACrB,IAAI,eAAe,oBAAI,IAAI;AACpB,SAAS,iBAAiB;AAC7B,MAAI,MAAO;AACX,eAAa,IAAI,KAAK,IAAI,SAAS,CAAC;AACpC,QAAM,yBAAyB;AAC/B,SAAO;AACX;AACO,SAAS,gBAAgB,GAAG;AAC/B,eAAa,OAAO,CAAC;AACzB;AACO,SAAS,YAAY,GAAG;AAC3B,SAAO,aAAa,IAAI,CAAC;AAC7B;AACO,IAAM,WAAN,MAAe;AAAA,EAClB,cAAc;AACV,SAAK,eAAe,IAAI,aAAa;AACrC,SAAK,mBAAmB,IAAI,aAAa,EAAE;AAC3C,SAAK,qBAAqB,IAAI,aAAa,EAAE;AAC7C,SAAK,cAAc,IAAI,aAAa;AACpC,SAAK,kBAAkB,IAAI,YAAY;AACvC,SAAK,YAAY,IAAI,aAAa;AAClC,SAAK,WAAW,IAAI,aAAa;AACjC,SAAK,qBAAqB;AAC1B,SAAK,gBAAgB;AACrB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,eAAe,IAAI,WAAW,UAAU,UAAU,UAAU;AACxD,QAAI,SAAS;AACb,QAAI,aAAa,IAAI,YAAY,EAAE;AACnC,QAAI,UAAU,IAAI,WAAW,EAAE;AAC/B,QAAI,YAAY,IAAI,aAAa,EAAE;AACnC,QAAI,aAAa,MAAM;AACnB,UAAI,KAAK,QAAQ,QAAQ;AACzB,UAAI,KAAK,QAAQ,QAAQ;AACzB,UAAI,OAAO,KAAK;AAChB,UAAI,MAAM,UAAU,SAAS,QAAQ,SAAS,IAAI;AAClD,gBAAU;AACV,aAAO;AAAA,IACX;AACA,QAAI,kBAAkB,MAAM;AACxB,UAAI,OAAO,QAAQ,QAAQ;AAC3B,UAAI,MAAM,WAAW,SAAS,SAAS,GAAG,SAAS,IAAI,IAAI;AAC3D,gBAAU,OAAO;AACjB,aAAO;AAAA,IACX;AACA,SAAK,eAAe,WAAW;AAC/B,SAAK,mBAAmB,WAAW;AACnC,SAAK,qBAAqB,WAAW;AACrC,SAAK,cAAc,WAAW;AAC9B,QAAI,cAAc,gBAAgB;AAClC,QAAI,eAAgB,SAAS,QAAQ,SAAU,gBAAgB,IAAI,IAAI,YAAY;AACnF,QAAI,iBAAkB,SAAS,QAAQ,SAAU,gBAAgB,IAAI,IAAI,YAAY;AACrF,QAAI,kBAAmB,SAAS,QAAQ,SAAU,gBAAgB,IAAI,IAAI,YAAY;AACtF,QAAI,cAAe,SAAS,QAAQ,SAAU,gBAAgB,IAAI,IAAI,YAAY;AAClF,QAAI,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,UAAU;AACnD,WAAK,kBAAkB;AAAA,IAC3B,OACK;AACD,UAAI,eAAe,YAAY;AAC/B,UAAI;AACA,wBAAgB,aAAa;AACjC,UAAI;AACA,wBAAgB,eAAe;AACnC,UAAI;AACA,wBAAgB,gBAAgB;AACpC,UAAI;AACA,wBAAgB,YAAY;AAChC,WAAK,kBAAkB,IAAI,YAAY,YAAY;AACnD,WAAK,gBAAgB,IAAI,aAAa,CAAC;AACvC,UAAI,OAAO,YAAY;AACvB,UAAI,WAAW;AACX,aAAK,gBAAgB,IAAI,cAAc,IAAI;AAC3C,gBAAQ,aAAa;AAAA,MACzB;AACA,UAAI,UAAU;AACV,aAAK,gBAAgB,IAAI,gBAAgB,IAAI;AAC7C,gBAAQ,eAAe;AAAA,MAC3B;AACA,UAAI,UAAU;AACV,aAAK,gBAAgB,IAAI,iBAAiB,IAAI;AAC9C,gBAAQ,gBAAgB;AAAA,MAC5B;AACA,UAAI,UAAU;AACV,aAAK,gBAAgB,IAAI,aAAa,IAAI;AAC1C,gBAAQ,YAAY;AAAA,MACxB;AAAA,IACJ;AACA,SAAK,YAAY,IAAI,aAAa,KAAK,YAAY;AACnD,SAAK,WAAW,IAAI,aAAa,KAAK,UAAU,MAAM;AACtD,SAAK;AAAA,EACT;AAAA,EACA,cAAc;AACV,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,SAAS;AACL,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,aAAa;AACT,QAAI,KAAK,WAAW;AAChB,UAAI,CAAC,KAAK,yBAAyB;AAC/B,aAAK,0BAA0B,IAAI,YAAY,KAAK,gBAAgB,MAAM;AAC1E,iBAAS,IAAI,GAAG,IAAI,KAAK,gBAAgB,QAAQ,KAAK,GAAG;AACrD,eAAK,wBAAwB,CAAC,IAAI,KAAK,gBAAgB,IAAI,CAAC;AAC5D,eAAK,wBAAwB,IAAI,CAAC,IAAI,KAAK,gBAAgB,IAAI,CAAC;AAChE,eAAK,wBAAwB,IAAI,CAAC,IAAI,KAAK,gBAAgB,CAAC;AAAA,QAChE;AAAA,MACJ;AACA,aAAO,KAAK;AAAA,IAChB;AACA,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,aAAa;AACT,QAAI,CAAC,KAAK;AACN,WAAK,iBAAiB;AAC1B,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,kBAAkB;AACd,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,yBAAyB,GAAG;AACxB,QAAI,OAAO;AAAA,MACP,KAAK,aAAa,IAAI,CAAC;AAAA,MACvB,KAAK,aAAa,IAAI,IAAI,CAAC;AAAA,MAC3B,KAAK,aAAa,IAAI,IAAI,CAAC;AAAA,IAC/B;AACA,QAAIC,YAAW,CAAC;AAChB,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,MAAAA,UAAS,KAAK,KAAK,iBAAkB,IAAI,IAAK,KAAK,CAAC,CAAC,GACjDA,UAAS,KAAK,KAAK,kBAAkB,IAAI,IAAI,KAAK,KAAK,CAAC,CAAC,GACzDA,UAAS,KAAK,KAAK,kBAAkB,IAAI,IAAI,KAAK,KAAK,CAAC,CAAC;AAAA,IACjE;AACA,QAAI,aAAa,CAAC;AAClB,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,iBAAW,KAAK,KAAK,mBAAoB,IAAI,IAAK,KAAK,CAAC,CAAC,GACrD,WAAW,KAAK,KAAK,oBAAoB,IAAI,IAAI,KAAK,KAAK,CAAC,CAAC,GAC7D,WAAW,KAAK,KAAK,oBAAoB,IAAI,IAAI,KAAK,KAAK,CAAC,CAAC;AAAA,IACrE;AACA,WAAO,EAAE,MAAM,UAAAA,WAAU,WAAW;AAAA,EACxC;AAAA,EACA,OAAOA,WAAU,YAAY,UAAU;AACnC,QAAI,KAAK,aAAa,WAAW;AAC7B;AACJ,QAAI,KAAK,iBAAiB,WAAW;AACjC;AACJ,QAAI,KAAK,mBAAmB,WAAW;AACnC;AACJ,SAAK,YAAY;AACjB,SAAK,UAAU,IAAI,KAAK,YAAY;AACpC,aAAS,IAAI,GAAG,IAAIA,UAAS,QAAQ,KAAK;AACtC,eAAS,IAAI,GAAG,IAAI,KAAK,UAAU,QAAQ,KAAK;AAC5C,aAAK,UAAU,CAAC,KAAKA,UAAS,CAAC,IAAI,KAAK,iBAAiB,IAAIA,UAAS,SAAS,CAAC;AAAA,MACpF;AAAA,IACJ;AACA,aAAS,IAAI,GAAG,IAAI,WAAW,QAAQ,KAAK;AACxC,eAAS,IAAI,GAAG,IAAI,KAAK,UAAU,QAAQ,KAAK;AAC5C,aAAK,UAAU,CAAC,KAAK,WAAW,CAAC,IAAI,KAAK,mBAAmB,IAAI,WAAW,SAAS,CAAC;AAAA,MAC1F;AAAA,IACJ;AACA,QAAI,UAAU;AACV,eAAS,IAAI,GAAG,IAAI,KAAK,UAAU,QAAQ,KAAK,GAAG;AAC/C,aAAK,UAAU,CAAC,KAAK;AAAA,MACzB;AAAA,IACJ;AACA,SAAK,qBAAqB;AAAA,EAC9B;AAAA,EACA,mBAAmB;AACf,QAAI,UAAU,KAAK,WAAW;AAC9B,QAAI,WAAW,KAAK;AACpB,QAAI,cAAc,IAAI,aAAa,QAAQ,MAAM;AACjD,QAAI,CAAC;AACD;AACJ,QAAI,OAAO,QAAQ;AACnB,QAAI,UAAU,KAAK;AACnB,QAAI,IAAI,IAAI,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC;AAClC,QAAI,IAAI,IAAI,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC;AAClC,QAAI,MAAM,IAAI,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC;AACpC,aAAS,IAAI,GAAG,IAAI,MAAM,KAAK,GAAG;AAC9B,UAAI,eAAe,QAAQ,CAAC,IAAI;AAChC,UAAI,eAAe,QAAQ,IAAI,CAAC,IAAI;AACpC,UAAI,eAAe,QAAQ,IAAI,CAAC,IAAI;AACpC,QAAE,CAAC,IAAI,SAAS,YAAY,IAAI,SAAS,YAAY;AACrD,QAAE,CAAC,IAAI,SAAS,eAAe,CAAC,IAAI,SAAS,eAAe,CAAC;AAC7D,QAAE,CAAC,IAAI,SAAS,eAAe,CAAC,IAAI,SAAS,eAAe,CAAC;AAC7D,QAAE,CAAC,IAAI,SAAS,YAAY,IAAI,SAAS,YAAY;AACrD,QAAE,CAAC,IAAI,SAAS,eAAe,CAAC,IAAI,SAAS,eAAe,CAAC;AAC7D,QAAE,CAAC,IAAI,SAAS,eAAe,CAAC,IAAI,SAAS,eAAe,CAAC;AAC7D,mBAAK,MAAM,KAAK,GAAG,CAAC;AACpB,UAAIC,UAAS,aAAK,OAAO,GAAG;AAC5B,kBAAY,CAAC,IAAI,IAAI,CAAC,IAAIA;AAC1B,kBAAY,IAAI,CAAC,IAAI,IAAI,CAAC,IAAIA;AAC9B,kBAAY,IAAI,CAAC,IAAI,IAAI,CAAC,IAAIA;AAAA,IAClC;AACA,YAAQ,KAAK,CAAC;AACd,aAAS,IAAI,GAAG,IAAI,MAAM,KAAK,GAAG;AAC9B,UAAI,eAAe,QAAQ,CAAC,IAAI;AAChC,UAAI,eAAe,QAAQ,IAAI,CAAC,IAAI;AACpC,UAAI,eAAe,QAAQ,IAAI,CAAC,IAAI;AACpC,cAAQ,YAAY,KAAK,YAAY,CAAC;AACtC,cAAQ,eAAe,CAAC,KAAK,YAAY,IAAI,CAAC;AAC9C,cAAQ,eAAe,CAAC,KAAK,YAAY,IAAI,CAAC;AAC9C,cAAQ,YAAY,KAAK,YAAY,CAAC;AACtC,cAAQ,eAAe,CAAC,KAAK,YAAY,IAAI,CAAC;AAC9C,cAAQ,eAAe,CAAC,KAAK,YAAY,IAAI,CAAC;AAC9C,cAAQ,YAAY,KAAK,YAAY,CAAC;AACtC,cAAQ,eAAe,CAAC,KAAK,YAAY,IAAI,CAAC;AAC9C,cAAQ,eAAe,CAAC,KAAK,YAAY,IAAI,CAAC;AAAA,IAClD;AACA,QAAI,gBAAgB,QAAQ,SAAS;AACrC,aAAS,IAAI,GAAG,IAAI,eAAe,KAAK;AACpC,UAAI,OAAO,IAAI;AACf,QAAE,CAAC,IAAI,QAAQ,IAAI;AACnB,QAAE,CAAC,IAAI,QAAQ,OAAO,CAAC;AACvB,QAAE,CAAC,IAAI,QAAQ,OAAO,CAAC;AACvB,mBAAK,UAAU,GAAG,CAAC;AACnB,cAAQ,IAAI,IAAI,EAAE,CAAC;AACnB,cAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;AACvB,cAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;AAAA,IAC3B;AACA,SAAK,qBAAqB;AAAA,EAC9B;AACJ;;;AC5NA,IAAIC,YAAW,aAAK,OAAO;AACpB,IAAM,aAAN,MAAiB;AAAA,EACpB,YAAY,KAAK;AACb,SAAK,MAAM;AAAA,EACf;AAAA,EACA,UAAU;AACN,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,SAAK,OAAO;AACZ,QAAI,KAAK;AACL,WAAK,IAAI,cAAc,KAAK,QAAQ,IAAI;AAC5C,SAAK,UAAU;AAAA,EACnB;AAAA,EACA,UAAU,IAAI,GAAG;AACb,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,QAAI,UAAU,IAAI,aAAa;AAAA,MAC3B;AAAA,MAAI;AAAA,MAAI;AAAA,MAAG;AAAA,MAAG;AAAA,MACd;AAAA,MAAI;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MACb;AAAA,MAAG;AAAA,MAAI;AAAA,MAAG;AAAA,MAAG;AAAA,MACb;AAAA,MAAG;AAAA,MAAI;AAAA,MAAG;AAAA,MAAG;AAAA,MACb;AAAA,MAAI;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MACb;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,IAChB,CAAC;AACD,OAAG,WAAW,GAAG,cAAc,KAAK,IAAI;AACxC,OAAG,WAAW,GAAG,cAAc,IAAI,aAAa,OAAO,GAAG,GAAG,WAAW;AACxE,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,gBAAgB,aAAa,cAAc,GAAG,QAAQ;AAClD,QAAI,CAAC,EAAE;AACH;AACJ,QAAI,KAAK,KAAK;AACd,OAAG,QAAQ,GAAG,UAAU;AACxB,OAAG,QAAQ,GAAG,YAAY;AAC1B,OAAG,QAAQ,GAAG,SAAS;AACvB,OAAG,QAAQ,GAAG,KAAK;AACnB,QAAIC,UAAS,KAAK,iBAAiB,EAAE;AACrC,QAAIC,OAAM,KAAK,UAAU,IAAI,CAAC;AAC9B,OAAG,cAAc,GAAG,QAAQ;AAC5B,OAAG,WAAWD,QAAO,IAAI;AACzB,OAAG,iBAAiBA,QAAO,uBAAuB,OAAO,yBAAyB,EAAE,WAAW,EAAE,YAAY,aAAa,cAAc,EAAE,eAAeD,WAAU,MAAM,CAAC;AAC1K,OAAG,UAAUC,QAAO,kBAAkB,CAAC;AACvC,OAAG,YAAY,GAAG,YAAY,EAAE,OAAO;AACvC,OAAG,WAAW,GAAG,cAAcC,IAAG;AAClC,OAAG,oBAAoBD,QAAO,eAAe,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AACzE,OAAG,wBAAwBA,QAAO,aAAa;AAC/C,OAAG,oBAAoBA,QAAO,eAAe,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,IAAI,CAAC;AAC7E,OAAG,wBAAwBA,QAAO,aAAa;AAC/C,OAAG,WAAW,GAAG,WAAW,GAAG,CAAC;AAChC,OAAG,yBAAyBA,QAAO,aAAa;AAChD,OAAG,yBAAyBA,QAAO,aAAa;AAChD,OAAG,YAAY,GAAG,YAAY,IAAI;AAClC,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,OAAG,WAAW,IAAI;AAAA,EACtB;AAAA,EACA,iBAAiB,IAAI;AACjB,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,QAAI,OAAO,GAAG,cAAc;AAC5B,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,0BAA0B;AAC9C,QAAI,eAAe,cAAc,IAAI,GAAG,eAAeE,gBAAe;AACtE,QAAI,iBAAiB,cAAc,IAAI,GAAG,iBAAiBC,kBAAiB;AAC5E,OAAG,aAAa,MAAM,YAAY;AAClC,OAAG,aAAa,MAAM,cAAc;AACpC,gBAAY,IAAI,IAAI;AACpB,QAAI,wBAAwB,GAAG,mBAAmB,MAAM,kBAAkB;AAC1E,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,iDAAiD;AACrE,QAAI,mBAAmB,GAAG,mBAAmB,MAAM,aAAa;AAChE,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,4CAA4C;AAChE,SAAK,UAAU;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA,eAAe,GAAG,kBAAkB,MAAM,UAAU;AAAA,MACpD,eAAe,GAAG,kBAAkB,MAAM,UAAU;AAAA,IACxD;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,IAAID,mBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBtB,IAAIC,qBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBxB,SAASC,sCAAqC;AAC1C,MAAI,OAAO,OAAO,eAAe,CAAC,QAAQ,wBAAwB;AAC9D,YAAQ,OAAO,OAAO,YAAY,MAAM;AAAA,MACpC,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX;AACI,eAAO;AAAA,IACf;AAAA,EACJ,WACS,OAAO,gBAAgB,QAAW;AACvC,YAAQ,OAAO,aAAa;AAAA,MACxB,KAAK;AAAG,eAAO;AAAA,MACf,KAAK;AAAI,eAAO;AAAA,MAChB,KAAK;AAAK,eAAO;AAAA,MACjB,KAAK;AAAK,eAAO;AAAA,IACrB;AAAA,EACJ;AACA,SAAO;AACX;AACO,SAAS,yBAAyB,YAAY,aAAa,aAAa,cAAc,UAAU,QAAQ;AAC3G,MAAI,MAAM,aAAK,OAAO;AACtB,MAAI,QAAQ,aAAK,OAAO;AAExB,eAAK,gBAAgB,OAAO,CAAC,MAAM,MAAM,CAAC,CAAC;AAC3C,eAAK,SAAS,KAAK,OAAO,GAAG;AAC7B,MAAI,QAAQ;AACR,iBAAK,YAAY,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,iBAAK,SAAS,KAAK,OAAO,GAAG;AAAA,EACjC;AAEA,eAAK,aAAa,OAAO,KAAKA,oCAAmC,IAAI,KAAK,KAAK,KAAO,CAAC,GAAG,GAAG,CAAC,CAAC;AAC/F,eAAK,SAAS,KAAK,OAAO,GAAG;AAE7B,MAAI,MAAM,aAAK,OAAO;AACtB,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,MAAI,CAAC,IAAI;AACT,eAAK,cAAc,KAAK,KAAK,KAAK;AAClC,MAAI,aAAa,KAAK,IAAI,IAAI,CAAC,CAAC;AAChC,MAAI,aAAa,KAAK,IAAI,IAAI,CAAC,CAAC;AAEhC,eAAK,YAAY,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;AAClC,eAAK,SAAS,KAAK,OAAO,GAAG;AAE7B,MAAI,eAAe,aAAa;AAChC,MAAI,cAAc,aAAa;AAC/B,MAAI,eAAe,aAAa;AAC5B,iBAAK,YAAY,OAAO,CAAC,GAAG,cAAc,cAAc,CAAC,CAAC;AAAA,EAC9D,OACK;AACD,iBAAK,YAAY,OAAO,CAAC,eAAe,aAAa,GAAG,CAAC,CAAC;AAAA,EAC9D;AACA,eAAK,SAAS,KAAK,OAAO,GAAG;AAE7B,eAAK,gBAAgB,OAAO,CAAC,KAAK,KAAK,CAAC,CAAC;AACzC,eAAK,SAAS,KAAK,OAAO,GAAG;AAE7B,eAAK,SAAS,KAAK,UAAU,GAAG;AAChC,SAAO;AACX;;;AC3LO,IAAM,WAAN,MAAe;AAAA,EAClB,YAAY,KAAK;AACb,SAAK,MAAM;AAAA,EACf;AAAA,EACA,UAAU;AACN,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,SAAS;AACxC,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,QAAI,KAAK;AACL,WAAK,IAAI,cAAc,KAAK,QAAQ,IAAI;AAC5C,SAAK,OAAO;AACZ,SAAK,YAAY;AACjB,SAAK,OAAO;AACZ,SAAK,UAAU;AAAA,EACnB;AAAA,EACA,aAAa,SAAS,IAAI;AACtB,QAAI,KAAK,QAAQ,KAAK,iBAAiB;AACnC,aAAO,KAAK;AAChB,SAAK,eAAe;AACpB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,sBAAsB,KAAK,IAAI;AAChD,OAAG,WAAW,GAAG,sBAAsB,SAAS,GAAG,WAAW;AAC9D,OAAG,WAAW,GAAG,sBAAsB,IAAI;AAC3C,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,aAAa,MAAM,IAAI;AACnB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,IAAI;AACxC,OAAG,WAAW,GAAG,cAAc,MAAM,GAAG,WAAW;AACnD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,kBAAkB,MAAM,IAAI;AACxB,QAAI,CAAC,KAAK;AACN,WAAK,YAAY,GAAG,aAAa;AACrC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,SAAS;AAC7C,OAAG,WAAW,GAAG,cAAc,MAAM,GAAG,WAAW;AACnD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,SAAS,QAAQ,GAAG;AAChB,QAAI,KAAK,KAAK;AACd,QAAIC,UAAS,KAAK,WAAW,EAAE;AAC/B,QAAI,IAAI,KAAK,aAAa,EAAE,YAAY,GAAG,EAAE;AAC7C,QAAI,IAAI,KAAK,kBAAkB,EAAE,WAAW,GAAG,EAAE;AACjD,QAAI,IAAI,KAAK,aAAa,EAAE,WAAW,GAAG,EAAE;AAC5C,OAAG,OAAO,GAAG,UAAU;AACvB,OAAG,OAAO,GAAG,SAAS;AACtB,OAAG,WAAWA,QAAO,IAAI;AACzB,OAAG,iBAAiBA,QAAO,aAAa,OAAO,MAAM;AACrD,OAAG,WAAW,GAAG,cAAc,CAAC;AAChC,OAAG,oBAAoBA,QAAO,eAAe,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AACzE,OAAG,wBAAwBA,QAAO,aAAa;AAC/C,OAAG,WAAW,GAAG,cAAc,CAAC;AAChC,OAAG,oBAAoBA,QAAO,aAAa,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AACvE,OAAG,wBAAwBA,QAAO,WAAW;AAC7C,OAAG,WAAW,GAAG,sBAAsB,CAAC;AACxC,OAAG,aAAa,GAAG,WAAW,EAAE,WAAW,EAAE,QAAQ,GAAG,gBAAgB,CAAC;AACzE,OAAG,yBAAyBA,QAAO,aAAa;AAChD,OAAG,yBAAyBA,QAAO,WAAW;AAC9C,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,OAAG,WAAW,GAAG,sBAAsB,IAAI;AAAA,EAC/C;AAAA,EACA,WAAW,IAAI;AACX,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,QAAI,OAAO,GAAG,cAAc;AAC5B,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,0BAA0B;AAC9C,QAAI,eAAe,cAAc,IAAI,GAAG,eAAeC,gBAAe;AACtE,QAAI,iBAAiB,cAAc,IAAI,GAAG,iBAAiBC,kBAAiB;AAC5E,OAAG,aAAa,MAAM,YAAY;AAClC,OAAG,aAAa,MAAM,cAAc;AACpC,gBAAY,IAAI,IAAI;AACpB,QAAI,cAAc,GAAG,mBAAmB,MAAM,QAAQ;AACtD,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,wCAAwC;AAC5D,SAAK,UAAU;AAAA,MACX;AAAA,MACA;AAAA,MACA,eAAe,GAAG,kBAAkB,MAAM,UAAU;AAAA,MACpD,aAAa,GAAG,kBAAkB,MAAM,QAAQ;AAAA,IACpD;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,IAAID,mBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBtB,IAAIC,qBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AClHjB,IAAM,kBAAN,MAAsB;AAAA,EACzB,YAAY,KAAK;AACb,SAAK,MAAM;AAAA,EACf;AAAA,EACA,UAAU;AACN,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,KAAK;AACpC,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,QAAI,KAAK;AACL,WAAK,IAAI,cAAc,KAAK,QAAQ,IAAI;AAC5C,SAAK,OAAO;AACZ,SAAK,QAAQ;AACb,SAAK,OAAO;AACZ,SAAK,UAAU;AAAA,EACnB;AAAA,EACA,aAAa,SAAS,IAAI;AACtB,QAAI,KAAK,QAAQ,KAAK,iBAAiB;AACnC,aAAO,KAAK;AAChB,SAAK,eAAe;AACpB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,sBAAsB,KAAK,IAAI;AAChD,OAAG,WAAW,GAAG,sBAAsB,SAAS,GAAG,WAAW;AAC9D,OAAG,WAAW,GAAG,sBAAsB,IAAI;AAC3C,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,aAAa,MAAM,IAAI;AACnB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,IAAI;AACxC,OAAG,WAAW,GAAG,cAAc,MAAM,GAAG,WAAW;AACnD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,cAAc,MAAM,IAAI;AACpB,QAAI,CAAC,KAAK;AACN,WAAK,QAAQ,GAAG,aAAa;AACjC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,KAAK;AACzC,OAAG,WAAW,GAAG,cAAc,MAAM,GAAG,WAAW;AACnD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,SAAS,QAAQ,UAAU,UAAU,KAAK,SAAS,SAAS;AACxD,QAAI,KAAK,KAAK;AACd,QAAIC,UAAS,KAAK,WAAW,EAAE;AAC/B,QAAI,IAAI,KAAK,aAAa,UAAU,EAAE;AACtC,QAAI,IAAI,KAAK,cAAc,KAAK,EAAE;AAClC,QAAI,IAAI,KAAK,aAAa,SAAS,EAAE;AACrC,OAAG,OAAO,GAAG,UAAU;AACvB,OAAG,OAAO,GAAG,SAAS;AAItB,OAAG,WAAWA,QAAO,IAAI;AACzB,OAAG,iBAAiBA,QAAO,aAAa,OAAO,MAAM;AACrD,OAAG,iBAAiBA,QAAO,eAAe,OAAO,QAAQ;AACzD,OAAG,cAAc,GAAG,QAAQ;AAC5B,OAAG,YAAY,GAAG,YAAY,OAAO;AACrC,OAAG,UAAUA,QAAO,cAAc,CAAC;AACnC,OAAG,WAAW,GAAG,cAAc,CAAC;AAChC,OAAG,oBAAoBA,QAAO,eAAe,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AACzE,OAAG,wBAAwBA,QAAO,aAAa;AAC/C,OAAG,WAAW,GAAG,cAAc,CAAC;AAChC,OAAG,oBAAoBA,QAAO,SAAS,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AACnE,OAAG,wBAAwBA,QAAO,OAAO;AACzC,OAAG,WAAW,GAAG,sBAAsB,CAAC;AACxC,OAAG,aAAa,GAAG,WAAW,OAAO,GAAG,GAAG,gBAAgB,CAAC;AAC5D,OAAG,yBAAyBA,QAAO,aAAa;AAChD,OAAG,yBAAyBA,QAAO,OAAO;AAC1C,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,OAAG,WAAW,GAAG,sBAAsB,IAAI;AAAA,EAC/C;AAAA,EACA,WAAW,IAAI;AACX,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,QAAI,OAAO,GAAG,cAAc;AAC5B,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,0BAA0B;AAC9C,QAAI,eAAe,cAAc,IAAI,GAAG,eAAeC,gBAAe;AACtE,QAAI,iBAAiB,cAAc,IAAI,GAAG,iBAAiBC,kBAAiB;AAC5E,OAAG,aAAa,MAAM,YAAY;AAClC,OAAG,aAAa,MAAM,cAAc;AACpC,gBAAY,IAAI,IAAI;AACpB,QAAI,cAAc,GAAG,mBAAmB,MAAM,QAAQ;AACtD,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,uCAAuC;AAC3D,QAAI,gBAAgB,GAAG,mBAAmB,MAAM,UAAU;AAC1D,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,uCAAuC;AAC3D,QAAI,eAAe,GAAG,mBAAmB,MAAM,UAAU;AACzD,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,wCAAwC;AAC5D,SAAK,UAAU;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,eAAe,GAAG,kBAAkB,MAAM,UAAU;AAAA,MACpD,SAAS,GAAG,kBAAkB,MAAM,IAAI;AAAA,MACxC,mBAAmB,GAAG,kBAAkB,MAAM,eAAe;AAAA,IACjE;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,IAAID,mBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BtB,IAAIC,qBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AC9IjB,IAAI;AAAA,CACV,SAAUC,6BAA4B;AACnC,EAAAA,4BAA2BA,4BAA2B,cAAc,IAAI,CAAC,IAAI;AAC7E,EAAAA,4BAA2BA,4BAA2B,eAAe,IAAI,CAAC,IAAI;AAC9E,EAAAA,4BAA2BA,4BAA2B,eAAe,IAAI,CAAC,IAAI;AAC9E,EAAAA,4BAA2BA,4BAA2B,UAAU,IAAI,CAAC,IAAI;AACzE,EAAAA,4BAA2BA,4BAA2B,iBAAiB,IAAI,CAAC,IAAI;AACpF,GAAG,+BAA+B,6BAA6B,CAAC,EAAE;AAC3D,IAAM,mBAAN,MAAM,kBAAiB;AAAA,EAC1B,YAAY,iBAAiB;AACzB,SAAK,iBAAiB;AACtB,SAAK,iBAAiB;AACtB,SAAK,WAAW;AAChB,SAAK,uBAAuB;AAC5B,SAAK,QAAQ,IAAI,YAAY,KAAK,eAAe,iBAAiB,KAAK,GAAG,CAAC;AAC3E,SAAK,YAAY,IAAI,SAAS,KAAK,KAAK;AACxC,SAAK,aAAa,IAAI,WAAW,KAAK,KAAK;AAC3C,SAAK,eAAe,IAAI,aAAa,KAAK,KAAK;AAAA,EACnD;AAAA,EACA,eAAe,QAAQ,kBAAkB,mBAAmB;AACxD,WAAO,kBAAiB,mBAAmB,kBAAiB,gBAAgB,kBAAiB,wBAAwB,mBAAmB,qBAAqB;AAAA,EACjK;AAAA,EACA,QAAQ;AACJ,SAAK,WAAW;AAChB,SAAK,iBAAiB;AACtB,SAAK,iBAAiB;AACtB,SAAK,iBAAiB,kBAAiB,eAAe;AACtD,QAAI,MAAM,IAAI,YAAY;AAC1B,QAAI,aAAa,IAAI,OAAO,MAAM;AAClC,SAAK,WAAW,IAAI,UAAU;AAC9B,SAAK,UAAU,UAAU,GAAG,GAAG,IAAI;AACnC,SAAK,kBAAkB;AAAA,EAC3B;AAAA,EACA,OAAO;AACH,SAAK,WAAW;AAChB,QAAI,UAAU,KAAK,MAAM,MAAM,GAAG,KAAK,cAAc;AACrD,SAAK,QAAQ;AACb,SAAK,aAAa,IAAI,WAAW,KAAK,KAAK;AAC3C,SAAK,eAAe,IAAI,aAAa,KAAK,KAAK;AAC/C,SAAK,YAAY,IAAI,SAAS,KAAK,KAAK;AAAA,EAC5C;AAAA,EACA,OAAO;AACH,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,kBAAkB,GAAG;AACjB,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,EAAE,MAAM;AACT,UAAI,KAAK;AACL;AACJ,WAAK,uBAAuB;AAC5B,YAAM,iDAAiD;AACvD;AAAA,IACJ;AACA,QAAI,EAAE,KAAK,eAAgB,EAAE,YAAY,EAAE,YAAa;AACpD,YAAM,8EAA8E;AACpF;AAAA,IACJ;AACA,QAAI,YAAY,kBAAiB,gBAAgB,kBAAiB,wBAAyB,EAAE,YAAY,EAAE;AAC3G,SAAK,iBAAiB,SAAS;AAC/B,SAAK,UAAU,UAAU,KAAK,gBAAgB,2BAA2B,cAAc,IAAI;AAC3F,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,UAAU,UAAU,KAAK,gBAAgB,EAAE,WAAW,IAAI;AAC/D,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,UAAU,UAAU,KAAK,gBAAgB,EAAE,YAAY,IAAI;AAChE,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,aAAa,IAAI,EAAE,gBAAgB,KAAK,iBAAiB,CAAC;AAC/D,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,aAAa,IAAI,EAAE,aAAa,KAAK,iBAAiB,CAAC;AAC5D,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,UAAU,UAAU,KAAK,gBAAgB,EAAE,aAAa,IAAI,GAAG,IAAI;AACxE,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,WAAW,IAAI,IAAI,WAAW,EAAE,IAAI,GAAG,KAAK,cAAc;AAC/D,SAAK,kBAAkB,EAAE,KAAK;AAC9B,SAAK;AACL,SAAK,UAAU,UAAU,GAAG,KAAK,gBAAgB,IAAI;AAAA,EACzD;AAAA,EACA,oBAAoB,GAAG,GAAG,GAAGC,IAAG;AAC5B,SAAK,uBAAuB,2BAA2B,eAAe,GAAG,GAAG,GAAGA,EAAC;AAAA,EACpF;AAAA,EACA,mBAAmB,GAAG,GAAG,GAAGA,IAAG;AAC3B,SAAK,uBAAuB,2BAA2B,eAAe,GAAG,GAAG,GAAGA,EAAC;AAAA,EACpF;AAAA,EACA,eAAe,GAAG,GAAG,GAAGA,IAAG;AACvB,SAAK,uBAAuB,2BAA2B,UAAU,GAAG,GAAG,GAAGA,EAAC;AAAA,EAC/E;AAAA,EACA,uBAAuB,MAAM,GAAG,GAAG,GAAGA,IAAG;AACrC,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,YAAY,kBAAiB,gBAAgB,kBAAiB;AAClE,SAAK,iBAAiB,SAAS;AAC/B,SAAK,UAAU,UAAU,KAAK,gBAAgB,MAAM,IAAI;AACxD,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,UAAU,UAAU,KAAK,gBAAgB,GAAG,IAAI;AACrD,SAAK,kBAAkB;AACvB,SAAK,UAAU,WAAW,KAAK,gBAAgB,GAAG,IAAI;AACtD,SAAK,kBAAkB;AACvB,SAAK,UAAU,WAAW,KAAK,gBAAgB,GAAG,IAAI;AACtD,SAAK,kBAAkB;AACvB,SAAK,UAAU,WAAW,KAAK,gBAAgBA,IAAG,IAAI;AACtD,SAAK,kBAAkB;AACvB,SAAK;AACL,SAAK,UAAU,UAAU,GAAG,KAAK,gBAAgB,IAAI;AAAA,EACzD;AAAA,EACA,qBAAqB,GAAG;AACpB,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,YAAY,kBAAiB,gBAAgB,kBAAiB;AAClE,SAAK,iBAAiB,SAAS;AAC/B,SAAK,UAAU,UAAU,KAAK,gBAAgB,2BAA2B,iBAAiB,IAAI;AAC9F,SAAK,kBAAkB,kBAAiB;AACxC,SAAK,aAAa,IAAI,GAAG,KAAK,iBAAiB,CAAC;AAChD,SAAK,kBAAkB,kBAAiB;AACxC,SAAK;AACL,SAAK,UAAU,UAAU,GAAG,KAAK,gBAAgB,IAAI;AAAA,EACzD;AAAA,EACA,iBAAiB,mBAAmB;AAChC,WAAO,KAAK,iBAAiB,oBAAoB,KAAK,MAAM,YAAY;AACpE,UAAI,UAAU,KAAK,IAAI,KAAK,MAAM,aAAa,GAAG,KAAK,eAAe,IAAI,KAAK,GAAG,CAAC;AACnF,UAAI,UAAU,IAAI,YAAY,OAAO;AACrC,UAAI,eAAe,IAAI,WAAW,OAAO;AACzC,mBAAa,IAAI,KAAK,UAAU;AAChC,WAAK,QAAQ;AACb,WAAK,aAAa;AAClB,WAAK,eAAe,IAAI,aAAa,KAAK,KAAK;AAC/C,WAAK,YAAY,IAAI,SAAS,KAAK,KAAK;AAAA,IAC5C;AAAA,EACJ;AACJ;AAEA,iBAAiB,kBAAkB;AAEnC,iBAAiB,gBAAgB;AAEjC,iBAAiB,sBAAsB;AACvC,iBAAiB,uBAAuB;AACxC,iBAAiB,WAAW;AAC5B,iBAAiB,6BAA6B,IAAI;AAClD,iBAAiB,iBAAiB,IAAI;AACtC,iBAAiB,wBAAwB,iBAAiB,sBACtD,iBAAiB,uBACjB,iBAAiB,6BACjB,iBAAiB,iBACjB,iBAAiB;AAErB,iBAAiB,+BAA+B,IAAI;AAEpD,iBAAiB,8BAA8B,IAAI;AAEnD,iBAAiB,0BAA0B,IAAI;AAE/C,iBAAiB,gCAAgC,IAAI;AAC9C,IAAM,kBAAN,MAAsB;AAAA,EACzB,YAAY,OAAO;AACf,SAAK,QAAQ;AACb,SAAK,eAAe,oBAAI,IAAI;AAC5B,SAAK,oBAAoB,oBAAI,IAAI;AACjC,SAAK,gBAAgB;AACrB,SAAK,qBAAqB;AAC1B,SAAK,6BAA6B;AAClC,SAAK,4BAA4B;AACjC,SAAK,wBAAwB;AAC7B,SAAK,8BAA8B;AACnC,QAAI,MAAM,IAAI,YAAY;AAC1B,QAAI,MAAM;AACV,QAAI;AACA,YAAM,IAAI,OAAO,KAAK,MAAM,MAAM,GAAG,CAAC,CAAC;AAAA,IAC3C,SACO,KAAK;AACR,YAAM,IAAI,MAAM,+DAA+D;AAAA,IACnF;AACA,QAAI,QAAQ,QAAQ;AAChB,YAAM,IAAI,MAAM,iDAAiD,GAAG,EAAE;AAAA,IAC1E;AACA,QAAI,YAAY;AAChB,QAAI,WAAW,IAAI,SAAS,KAAK,KAAK;AACtC,SAAK,gBAAgB,SAAS,UAAU,GAAG,IAAI;AAC/C,iBAAa,iBAAiB;AAC9B,aAAS,IAAI,GAAG,IAAI,KAAK,eAAe,KAAK;AACzC,UAAI,OAAO,SAAS,UAAU,WAAW,IAAI;AAC7C,mBAAa,iBAAiB;AAC9B,cAAQ,MAAM;AAAA,QACV,KAAK,2BAA2B,cAC5B;AACI,cAAI,QAAQ,SAAS,UAAU,WAAW,IAAI;AAC9C,uBAAa,iBAAiB;AAC9B,cAAI,SAAS,SAAS,UAAU,WAAW,IAAI;AAC/C,uBAAa,iBAAiB;AAC9B,cAAI,iBAAiB,IAAI,aAAa,KAAK,OAAO,WAAW,iBAAiB,6BAA6B,CAAC;AAC5G,uBAAa,iBAAiB;AAC9B,cAAI,cAAc,IAAI,aAAa,KAAK,OAAO,WAAW,iBAAiB,iBAAiB,CAAC;AAC7F,uBAAa,iBAAiB;AAC9B,cAAI,QAAQ,SAAS,UAAU,WAAW,IAAI;AAC9C,uBAAa,iBAAiB;AAC9B,cAAI,aAAa,UAAU;AAC3B,cAAI,YAAY,IAAI,WAAW,KAAK,OAAO,WAAW,QAAQ,MAAM;AACpE,uBAAa,QAAQ;AACrB,cAAI,IAAI;AAAA,YACJ,MAAM,2BAA2B;AAAA,YACjC;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACJ;AACA,eAAK,aAAa,IAAI,GAAG,CAAC;AAC1B,eAAK,kBAAkB,IAAI,KAAK,oBAAoB,CAAC;AACrD,eAAK;AACL;AAAA,QACJ;AAAA,QACJ,KAAK,2BAA2B,eAC5B;AACI,cAAI,IAAI,SAAS,UAAU,WAAW,IAAI;AAC1C,uBAAa;AACb,cAAI,IAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,cAAI,IAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,cAAIA,KAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,eAAK,aAAa,IAAI,GAAG;AAAA,YACrB,MAAM,2BAA2B;AAAA,YACjC;AAAA,YAAG;AAAA,YAAG;AAAA,YAAG,GAAAA;AAAA,UACb,CAAC;AACD,eAAK;AACL;AAAA,QACJ;AAAA,QACJ,KAAK,2BAA2B,eAC5B;AACI,cAAI,IAAI,SAAS,UAAU,WAAW,IAAI;AAC1C,uBAAa;AACb,cAAI,IAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,cAAI,IAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,cAAIA,KAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,eAAK,aAAa,IAAI,GAAG;AAAA,YACrB,MAAM,2BAA2B;AAAA,YACjC;AAAA,YAAG;AAAA,YAAG;AAAA,YAAG,GAAAA;AAAA,UACb,CAAC;AACD,eAAK;AACL;AAAA,QACJ;AAAA,QACJ,KAAK,2BAA2B,UAC5B;AACI,cAAI,IAAI,SAAS,UAAU,WAAW,IAAI;AAC1C,uBAAa;AACb,cAAI,IAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,cAAI,IAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,cAAIA,KAAI,SAAS,WAAW,WAAW,IAAI;AAC3C,uBAAa;AACb,eAAK,aAAa,IAAI,GAAG;AAAA,YACrB,MAAM,2BAA2B;AAAA,YACjC;AAAA,YAAG;AAAA,YAAG;AAAA,YAAG,GAAAA;AAAA,UACb,CAAC;AACD,eAAK;AACL;AAAA,QACJ;AAAA,QACJ,KAAK,2BAA2B,iBAC5B;AACI,cAAI,WAAW,IAAI,aAAa,KAAK,OAAO,WAAW,iBAAiB,gCAAgC,CAAC;AACzG,uBAAa,iBAAiB;AAC9B,eAAK,aAAa,IAAI,GAAG;AAAA,YACrB,MAAM,2BAA2B;AAAA,YACjC;AAAA,UACJ,CAAC;AACD,eAAK;AACL;AAAA,QACJ;AAAA,MACR;AAAA,IACJ;AAAA,EACJ;AACJ;;;ACrRO,IAAM,SAAN,MAAa;AACpB;;;ACDA,IAAM,WAAW,oBAAI,IAAI;AAClB,IAAM,iBAAN,MAAM,gBAAe;AAAA,EACxB,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,aAAa,CAAC;AACnB,SAAK,sBAAsB,KAAK,IAAI;AACpC,SAAK,WAAW,KAAK,KAAK,IAAI,aAAa,KAAK,IAAI,QAAQ,CAAC;AAC7D,SAAK,IAAI,WAAW,CAAC,GAAG,GAAG,OAAO,WAAW;AACzC,WAAK,WAAW,KAAK,WAAW,SAAS,CAAC,IAAI,CAAC,GAAG,GAAG,OAAO,MAAM;AAClE,WAAK,oBAAoB,KAAK,KAAK,KAAK,GAAG,GAAG,OAAO,MAAM;AAAA,IAC/D;AAAA,EACJ;AAAA,EACA,OAAO,IAAI,IAAI;AACX,QAAI,WAAW,SAAS,IAAI,EAAE;AAC9B,QAAI,CAAC,UAAU;AACX,iBAAW,IAAI,gBAAe,EAAE;AAChC,eAAS,IAAI,IAAI,QAAQ;AAAA,IAC7B;AACA,WAAO;AAAA,EACX;AAAA,EACA,OAAO;AACH,SAAK,WAAW,KAAK,KAAK,WAAW,KAAK,WAAW,SAAS,CAAC,CAAC;AAAA,EACpE;AAAA,EACA,MAAM;AACF,UAAM,UAAU,KAAK,WAAW,IAAI;AACpC,UAAM,OAAO,KAAK,WAAW,KAAK,WAAW,SAAS,CAAC;AACvD,QAAI,CAAC,WAAW,QAAQ,CAAC,MAAM,KAAK,CAAC,KAAK,QAAQ,CAAC,MAAM,KAAK,CAAC,KAAK,QAAQ,CAAC,MAAM,KAAK,CAAC,KAAK,QAAQ,CAAC,MAAM,KAAK,CAAC,GAAG;AAClH,WAAK,oBAAoB,KAAK,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,IAC9E;AAAA,EACJ;AACJ;;;AC1BO,IAAM,iBAAN,MAAqB;AAAA,EACxB,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,YAAY;AACjB,SAAK,aAAa;AAClB,SAAK,gBAAgB;AACrB,SAAK,0BAA0B;AAC/B,SAAK,iBAAiB;AACtB,SAAK,6BAA6B;AAClC,SAAK,+BAA+B;AACpC,SAAK,qBAAqB,aAAK,OAAO;AACtC,SAAK,oBAAoB;AACzB,SAAK,qBAAqB;AAC1B,SAAK,iBAAiB;AACtB,SAAK,iBAAiB;AACtB,SAAK,YAAY;AACjB,SAAK,YAAY,IAAI,aAAa,IAAI,OAAO,EAAE,QAAQ,SAAS,KAAK;AACrE,QAAI,CAAC,KAAK,WAAW;AACjB,WAAK,4BAA4B,KAAK,IAAI,aAAa,wBAAwB;AAAA,IACnF;AAAA,EACJ;AAAA,EACA,iBAAiB;AACb,SAAK,iBAAiB;AACtB,SAAK,iBAAiB;AACtB,SAAK,gBAAgB;AACrB,SAAK,eAAe;AACpB,SAAK,mBAAmB;AAAA,EAC5B;AAAA,EACA,UAAU;AACN,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,YAAY,SAAS,KAAK,UAAU,IAAI;AACpC,QAAI,KAAK,KAAK;AACd,UAAM,iBAAiB,eAAe,IAAI,EAAE;AAC5C,mBAAe,KAAK;AACpB,UAAM,sBAAsB,GAAG,UAAU,GAAG,YAAY;AACxD,UAAM,oBAAoB,GAAG,UAAU,GAAG,UAAU;AACpD,UAAM,gBAAgB,GAAG,UAAU,GAAG,KAAK;AAC3C,UAAM,mBAAmB,GAAG,UAAU,GAAG,SAAS;AAClD,UAAM,sBAAsB,GAAG,UAAU,GAAG,YAAY;AACxD,UAAM,wBAAwB,GAAG,aAAa,GAAG,cAAc;AAC/D,UAAM,qBAAqB,GAAG,aAAa,GAAG,mBAAmB;AACjE,UAAM,kBAAkB,GAAG,aAAa,GAAG,eAAe;AAC1D,OAAG,cAAc,GAAG,QAAQ;AAC5B,UAAM,uBAAuB,GAAG,aAAa,GAAG,kBAAkB;AAClE,UAAM,2BAA2B,GAAG,aAAa,GAAG,mBAAmB;AACvE,UAAM,2BAA2B,GAAG,aAAa,GAAG,oBAAoB;AACxE,UAAM,kCAAkC,GAAG,aAAa,GAAG,4BAA4B;AACvF,OAAG,QAAQ,GAAG,YAAY;AAC1B,OAAG,QAAQ,GAAG,UAAU;AACxB,OAAG,QAAQ,GAAG,KAAK;AACnB,OAAG,QAAQ,GAAG,SAAS;AACvB,OAAG,QAAQ,GAAG,YAAY;AAC1B,OAAG,YAAY,GAAG,qBAAqB,KAAK;AAC5C,OAAG,YAAY,GAAG,YAAY,OAAO;AACrC,UAAM,QAAQ;AACd,UAAM,iBAAiB,GAAG;AAC1B,UAAM,YAAY,GAAG;AACrB,UAAM,UAAU,GAAG;AACnB,OAAG,WAAW,GAAG,YAAY,OAAO,gBAAgB,WAAW,SAAS,GAAG;AAC3E,QAAI,aAAa;AACjB,QAAI,cAAc;AAClB,QAAI,OAAO,qBAAqB,eAAe,eAAe,kBAAkB;AAC5E,mBAAa,IAAI;AACjB,oBAAc,IAAI;AAAA,IACtB,OACK;AACD,mBAAa,IAAI;AACjB,oBAAc,IAAI;AAAA,IACtB;AACA,QAAI,cAAc;AACd,oBAAc,CAAC,YAAY,aAAa,WAAW,EAAE,CAAC;AAC1D,SAAK,kBAAkB,UAAU,EAAE;AACnC,QAAI,cAAc,KAAK,gBAAgB,IAAI,QAAQ,YAAY,GAAG,QAAQ,UAAU;AACpF,QAAIC,OAAM,KAAK,iBAAiB,EAAE;AAClC,QAAI,MAAM,KAAK,gBAAgB,EAAE;AACjC,QAAIC,UAAS,KAAK,oBAAoB,EAAE;AACxC,UAAM,2BAA2B,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,wBAAwB;AAC1G,UAAM,2BAA2B,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,wBAAwB;AAC1G,UAAM,iCAAiC,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,8BAA8B;AACtH,UAAM,6BAA6B,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,0BAA0B;AAC9G,UAAM,6BAA6B,GAAG,sBAAsBA,QAAO,oBAAoB,GAAG,2BAA2B;AACrH,UAAM,8BAA8B,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,2BAA2B;AAChH,UAAM,oCAAoC,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,kCAAkC;AAC7H,UAAM,4BAA4B,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,wBAAwB;AACzG,UAAM,4BAA4B,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,wBAAwB;AACzG,UAAM,kCAAkC,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,8BAA8B;AACrH,UAAM,8BAA8B,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,0BAA0B;AAC7G,UAAM,8BAA8B,GAAG,sBAAsBA,QAAO,kBAAkB,GAAG,2BAA2B;AACpH,UAAM,qCAAqC,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,kCAAkC;AAC5H,UAAM,+BAA+B,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,2BAA2B;AAC/G,QAAI,8BAA8B;AAClC,QAAI,+BAA+B;AACnC,QAAI,KAAK,WAAW;AAChB,oCAA8B,GAAG,gBAAgBA,QAAO,oBAAoB,GAAG,2BAA2B;AAC1G,qCAA+B,GAAG,gBAAgBA,QAAO,kBAAkB,GAAG,2BAA2B;AACzG,SAAG,oBAAoBA,QAAO,oBAAoB,CAAC;AACnD,SAAG,oBAAoBA,QAAO,kBAAkB,CAAC;AAAA,IACrD,WACS,KAAK,2BAA2B;AACrC,oCAA8B,GAAG,gBAAgBA,QAAO,oBAAoB,KAAK,0BAA0B,iCAAiC;AAC5I,qCAA+B,GAAG,gBAAgBA,QAAO,kBAAkB,KAAK,0BAA0B,iCAAiC;AAC3I,WAAK,0BAA0B,yBAAyBA,QAAO,oBAAoB,CAAC;AACpF,WAAK,0BAA0B,yBAAyBA,QAAO,kBAAkB,CAAC;AAAA,IACtF;AAEA,OAAG,gBAAgB,GAAG,aAAa,WAAW;AAC9C,OAAG,SAAS,GAAG,GAAG,KAAK,mBAAmB,KAAK,kBAAkB;AAEjE,OAAG,MAAM,GAAG,gBAAgB;AAE5B,OAAG,WAAW,GAAG,cAAcD,IAAG;AAClC,OAAG,oBAAoBC,QAAO,oBAAoB,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,CAAC;AAC9E,OAAG,wBAAwBA,QAAO,kBAAkB;AACpD,OAAG,oBAAoBA,QAAO,kBAAkB,GAAG,GAAG,OAAO,OAAO,IAAI,GAAG,IAAI,CAAC;AAChF,OAAG,wBAAwBA,QAAO,gBAAgB;AAElD,OAAG,WAAW,GAAG,sBAAsB,GAAG;AAE1C,OAAG,WAAWA,QAAO,OAAO;AAE5B,OAAG,UAAUA,QAAO,cAAc,QAAQ,SAAS;AACnD,OAAG,iBAAiBA,QAAO,iBAAiB,OAAO,KAAK,kBAAkB;AAC1E,OAAG,cAAc,GAAG,QAAQ;AAE5B,OAAG,YAAY,GAAG,YAAY,OAAO;AAErC,OAAG,UAAUA,QAAO,aAAa,CAAC;AAElC,OAAG,aAAa,GAAG,WAAW,GAAG,GAAG,gBAAgB,CAAC;AACrD,OAAG,WAAW,GAAG,cAAc,iCAAiC;AAChE,OAAG,oBAAoBA,QAAO,oBAAoB,0BAA0B,0BAA0B,gCAAgC,4BAA4B,0BAA0B;AAC5L,OAAG,WAAW,GAAG,cAAc,kCAAkC;AACjE,OAAG,oBAAoBA,QAAO,kBAAkB,2BAA2B,2BAA2B,iCAAiC,6BAA6B,2BAA2B;AAC/L,OAAG,WAAW,GAAG,cAAc,wBAAwB;AACvD,OAAG,WAAW,GAAG,sBAAsB,+BAA+B;AACtE,QAAI,CAAC;AACD,SAAG,yBAAyBA,QAAO,kBAAkB;AACzD,QAAI,CAAC;AACD,SAAG,yBAAyBA,QAAO,gBAAgB;AACvD,QAAI,KAAK,WAAW;AAChB,SAAG,oBAAoBA,QAAO,oBAAoB,2BAA2B;AAC7E,SAAG,oBAAoBA,QAAO,kBAAkB,4BAA4B;AAAA,IAChF,WACS,KAAK,2BAA2B;AACrC,WAAK,0BAA0B,yBAAyBA,QAAO,oBAAoB,2BAA2B;AAC9G,WAAK,0BAA0B,yBAAyBA,QAAO,kBAAkB,4BAA4B;AAAA,IACjH;AACA,OAAG,gBAAgB,GAAG,aAAa,wBAAwB;AAC3D,OAAG,WAAW,eAAe;AAC7B,OAAG,YAAY,GAAG,YAAY,oBAAoB;AAClD,OAAG,cAAc,qBAAqB;AACtC,OAAG,YAAY,GAAG,qBAAqB,kBAAkB;AACzD,mBAAe,IAAI;AACnB,QAAI;AACA,SAAG,OAAO,GAAG,KAAK;AACtB,QAAI;AACA,SAAG,OAAO,GAAG,SAAS;AAC1B,QAAI;AACA,SAAG,OAAO,GAAG,UAAU;AAC3B,QAAI;AACA,SAAG,OAAO,GAAG,YAAY;AAC7B,QAAI;AACA,SAAG,OAAO,GAAG,YAAY;AAAA,EACjC;AAAA,EACA,UAAU,SAAS,QAAQ;AACvB,QAAI,KAAK,KAAK;AACd,QAAI,aAAa,IAAI,WAAW,MAAM;AACtC,UAAM,2BAA2B,GAAG,aAAa,GAAG,mBAAmB;AACvE,QAAI,cAAc,KAAK,gBAAgB,IAAI,QAAQ,YAAY,GAAG,QAAQ,UAAU;AACpF,OAAG,gBAAgB,GAAG,aAAa,WAAW;AAC9C,OAAG,WAAW,GAAG,GAAG,KAAK,mBAAmB,KAAK,oBAAoB,GAAG,MAAM,GAAG,eAAe,UAAU;AAC1G,OAAG,gBAAgB,GAAG,aAAa,wBAAwB;AAC3D,WAAO;AAAA,MACH,aAAa,KAAK;AAAA,MAClB,MAAM;AAAA,MACN;AAAA,MACA,WAAW,QAAQ;AAAA,MACnB,YAAY,QAAQ;AAAA,MACpB,YAAY,KAAK;AAAA,IACrB;AAAA,EACJ;AAAA,EACA,kBAAkB,KAAK,IAAI;AACvB,QAAI,OAAO,KAAK,8BAA8B,MAAM,KAAK;AACrD;AACJ,SAAK,6BAA6B;AAClC,SAAK,+BAA+B;AACpC,SAAK,qBAAqB,KAAK,sBAAsB;AAAA,EACzD;AAAA,EACA,wBAAwB;AACpB,YAAQ,KAAK,4BAA4B;AAAA,MACrC,KAAK;AAAK,eAAO,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,MACnF,KAAK;AAAK,eAAO,IAAI,aAAa,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,MACpF,KAAK;AAAI,eAAO,IAAI,aAAa,CAAC,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,IACtF;AACA,WAAO,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA,EAC5E;AAAA,EACA,gBAAgB,IAAI,SAAS,UAAU;AACnC,QAAI,KAAK,sBAAsB,WAAW,KAAK,uBAAuB,YAAY,KAAK;AACnF,aAAO,KAAK;AAChB,QAAI,KAAK,gBAAgB;AACrB,SAAG,kBAAkB,KAAK,cAAc;AACxC,WAAK,iBAAiB;AAAA,IAC1B;AACA,QAAI,KAAK,gBAAgB;AACrB,SAAG,cAAc,KAAK,cAAc;AACpC,WAAK,iBAAiB;AAAA,IAC1B;AACA,SAAK,iBAAiB,GAAG,kBAAkB;AAC3C,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,8BAA8B;AAClD,OAAG,gBAAgB,GAAG,aAAa,KAAK,cAAc;AACtD,SAAK,iBAAiB,GAAG,cAAc;AACvC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,iCAAiC;AACrD,OAAG,cAAc,GAAG,QAAQ;AAC5B,UAAM,uBAAuB,GAAG,aAAa,GAAG,kBAAkB;AAClE,OAAG,YAAY,GAAG,YAAY,KAAK,cAAc;AACjD,OAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,SAAS,UAAU,GAAG,GAAG,MAAM,GAAG,eAAe,IAAI;AAC9F,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAChE,OAAG,qBAAqB,GAAG,aAAa,GAAG,mBAAmB,GAAG,YAAY,KAAK,gBAAgB,CAAC;AACnG,QAAI,WAAW,GAAG,uBAAuB,GAAG,WAAW;AACvD,QAAI,aAAa,GAAG;AAChB,YAAM,IAAI,MAAM,+BAA+B,SAAS,SAAS,CAAC;AACtE,SAAK,oBAAoB;AACzB,SAAK,qBAAqB;AAC1B,OAAG,YAAY,GAAG,YAAY,oBAAoB;AAClD,OAAG,gBAAgB,GAAG,aAAa,IAAI;AACvC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,iBAAiB,IAAI;AACjB,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,SAAK,gBAAgB,GAAG,aAAa;AACrC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,aAAa;AACjD,QAAI,SAAS,IAAI,aAAa;AAAA,MAAC;AAAA,MAAM;AAAA,MAAM;AAAA,MAAK;AAAA,MAC5C;AAAA,MAAM;AAAA,MAAK;AAAA,MAAK;AAAA,MAChB;AAAA,MAAK;AAAA,MAAK;AAAA,MAAK;AAAA,MACf;AAAA,MAAK;AAAA,MAAM;AAAA,MAAK;AAAA,IAAG,CAAC;AACxB,OAAG,WAAW,GAAG,cAAc,QAAQ,GAAG,WAAW;AACrD,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,gBAAgB,IAAI;AAChB,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,SAAK,eAAe,GAAG,aAAa;AACpC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,+BAA+B;AACnD,OAAG,WAAW,GAAG,sBAAsB,KAAK,YAAY;AACxD,QAAI,SAAS,IAAI,YAAY,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAC/C,OAAG,WAAW,GAAG,sBAAsB,QAAQ,GAAG,WAAW;AAC7D,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,oBAAoB,IAAI;AACpB,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,QAAI,OAAO,GAAG,cAAc;AAC5B,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,0BAA0B;AAC9C,QAAI,eAAe,cAAc,IAAI,GAAG,eAAe,iBAAiB;AACxE,QAAI,iBAAiB,cAAc,IAAI,GAAG,iBAAiB,iBAAiB;AAC5E,OAAG,aAAa,MAAM,YAAY;AAClC,OAAG,aAAa,MAAM,cAAc;AACpC,gBAAY,IAAI,IAAI;AACpB,QAAI,eAAe,GAAG,mBAAmB,MAAM,WAAW;AAC1D,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,0CAA0C;AAC9D,QAAI,kBAAkB,GAAG,mBAAmB,MAAM,cAAc;AAChE,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,6CAA6C;AACjE,QAAI,cAAc,GAAG,mBAAmB,MAAM,UAAU;AACxD,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,yCAAyC;AAC7D,SAAK,mBAAmB;AAAA,MACpB,SAAS;AAAA,MACT,oBAAoB,GAAG,kBAAkB,MAAM,iBAAiB;AAAA,MAChE,kBAAkB,GAAG,kBAAkB,MAAM,eAAe;AAAA,MAC5D;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,IAAI,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBxB,IAAI,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACtTxB,IAAI,SAAS;AACb,IAAI,OAAO,oBAAI,IAAI;AACZ,IAAM,oBAAN,MAAM,2BAA0B,OAAO;AAAA,EAC1C,YAAY,QAAQ,WAAW;AAC3B,UAAM;AACN,SAAK,SAAS;AACd,SAAK,YAAY;AACjB,SAAK,YAAY;AACjB,SAAK,aAAa;AAClB,SAAK,gBAAgB;AACrB,SAAK,0BAA0B;AAC/B,SAAK,iBAAiB;AACtB,SAAK,2BAA2B,aAAK,OAAO;AAC5C,SAAK,qCAAqC,aAAK,OAAO;AACtD,SAAK,eAAe,IAAI,aAAa,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG,CAAC,CAAC;AAC/D,iBAAK,YAAY,KAAK,oCAAoC,CAAC,IAAI,GAAG,EAAE,CAAC;AACrE,QAAI,QAAQ,KAAK;AACjB,QAAI,KAAK,kBAAkB,kBAAkB;AACzC,YAAM,iBAAiB,kBAAkB,MAAM;AAAE,aAAK,aAAa;AAAA,MAAM,CAAC;AAAA,IAC9E,OACK;AACD,WAAK,aAAa;AAAA,IACtB;AACA,SAAK,kBAAkB,KAAK,gBAAgB,KAAK,IAAI;AACrD,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI;AACA,QAAE,iBAAiB,KAAK,KAAK,eAAe;AAAA,EACpD;AAAA,EACA,OAAO,yBAAyB,GAAG,SAAS;AACxC,QAAI,MAAO;AACX,SAAK,IAAI,KAAK,IAAI,mBAAkB,SAAS,CAAC,CAAC;AAC/C,UAAM,mCAAmC;AACzC,WAAO;AAAA,EACX;AAAA,EACA,OAAO,sBAAsB,GAAG;AAC5B,WAAO,KAAK,IAAI,CAAC;AAAA,EACrB;AAAA,EACA,kBAAkB;AACd,QAAI,IAAI;AACR,SAAK,uBAAuB;AAC5B,KAAC,MAAM,KAAK,KAAK,qBAAqB,QAAQ,OAAO,SAAS,SAAS,GAAG,oBAAoB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,EAAE;AAAA,EAC7I;AAAA,EACA,UAAU;AACN,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI;AACA,QAAE,iBAAiB,OAAO,KAAK,eAAe;AAClD,SAAK,MAAM;AACX,SAAK,gBAAgB;AAAA,EACzB;AAAA,EACA,QAAQ;AACJ,SAAK,YAAY;AACjB,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB;AAC/B,QAAE,sBAAsB;AAAA,EAChC;AAAA,EACA,QAAQ;AACJ,QAAI;AACJ,QAAI,KAAK,WAAW;AAChB,WAAK,iBAAiB;AACtB,UAAI,KAAK,kBAAkB;AACvB,aAAK,aAAa;AAAA,IAC1B;AACA,SAAK,YAAY;AACjB,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB,MAAM;AACrC,OAAC,KAAK,EAAE,yBAAyB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAC3E,QAAE,sBAAsB;AAAA,IAC5B;AAAA,EACJ;AAAA,EACA,SAAS,qBAAqB;AAC1B,QAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,QAAI,CAAC;AACD;AACJ,QAAI,KAAK,SAAS;AAClB,QAAI,CAAC;AACD;AACJ,QAAI,KAAK;AACL;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,QAAI;AACA,UAAI,OAAO,KAAK,cAAc,IAAI,KAAK,yBAAyB,mBAAmB;AACnF,UAAI,MAAM;AACN,YAAI,QAAQ,SAAS,cAAc,IAAI;AACvC,iBAAS,iBAAiB,KAAK,QAAQ,IAAI,YAAY,CAAC,GAAG,OAAO,KAAK,WAAW,KAAK,YAAY,KAAK,YAAY,KAAK,gBAAgB,KAAK,WAAW;AAAA,MAC7J;AAAA,IACJ,SACO,IAAI;AACP,cAAQ,IAAI,yBAAyB;AAAA,IACzC;AACA;AAAA,EACJ;AAAA,EACA,cAAc,IAAI,UAAU,qBAAqB;AAC7C,QAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,QAAI,CAAC;AACD,aAAO;AACX,QAAI,CAAC,KAAK;AACN,WAAK,kBAAkB,IAAI,eAAe,EAAE;AAChD,QAAI,KAAK,gBAAgB;AACrB,UAAI,CAAC,KAAK,sBAAsB;AAC5B,aAAK,uBAAuB,SAAS,gBAAgB;AAAA,MACzD;AACA,UAAI,CAAC,KAAK;AACN,eAAO;AACX,WAAK,gBAAgB,YAAY,KAAK,sBAAsB,KAAK,QAAQ,UAAU,KAAK,aAAa;AACrG,WAAK,iBAAiB,CAAC,KAAK;AAC5B,aAAO;AAAA,IACX;AACA,QAAI,uBAAuB,CAAC,KAAK;AAC7B,aAAO;AACX,SAAK,iBAAiB,CAAC,KAAK;AAC5B,QAAI,WAAW,QAAQ,YAAY,QAAQ;AAC3C,QAAI,SAAS,SAAS,kBAAkB,IAAI;AAC5C,WAAO,QAAQ;AACX,UAAI,OAAO,eAAe;AACtB;AACJ,eAAS,SAAS,kBAAkB,IAAI;AAAA,IAC5C;AACA,QAAI,CAAC,QAAQ;AACT,eAAS,IAAI,YAAY,QAAQ;AAAA,IACrC;AACA,QAAI,MAAM,KAAK;AACf,SAAK,uBAAuB;AAC5B,QAAI,cAAc,MAAQ,QAAQ,YAAY;AAC9C,SAAK,aAAa,CAAC,IAAI;AACvB,SAAK,aAAa,CAAC,IAAI;AACvB,SAAK,aAAa,CAAC,IAAI,QAAQ,YAAY;AAC3C,SAAK,aAAa,CAAC,IAAI,QAAQ,aAAa;AAC5C,WAAO,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,KAAK,gBAAgB,UAAU,KAAK,MAAM,CAAC,GAAG,EAAE,aAAa,KAAK,cAAc,cAAc,MAAM,gBAAiB,KAAK,gBAAgB,KAAK,qCAAqC,KAAK,yBAA0B,CAAC;AAAA,EAC/P;AAAA,EACA,WAAW;AAAA,EAEX;AACJ;;;AC3IA,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAOA,IAAI,kBAAkB,SAAS,cAAc,OAAO;AACpD,gBAAgB,aAAa,eAAe,EAAE;AAC9C,gBAAgB,aAAa,sBAAsB,EAAE;AACrD,IAAI,QAAQ,mBAAmB;AAC3B,kBAAgB,MAAM,QAAQ;AAC9B,kBAAgB,MAAM,SAAS;AAC/B,WAAS,KAAK,YAAY,eAAe;AAC7C;AACO,IAAM,eAAN,MAAM,sBAAqB,kBAAkB;AAAA,EAChD,YAAY,OAAO,UAAU,WAAW;AACpC,UAAM,iBAAiB,QAAQ;AAC/B,SAAK,QAAQ;AACb,SAAK,YAAY;AACjB,SAAK,iBAAiB;AACtB,SAAK,kBAAkB;AACvB,SAAK,yBAAyB;AAC9B,SAAK,wBAAwB,CAAC,OAAO;AACjC,UAAIC,YAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,UAAI,CAACA;AACD;AACJ,UAAI,YAAa,GAAG,cAAc,UAAa,GAAG,cAAc,OAAQ,GAAG,YAAY,YAAY,IAAI;AACvG,UAAI,GAAG,iCAAiC,QACpC,GAAG,6BAA6B,MAAM,QACtC,GAAG,6BAA6B,MAAM,QACtC,GAAG,6BAA6B,MAAM,MAAM;AAC5C,QAAAA,UAAS,0BAA0B,WAAW,GAAG,6BAA6B,IAAI,QAAQ,wBAAwB,GAAG,6BAA6B,IAAI,QAAQ,wBAAwB,GAAG,6BAA6B,IAAI,QAAQ,sBAAsB;AAAA,MAC5P;AACA,UAAI,GAAG,iBAAiB,QACpB,GAAG,aAAa,UAAU,QAC1B,GAAG,aAAa,SAAS,QACzB,GAAG,aAAa,UAAU,QAAQ,CAAC,KAAK,wBAAwB;AAChE,WAAG;AACH,QAAAA,UAAS,yBAAyB,WAAW,GAAG,aAAa,QAAQ,KAAK,KAAK,MAAQ,GAAG,aAAa,OAAO,KAAK,KAAK,MAAQ,GAAG,aAAa,QAAQ,KAAK,KAAK,IAAM;AAAA,MAC5K,WACS,CAAC,KAAK,wBAAwB;AACnC,aAAK,wBAAwB;AAAA,MACjC;AAAA,IACJ;AAAA,EACJ;AAAA,EACA,UAAU;AACN,uBAAmB,KAAK,KAAK;AAC7B,UAAM,QAAQ;AAAA,EAClB;AAAA,EACA,QAAQ;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,SAAS,KAAK,eAAe,UAAU;AAC3C,WAAO,QAAQ,OAAK,EAAE,KAAK,CAAC;AAC5B,SAAK,iBAAiB;AAAA,EAC1B;AAAA,EACA,QAAQ;AACJ,UAAM,MAAM;AACZ,SAAK,kBAAkB;AACvB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,QAAQ;AACJ,UAAM,MAAM;AACZ,SAAK,mBAAmB;AACxB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,kBAAkB;AACd,WAAOD,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI;AACJ,UAAI;AACJ,UAAI,KAAK,cAAc,cAAa,qBAChC,KAAK,cAAc,cAAa,wBAAwB;AAExD,mBAAW,KAAK;AAAA,MACpB,OACK;AACD,qBAAc,KAAK,cAAc,cAAa,oBAAqB,gBAAgB;AACnF,YAAI,QAAQ,uBAAuB;AAC/B,cAAI,CAAC,KAAK,gCAAgC,CAAC,KAAK,uBAAuB;AACnE,kBAAM,SAAS,MAAM,UAAU,aAAa,aAAa,EAAE,OAAO,OAAO,OAAO,EAAE,WAAW,EAAE,CAAC;AAChG,gBAAI,SAAS,OAAO,UAAU;AAC9B,mBAAO,QAAQ,OAAK,EAAE,KAAK,CAAC;AAC5B,gBAAIE,WAAU,MAAM,UAAU,aAAa,iBAAiB;AAC5D,YAAAA,WAAUA,SAAQ,OAAO,SAAO,IAAI,SAAS,YAAY;AACzD,gBAAIA,SAAQ,UAAU,GAAG;AACrB,mBAAK,wBAAwBA,SAAQ,CAAC,EAAE;AACxC,mBAAK,+BAA+BA,SAAQ,CAAC,EAAE;AAAA,YACnD;AAAA,UACJ;AACA,qBAAY,eAAe,gBAAiB,KAAK,+BAA+B,KAAK;AAAA,QACzF;AAAA,MACJ;AACA,UAAI,cAAc;AAAA,QACd,OAAO;AAAA,QACP,OAAO;AAAA,UACH;AAAA,UACA,OAAO,QAAQ;AAAA,UACf,QAAQ,QAAQ;AAAA,UAChB,WAAW,QAAQ,uBAAuB,KAAK;AAAA,UAC/C;AAAA,QACJ;AAAA,MACJ;AACA,UAAI,YAAY,QAAQ;AACpB,eAAO;AACX,UAAI,CAAC,UAAU,gBAAgB,CAAC,UAAU,aAAa;AACnD,eAAO;AACX,UAAI,UAAU,MAAM,UAAU,aAAa,iBAAiB;AAC5D,UAAI,qBAAqB;AACzB,gBAAU,QAAQ,OAAO,SAAO;AAE5B,YAAI,IAAI,SAAS;AACb,iBAAO;AAEX,YAAI,IAAI,iBAAiB;AACrB,+BAAqB;AACrB,cAAI,eAAe,IAAI,gBAAgB;AACvC,cAAI,gBAAgB,aAAa,cAAc,aAAa,WAAW,QAAQ,eAAe,SAAS,SAAS,aAAa,IAAI;AAC7H,mBAAO;AAAA,QACf;AACA,eAAO;AAAA,MACX,CAAC;AAED,UAAI,CAAC,sBAAsB,QAAQ,WAAW,GAAG;AAC7C,eAAO;AAAA,MACX;AACA,UAAI,OAAO,YAAY,UAAU,UAAU;AACvC,cAAM,sBAAsB,QAAQ,QAAQ,SAAS,CAAC,EAAE,QAAQ;AAChE,oBAAY,MAAM,WAAW,QAAQ,QAAQ,SAAS,CAAC,EAAE;AAAA,MAC7D;AACA,aAAO;AAAA,IACX,CAAC;AAAA,EACL;AAAA,EACA,SAAS,WAAW;AAChB,SAAK,0BAA0B,mCAAmC,KAAK;AACvE,UAAM,SAAS,SAAS;AAAA,EAC5B;AAAA,EACA,gBAAgB;AACZ,WAAOF,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,cAAc,MAAM,KAAK,gBAAgB;AAC7C,UAAI,UAAU,gBAAgB,UAAU,aAAa;AACjD,eAAO,MAAM,UAAU,aAAa,aAAa,WAAW;AAChE,aAAO,MAAM,IAAI,QAAQ,CAAC,SAAS,WAAW;AAC1C,kBAAU,aAAa,aAAa,SAAS,MAAM;AAAA,MACvD,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AAAA,EACA,cAAc;AACV,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,KAAK,kBAAkB,KAAK,WAAW;AACvC,aAAK,MAAM;AACX;AAAA,MACJ;AACA,UAAI,KAAK,kBAAkB,KAAK,oBAAoB,KAAK;AACrD,aAAK,MAAM;AACf,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,kBAAkB,KAAK;AAC5B,aAAK,iBAAiB,MAAM,KAAK,cAAc;AAC/C,YAAI,KAAK,WAAW;AAChB,gBAAM,KAAK,YAAY;AACvB;AAAA,QACJ;AACA,aAAK,gBAAgB;AACrB,YAAI,KAAK,gBAAgB;AACrB,cAAI,cAAc,KAAK,eAAe,eAAe;AACrD,cAAI,YAAY,SAAS,GAAG;AACxB,iBAAK,gBAAgB,YAAY,CAAC,EAAE,YAAY,EAAE,eAAe;AAAA,UACrE;AAAA,QACJ;AACA,YAAI,EAAE,KAAK,kBAAkB;AACzB;AACJ,aAAK,OAAO,MAAM;AAClB,aAAK,OAAO,OAAO;AACnB,aAAK,OAAO,QAAQ;AACpB,aAAK,OAAO,YAAY,KAAK;AAC7B,aAAK,OAAO,KAAK;AAAA,MACrB;AAAA,IACJ,CAAC;AAAA,EACL;AAAA,EACA,0BAA0B;AACtB,QAAI,KAAK;AACL;AACJ,SAAK,yBAAyB;AAC9B,SAAK,6BAA6B,CAAC,OAAO;AACtC,UAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,UAAI,CAAC;AACD;AACJ,UAAI,YAAa,GAAG,cAAc,UAAa,GAAG,cAAc,OAAQ,GAAG,YAAY,YAAY,IAAI;AACvG,UAAI,GAAG,UAAU,QAAQ,GAAG,SAAS,QAAQ,GAAG,UAAU;AACtD;AACJ,eAAS,qBAAqB,WAAW,GAAG,OAAO,GAAG,MAAM,GAAG,KAAK;AAAA,IACxE;AACA,WAAO,iBAAiB,qBAAqB,KAAK,0BAA0B;AAAA,EAChF;AAAA,EACA,qBAAqB;AACjB,WAAO,iBAAiB,gBAAgB,KAAK,uBAAuB,KAAK;AAAA,EAC7E;AAAA,EACA,oBAAoB;AAChB,WAAO,oBAAoB,gBAAgB,KAAK,qBAAqB;AACrE,QAAI,KAAK;AACL,aAAO,oBAAoB,qBAAqB,KAAK,0BAA0B;AAAA,EACvF;AACJ;AACA,aAAa,yBAAyB;AACtC,aAAa,oBAAoB;;;ACpNjC,IAAIG,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAQO,IAAM,0BAAN,MAAM,iCAAgC,OAAO;AAAA,EAChD,YAAY,OAAO,WAAW,WAAW;AACrC,UAAM;AACN,SAAK,QAAQ;AACb,SAAK,YAAY;AACjB,SAAK,YAAY;AACjB,SAAK,iBAAiB;AACtB,SAAK,kBAAkB;AACvB,SAAK,YAAY;AACjB,SAAK,gBAAgB;AACrB,SAAK,aAAa;AAClB,SAAK,UAAU,IAAI,gBAAgB,KAAK,GAAG;AAC3C,SAAK,WAAW,KAAK,QAAQ,WAAW,IAAI;AAC5C,SAAK,iBAAiB;AACtB,SAAK,SAAS,SAAS,cAAc,OAAO;AAC5C,SAAK,2BAA2B,aAAK,OAAO;AAC5C,SAAK,qCAAqC,aAAK,OAAO;AACtD,SAAK,eAAe,IAAI,aAAa,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG,CAAC,CAAC;AAC/D,SAAK,yBAAyB;AAC9B,SAAK,wBAAwB,CAAC,OAAO;AACjC,UAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,UAAI,CAAC;AACD;AACJ,UAAI,YAAa,GAAG,cAAc,UAAa,GAAG,cAAc,OAAQ,GAAG,YAAY,YAAY,IAAI;AACvG,UAAI,GAAG,iCAAiC,QACpC,GAAG,6BAA6B,MAAM,QACtC,GAAG,6BAA6B,MAAM,QACtC,GAAG,6BAA6B,MAAM,MAAM;AAC5C,iBAAS,0BAA0B,WAAW,GAAG,6BAA6B,IAAI,QAAQ,wBAAwB,GAAG,6BAA6B,IAAI,QAAQ,wBAAwB,GAAG,6BAA6B,IAAI,QAAQ,sBAAsB;AAAA,MAC5P;AACA,UAAI,GAAG,iBAAiB,QACpB,GAAG,aAAa,UAAU,QAC1B,GAAG,aAAa,SAAS,QACzB,GAAG,aAAa,UAAU,QAAQ,CAAC,KAAK,wBAAwB;AAChE,WAAG;AACH,iBAAS,yBAAyB,WAAW,GAAG,aAAa,QAAQ,KAAK,KAAK,MAAQ,GAAG,aAAa,OAAO,KAAK,KAAK,MAAQ,GAAG,aAAa,QAAQ,KAAK,KAAK,IAAM;AAAA,MAC5K,WACS,CAAC,KAAK,wBAAwB;AACnC,aAAK,wBAAwB;AAAA,MACjC;AAAA,IACJ;AACA,UAAM,iCAAiC;AACvC,iBAAK,YAAY,KAAK,oCAAoC,CAAC,IAAI,GAAG,EAAE,CAAC;AACrE,SAAK,OAAO,QAAQ;AACpB,SAAK,OAAO,aAAa,eAAe,EAAE;AAC1C,SAAK,OAAO,aAAa,sBAAsB,EAAE;AACjD,QAAI,QAAQ,mBAAmB;AAC3B,WAAK,OAAO,MAAM,QAAQ;AAC1B,WAAK,OAAO,MAAM,SAAS;AAC3B,eAAS,KAAK,YAAY,KAAK,MAAM;AAAA,IACzC;AACA,SAAK,OAAO,iBAAiB,kBAAkB,MAAM;AAAE,WAAK,aAAa;AAAA,IAAM,CAAC;AAAA,EACpF;AAAA,EACA,UAAU;AACN,SAAK,MAAM;AACX,uBAAmB,KAAK,KAAK;AAAA,EACjC;AAAA,EACA,QAAQ;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,SAAS,KAAK,eAAe,UAAU;AAC3C,WAAO,QAAQ,OAAK,EAAE,KAAK,CAAC;AAC5B,SAAK,iBAAiB;AAAA,EAC1B;AAAA,EACA,QAAQ;AACJ,SAAK,YAAY;AACjB,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB;AAC/B,QAAE,sBAAsB;AAC5B,SAAK,kBAAkB;AACvB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,QAAQ;AACJ,QAAI;AACJ,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB,MAAM;AACrC,OAAC,KAAK,EAAE,yBAAyB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAC3E,QAAE,sBAAsB;AAAA,IAC5B;AACA,SAAK,YAAY;AACjB,SAAK,mBAAmB;AACxB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,kBAAkB;AACd,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI;AACJ,UAAI;AACJ,UAAI,KAAK,cAAc,yBAAwB,qBAC3C,KAAK,cAAc,yBAAwB,wBAAwB;AAEnE,mBAAW,KAAK;AAAA,MACpB,OACK;AACD,qBAAc,KAAK,cAAc,yBAAwB,oBAAqB,gBAAgB;AAAA,MAClG;AACA,UAAI,cAAc;AAAA,QACd,OAAO;AAAA,QACP,OAAO;AAAA,UACH;AAAA,UACA,OAAO,QAAQ;AAAA,UACf,QAAQ,QAAQ;AAAA,UAChB,WAAW,QAAQ,uBAAuB,KAAK;AAAA,UAC/C;AAAA,QACJ;AAAA,MACJ;AACA,UAAI;AACA,eAAO;AACX,UAAI,CAAC,UAAU,gBAAgB,CAAC,UAAU,aAAa;AACnD,eAAO;AACX,UAAI,UAAU,MAAM,UAAU,aAAa,iBAAiB;AAC5D,UAAI,qBAAqB;AACzB,gBAAU,QAAQ,OAAO,SAAO;AAE5B,YAAI,IAAI,SAAS;AACb,iBAAO;AAEX,YAAI,IAAI,iBAAiB;AACrB,+BAAqB;AACrB,cAAI,eAAe,IAAI,gBAAgB;AACvC,cAAI,gBAAgB,aAAa,cAAc,aAAa,WAAW,QAAQ,eAAe,SAAS,SAAS,aAAa,IAAI;AAC7H,mBAAO;AAAA,QACf;AACA,eAAO;AAAA,MACX,CAAC;AAED,UAAI,CAAC,sBAAsB,QAAQ,WAAW,GAAG;AAC7C,eAAO;AAAA,MACX;AACA,UAAI,OAAO,YAAY,UAAU,UAAU;AACvC,cAAM,sBAAsB,QAAQ,QAAQ,SAAS,CAAC,EAAE,QAAQ;AAChE,oBAAY,MAAM,WAAW,QAAQ,QAAQ,SAAS,CAAC,EAAE;AAAA,MAC7D;AACA,aAAO;AAAA,IACX,CAAC;AAAA,EACL;AAAA,EACA,SAAS,qBAAqB;AAC1B,QAAI,IAAI;AACR,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,QAAI;AACA;AACJ,QAAI,cAAc,YAAY,IAAI;AAClC,QAAI,cAAe,KAAK,iBAAiB;AACrC;AACJ,SAAK,iBAAiB;AACtB,QAAI,KAAK,QAAQ,UAAU,KAAK,OAAO;AACnC,WAAK,QAAQ,QAAQ,KAAK,OAAO;AACrC,QAAI,KAAK,QAAQ,WAAW,KAAK,OAAO;AACpC,WAAK,QAAQ,SAAS,KAAK,OAAO;AACtC,SAAK,SAAS,UAAU,KAAK,QAAQ,GAAG,CAAC;AACzC,UAAM,cAAc,KAAK,QAAQ,sBAAsB;AACvD,QAAI,WAAW,mCAAmC,KAAK;AACvD,QAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,QAAI,CAAC;AACD;AACJ,QAAI,cAAc,MAAQ,QAAQ,YAAY;AAC9C,SAAK,aAAa,CAAC,IAAI;AACvB,SAAK,aAAa,CAAC,IAAI;AACvB,SAAK,aAAa,CAAC,IAAI,QAAQ,YAAY;AAC3C,SAAK,aAAa,CAAC,IAAI,QAAQ,aAAa;AAC5C,QAAI,QAAQ,SAAS,cAAc;AAAA,MAC/B,WAAW,KAAK,QAAQ;AAAA,MACxB,YAAY,KAAK,QAAQ;AAAA,MACzB,SAAS;AAAA,MACT,YAAY,KAAK;AAAA,MACjB,cAAc;AAAA,MACd,aAAa,KAAK,aAAa,MAAM;AAAA,MACrC,gBAAgB,KAAK,gBAAgB,KAAK,qCAAqC,KAAK;AAAA,IACxF,CAAC;AACD,KAAC,MAAM,KAAK,SAAS,IAAI,KAAK,SAAS,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,6BAA6B,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,aAAa,UAAU,KAAK,eAAe,OAAO,KAAK,cAAc,KAAK,gBAAgB,KAAK,qCAAqC,KAAK,wBAAwB;AAC7T;AAAA,EACJ;AAAA,EACA,gBAAgB;AACZ,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,cAAc,MAAM,KAAK,gBAAgB;AAC7C,UAAI,UAAU,gBAAgB,UAAU,aAAa;AACjD,eAAO,MAAM,UAAU,aAAa,aAAa,WAAW;AAChE,aAAO,MAAM,IAAI,QAAQ,CAAC,SAAS,WAAW;AAC1C,kBAAU,aAAa,aAAa,SAAS,MAAM;AAAA,MACvD,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AAAA,EACA,cAAc;AACV,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,KAAK,kBAAkB,KAAK,WAAW;AACvC,aAAK,MAAM;AACX;AAAA,MACJ;AACA,UAAI,KAAK,kBAAkB,KAAK,oBAAoB,KAAK;AACrD,aAAK,MAAM;AACf,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,kBAAkB,KAAK;AAC5B,aAAK,iBAAiB,MAAM,KAAK,cAAc;AAC/C,YAAI,KAAK,WAAW;AAChB,gBAAM,KAAK,YAAY;AACvB;AAAA,QACJ;AACA,aAAK,gBAAgB;AACrB,YAAI,KAAK,gBAAgB;AACrB,cAAI,cAAc,KAAK,eAAe,eAAe;AACrD,cAAI,YAAY,SAAS,GAAG;AACxB,iBAAK,gBAAgB,YAAY,CAAC,EAAE,YAAY,EAAE,eAAe;AAAA,UACrE;AAAA,QACJ;AACA,aAAK,OAAO,MAAM;AAClB,aAAK,OAAO,OAAO;AACnB,aAAK,OAAO,QAAQ;AACpB,aAAK,OAAO,YAAY,KAAK;AAC7B,aAAK,OAAO,KAAK;AAAA,MACrB;AAAA,IACJ,CAAC;AAAA,EACL;AAAA,EACA,0BAA0B;AACtB,QAAI,KAAK;AACL;AACJ,SAAK,yBAAyB;AAC9B,WAAO,iBAAiB,qBAAqB,CAAC,OAAO;AACjD,UAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,UAAI,CAAC;AACD;AACJ,UAAI,YAAa,GAAG,cAAc,UAAa,GAAG,cAAc,OAAQ,GAAG,YAAY,YAAY,IAAI;AACvG,UAAI,GAAG,UAAU,QAAQ,GAAG,SAAS,QAAQ,GAAG,UAAU;AACtD;AACJ,eAAS,qBAAqB,WAAW,GAAG,OAAO,GAAG,MAAM,GAAG,KAAK;AAAA,IACxE,CAAC;AAAA,EACL;AAAA,EACA,qBAAqB;AACjB,WAAO,iBAAiB,gBAAgB,KAAK,uBAAuB,KAAK;AAAA,EAC7E;AAAA,EACA,oBAAoB;AAChB,WAAO,oBAAoB,gBAAgB,KAAK,qBAAqB;AAAA,EACzE;AAAA,EACA,SAAS,MAAM;AACX,UAAM,WAAW,SAAS,IAAI,KAAK,SAAS;AAC5C,UAAM,KAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AACxE,QAAI,CAAC,QACD,KAAK,WACL,CAAC,KAAK,SACN,CAAC,YACD,CAAC;AACD;AACJ,QAAI,UAAU,SAAS,gBAAgB;AACvC,QAAI,CAAC;AACD;AACJ,OAAG,YAAY,GAAG,YAAY,OAAO;AACrC,OAAG,YAAY,GAAG,qBAAqB,KAAK;AAC5C,OAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,eAAe,KAAK,KAAK;AAC9E,OAAG,YAAY,GAAG,YAAY,IAAI;AAClC,SAAK,UAAU;AACf,SAAK,MAAM,MAAM;AACjB,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,wBAAwB,yBAAyB;AACjD,wBAAwB,oBAAoB;;;AChR5C,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAOO,IAAM,mBAAN,MAAM,0BAAyB,OAAO;AAAA,EACzC,YAAY,OAAO,WAAW,WAAW;AACrC,UAAM;AACN,SAAK,QAAQ;AACb,SAAK,YAAY;AACjB,SAAK,YAAY;AACjB,SAAK,iBAAiB;AACtB,SAAK,kBAAkB;AACvB,SAAK,YAAY;AACjB,SAAK,gBAAgB;AACrB,SAAK,0BAA0B;AAC/B,SAAK,yBAAyB;AAC9B,SAAK,wBAAwB,CAAC,OAAO;AACjC,UAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,UAAI,CAAC;AACD;AACJ,UAAI,YAAa,GAAG,cAAc,UAAa,GAAG,cAAc,OAAQ,GAAG,YAAY,YAAY,IAAI;AACvG,UAAI,GAAG,iCAAiC,QACpC,GAAG,6BAA6B,MAAM,QACtC,GAAG,6BAA6B,MAAM,QACtC,GAAG,6BAA6B,MAAM,MAAM;AAC5C,iBAAS,0BAA0B,WAAW,GAAG,6BAA6B,IAAI,QAAQ,wBAAwB,GAAG,6BAA6B,IAAI,QAAQ,wBAAwB,GAAG,6BAA6B,IAAI,QAAQ,sBAAsB;AAAA,MAC5P;AACA,UAAI,GAAG,iBAAiB,QACpB,GAAG,aAAa,UAAU,QAC1B,GAAG,aAAa,SAAS,QACzB,GAAG,aAAa,UAAU,QAAQ,CAAC,KAAK,wBAAwB;AAChE,WAAG;AACH,iBAAS,yBAAyB,WAAW,GAAG,aAAa,QAAQ,KAAK,KAAK,MAAQ,GAAG,aAAa,OAAO,KAAK,KAAK,MAAQ,GAAG,aAAa,QAAQ,KAAK,KAAK,IAAM;AAAA,MAC5K,WACS,CAAC,KAAK,wBAAwB;AACnC,aAAK,wBAAwB;AAAA,MACjC;AAAA,IACJ;AACA,UAAM,0BAA0B;AAAA,EACpC;AAAA,EACA,UAAU;AACN,SAAK,MAAM;AACX,uBAAmB,KAAK,KAAK;AAAA,EACjC;AAAA,EACA,QAAQ;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,SAAS,KAAK,eAAe,UAAU;AAC3C,WAAO,QAAQ,OAAK,EAAE,KAAK,CAAC;AAC5B,SAAK,iBAAiB;AAAA,EAC1B;AAAA,EACA,QAAQ;AACJ,SAAK,YAAY;AACjB,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB;AAC/B,QAAE,sBAAsB;AAC5B,SAAK,kBAAkB;AACvB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,QAAQ;AACJ,QAAI;AACJ,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB,MAAM;AACrC,OAAC,KAAK,EAAE,yBAAyB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAC3E,QAAE,sBAAsB;AAAA,IAC5B;AACA,SAAK,YAAY;AACjB,SAAK,mBAAmB;AACxB,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,kBAAkB;AACd,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI;AACJ,UAAI;AACJ,UAAI,KAAK,cAAc,kBAAiB,qBACpC,KAAK,cAAc,kBAAiB,wBAAwB;AAE5D,mBAAW,KAAK;AAAA,MACpB,OACK;AACD,qBAAc,KAAK,cAAc,kBAAiB,oBAAqB,gBAAgB;AAAA,MAC3F;AACA,UAAI,cAAc;AAAA,QACd,OAAO;AAAA,QACP,OAAO;AAAA,UACH;AAAA,UACA,OAAO,QAAQ;AAAA,UACf,QAAQ,QAAQ;AAAA,UAChB,WAAW,QAAQ,uBAAuB,KAAK;AAAA,UAC/C;AAAA,QACJ;AAAA,MACJ;AACA,UAAI;AACA,eAAO;AACX,UAAI,CAAC,UAAU,gBAAgB,CAAC,UAAU,aAAa;AACnD,eAAO;AACX,UAAI,UAAU,MAAM,UAAU,aAAa,iBAAiB;AAC5D,UAAI,qBAAqB;AACzB,gBAAU,QAAQ,OAAO,SAAO;AAE5B,YAAI,IAAI,SAAS;AACb,iBAAO;AAEX,YAAI,IAAI,iBAAiB;AACrB,+BAAqB;AACrB,cAAI,eAAe,IAAI,gBAAgB;AACvC,cAAI,gBAAgB,aAAa,cAAc,aAAa,WAAW,QAAQ,eAAe,SAAS,SAAS,aAAa,IAAI;AAC7H,mBAAO;AAAA,QACf;AACA,eAAO;AAAA,MACX,CAAC;AAED,UAAI,CAAC,sBAAsB,QAAQ,WAAW,GAAG;AAC7C,eAAO;AAAA,MACX;AACA,UAAI,OAAO,YAAY,UAAU,UAAU;AACvC,cAAM,sBAAsB,QAAQ,QAAQ,SAAS,CAAC,EAAE,QAAQ;AAChE,oBAAY,MAAM,WAAW,QAAQ,QAAQ,SAAS,CAAC,EAAE;AAAA,MAC7D;AACA,aAAO;AAAA,IACX,CAAC;AAAA,EACL;AAAA,EACA,SAAS,WAAW;AAChB,QAAI,IAAI;AACR,QAAI,WAAW,mCAAmC,KAAK;AACvD,QAAI,YAAY,KAAK,yBAAyB;AAC1C,OAAC,MAAM,KAAK,SAAS,IAAI,KAAK,SAAS,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,wCAAwC,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,QAAQ;AAC/K,WAAK,0BAA0B;AAAA,IACnC;AACA;AAAA,EACJ;AAAA,EACA,gBAAgB;AACZ,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,cAAc,MAAM,KAAK,gBAAgB;AAC7C,UAAI,UAAU,gBAAgB,UAAU,aAAa;AACjD,eAAO,MAAM,UAAU,aAAa,aAAa,WAAW;AAChE,aAAO,MAAM,IAAI,QAAQ,CAAC,SAAS,WAAW;AAC1C,kBAAU,aAAa,aAAa,SAAS,MAAM;AAAA,MACvD,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AAAA,EACA,cAAc;AACV,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,KAAK,kBAAkB,KAAK,WAAW;AACvC,aAAK,MAAM;AACX;AAAA,MACJ;AACA,UAAI,KAAK,kBAAkB,KAAK,oBAAoB,KAAK;AACrD,aAAK,MAAM;AACf,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,kBAAkB,KAAK;AAC5B,aAAK,iBAAiB,MAAM,KAAK,cAAc;AAC/C,YAAI,KAAK,WAAW;AAChB,gBAAM,KAAK,YAAY;AACvB;AAAA,QACJ;AACA,aAAK,gBAAgB;AACrB,YAAI,KAAK,gBAAgB;AACrB,cAAI,cAAc,KAAK,eAAe,eAAe;AACrD,cAAI,YAAY,SAAS,GAAG;AACxB,iBAAK,gBAAgB,YAAY,CAAC,EAAE,YAAY,EAAE,eAAe;AACjE,gBAAI,YAAY,IAAI,0BAA0B;AAAA,cAC1C,OAAO,YAAY,CAAC;AAAA,YACxB,CAAC;AACD,gBAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,gBAAI;AACA,gBAAE,yBAAyB,KAAK,OAAO,UAAU,UAAU,KAAK,aAAa;AAAA,UACrF;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACL;AAAA,EACA,0BAA0B;AACtB,QAAI,KAAK;AACL;AACJ,SAAK,yBAAyB;AAC9B,WAAO,iBAAiB,qBAAqB,CAAC,OAAO;AACjD,UAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,UAAI,CAAC;AACD;AACJ,UAAI,YAAa,GAAG,cAAc,UAAa,GAAG,cAAc,OAAQ,GAAG,YAAY,YAAY,IAAI;AACvG,UAAI,GAAG,UAAU,QAAQ,GAAG,SAAS,QAAQ,GAAG,UAAU;AACtD;AACJ,eAAS,qBAAqB,WAAW,GAAG,OAAO,GAAG,MAAM,GAAG,KAAK;AAAA,IACxE,CAAC;AAAA,EACL;AAAA,EACA,qBAAqB;AACjB,WAAO,iBAAiB,gBAAgB,KAAK,uBAAuB,KAAK;AAAA,EAC7E;AAAA,EACA,oBAAoB;AAChB,WAAO,oBAAoB,gBAAgB,KAAK,qBAAqB;AAAA,EACzE;AAAA,EACA,SAAS,MAAM;AACX,UAAM,WAAW,SAAS,IAAI,KAAK,SAAS;AAC5C,UAAM,KAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AACxE,QAAI,CAAC,QACD,KAAK,WACL,CAAC,KAAK,SACN,CAAC,YACD,CAAC;AACD;AACJ,QAAI,UAAU,SAAS,gBAAgB;AACvC,QAAI,CAAC;AACD;AACJ,OAAG,YAAY,GAAG,YAAY,OAAO;AACrC,OAAG,YAAY,GAAG,qBAAqB,KAAK;AAC5C,OAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,eAAe,KAAK,KAAK;AAC9E,OAAG,YAAY,GAAG,YAAY,IAAI;AAClC,SAAK,UAAU;AACf,SAAK,MAAM,MAAM;AACjB,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,iBAAiB,yBAAyB;AAC1C,iBAAiB,oBAAoB;;;AC5NrC,IAAIC,UAAS;AACb,IAAIC,QAAO,oBAAI,IAAI;AACZ,SAAS,wBAAwB;AACpC,SAAQD;AACZ;AACO,SAAS,kBAAkB,IAAI,GAAG;AACrC,EAAAC,MAAK,IAAI,IAAI,CAAC;AAClB;AACO,SAAS,gBAAgB,IAAI;AAChC,SAAOA,MAAK,IAAI,EAAE;AACtB;AACO,SAAS,mBAAmB,IAAI;AACnC,EAAAA,MAAK,OAAO,EAAE;AAClB;AACO,SAAS,mBAAmB,GAAG,UAAU;AAC5C,MAAI,MAAM,sBAAsB;AAChC,MAAI,QAAQ,yCACR,+BAA+B,UAC/B,+BAA+B;AAC/B,sBAAkB,KAAK,IAAI,iBAAiB,KAAK,GAAG,QAAQ,CAAC;AAAA,WACxD,QAAQ,2BAA2B,OAAO,oBAAoB;AACnE,sBAAkB,KAAK,IAAI,wBAAwB,KAAK,GAAG,QAAQ,CAAC;AAAA;AAEpE,sBAAkB,KAAK,IAAI,aAAa,KAAK,GAAG,QAAQ,CAAC;AAC7D,QAAM,6BAA6B;AACnC,SAAO;AACX;;;AC9BO,IAAM,kBAAN,MAAsB;AAAA,EACzB,YAAY,KAAK;AACb,SAAK,MAAM;AAAA,EACf;AAAA,EACA,UAAU;AACN,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,KAAK;AACpC,QAAI,KAAK;AACL,WAAK,IAAI,aAAa,KAAK,IAAI;AACnC,QAAI,KAAK;AACL,WAAK,IAAI,cAAc,KAAK,QAAQ,IAAI;AAC5C,SAAK,OAAO;AACZ,SAAK,QAAQ;AACb,SAAK,OAAO;AACZ,SAAK,UAAU;AAAA,EACnB;AAAA,EACA,aAAa,SAAS,IAAI;AACtB,QAAI,KAAK,QAAQ,KAAK,iBAAiB;AACnC,aAAO,KAAK;AAChB,SAAK,eAAe;AACpB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,sBAAsB,KAAK,IAAI;AAChD,OAAG,WAAW,GAAG,sBAAsB,SAAS,GAAG,WAAW;AAC9D,OAAG,WAAW,GAAG,sBAAsB,IAAI;AAC3C,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,aAAa,MAAM,IAAI;AACnB,QAAI,CAAC,KAAK;AACN,WAAK,OAAO,GAAG,aAAa;AAChC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,IAAI;AACxC,OAAG,WAAW,GAAG,cAAc,MAAM,GAAG,WAAW;AACnD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,cAAc,MAAM,IAAI;AACpB,QAAI,CAAC,KAAK;AACN,WAAK,QAAQ,GAAG,aAAa;AACjC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,gCAAgC;AACpD,OAAG,WAAW,GAAG,cAAc,KAAK,KAAK;AACzC,OAAG,WAAW,GAAG,cAAc,MAAM,GAAG,WAAW;AACnD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,KAAK,QAAQ,SAAS,MAAM;AACxB,QAAI;AACJ,UAAM,IAAI,QAAQ,eAAe,IAAI;AACrC,UAAM,SAAS,KAAK,QAAQ,cAAc,IAAI,EAAE,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG;AACjG,QAAI,CAAC,KAAK,CAAC;AACP;AACJ,QAAI,CAAC,MAAM;AACP;AACJ,QAAI,KAAK,KAAK;AACd,QAAIC,UAAS,KAAK,WAAW,EAAE;AAC/B,QAAI,IAAI,KAAK,aAAa,EAAE,UAAU,EAAE;AACxC,QAAI,IAAI,KAAK,cAAc,EAAE,KAAK,EAAE;AACpC,QAAI,IAAI,KAAK,aAAa,EAAE,SAAS,EAAE;AACvC,OAAG,OAAO,GAAG,UAAU;AACvB,OAAG,OAAO,GAAG,SAAS;AACtB,OAAG,WAAWA,QAAO,IAAI;AACzB,OAAG,iBAAiBA,QAAO,aAAa,OAAO,MAAM;AACrD,OAAG,cAAc,GAAG,QAAQ;AAC5B,OAAG,YAAY,GAAG,YAAYC,aAAY,IAAI,KAAK,CAAC;AACpD,OAAG,UAAUD,QAAO,kBAAkB,CAAC;AACvC,OAAG,WAAW,GAAG,cAAc,CAAC;AAChC,OAAG,oBAAoBA,QAAO,eAAe,GAAG,GAAG,OAAO,OAAO,GAAG,CAAC;AACrE,OAAG,wBAAwBA,QAAO,aAAa;AAC/C,OAAG,WAAW,GAAG,cAAc,CAAC;AAChC,OAAG,oBAAoBA,QAAO,mBAAmB,GAAG,GAAG,OAAO,OAAO,GAAG,CAAC;AACzE,OAAG,wBAAwBA,QAAO,iBAAiB;AACnD,OAAG,WAAW,GAAG,sBAAsB,CAAC;AACxC,OAAG,aAAa,GAAG,WAAW,EAAE,QAAQ,QAAQ,GAAG,gBAAgB,CAAC;AACpE,OAAG,yBAAyBA,QAAO,aAAa;AAChD,OAAG,yBAAyBA,QAAO,iBAAiB;AACpD,OAAG,WAAW,GAAG,cAAc,IAAI;AACnC,OAAG,WAAW,GAAG,sBAAsB,IAAI;AAAA,EAC/C;AAAA,EACA,WAAW,IAAI;AACX,QAAI,KAAK;AACL,aAAO,KAAK;AAChB,QAAI,OAAO,GAAG,cAAc;AAC5B,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,0BAA0B;AAC9C,QAAI,eAAe,cAAc,IAAI,GAAG,eAAeE,gBAAe;AACtE,QAAI,iBAAiB,cAAc,IAAI,GAAG,iBAAiBC,kBAAiB;AAC5E,OAAG,aAAa,MAAM,YAAY;AAClC,OAAG,aAAa,MAAM,cAAc;AACpC,gBAAY,IAAI,IAAI;AACpB,QAAI,cAAc,GAAG,mBAAmB,MAAM,QAAQ;AACtD,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,wCAAwC;AAC5D,QAAI,mBAAmB,GAAG,mBAAmB,MAAM,aAAa;AAChE,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,4CAA4C;AAChE,SAAK,UAAU;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA,eAAe,GAAG,kBAAkB,MAAM,UAAU;AAAA,MACpD,mBAAmB,GAAG,kBAAkB,MAAM,cAAc;AAAA,IAChE;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,IAAM,oBAAoB,oBAAI,IAAI;AAClC,SAASF,aAAY,IAAI,KAAK;AAC1B,MAAI,WAAW,kBAAkB,IAAI,GAAG;AACxC,MAAI;AACA,WAAO;AACX,aAAW,GAAG,cAAc,KAAK;AACjC,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,0BAA0B;AAC9C,oBAAkB,IAAI,KAAK,QAAQ;AACnC,KAAG,YAAY,GAAG,YAAY,QAAQ;AACtC,KAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAChE,KAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAChE,KAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,KAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AAMnE,QAAM,QAAQ;AACd,QAAM,iBAAiB,GAAG;AAC1B,QAAM,YAAY,GAAG;AACrB,QAAM,UAAU,GAAG;AACnB,KAAG,YAAY,GAAG,qBAAqB,IAAI;AAC3C,KAAG,WAAW,GAAG,YAAY,OAAO,gBAAgB,WAAW,SAAS,GAAG;AAC3E,MAAI,iBAAiB,QAAQ,MAAM;AAC/B,QAAI,CAAC;AACD;AACJ,OAAG,YAAY,GAAG,YAAY,QAAQ;AACtC,UAAMG,SAAQ;AACd,UAAMC,kBAAiB,GAAG;AAC1B,UAAMC,aAAY,GAAG;AACrB,UAAMC,WAAU,GAAG;AACnB,OAAG,YAAY,GAAG,qBAAqB,IAAI;AAC3C,OAAG,WAAW,GAAG,YAAYH,QAAOC,iBAAgBC,YAAWC,UAAS,GAAG;AAAA,EAC/E,CAAC;AACD,SAAO;AACX;AACA,IAAIL,mBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBtB,IAAIC,qBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AC7JxB,IAAIK,QAAO,oBAAI,IAAI;AACnB,IAAIC,YAAW,aAAK,OAAO;AACpB,IAAM,WAAN,MAAM,UAAS;AAAA,EAClB,YAAY,SAAS,OAAO,MAAM;AAC9B,SAAK,UAAU;AACf,SAAK,QAAQ;AACb,SAAK,OAAO;AACZ,SAAK,kBAAkB,CAAC;AACxB,SAAK,eAAe,oBAAI,IAAI;AAC5B,SAAK,kBAAkB;AACvB,SAAK,iBAAiB;AACtB,SAAK,gBAAgB,CAAC;AACtB,SAAK,oBAAoB,CAAC;AAC1B,SAAK,wCAAwC;AAC7C,SAAK,oCAAoC;AACzC,SAAK,mBAAmB,IAAIC,OAAM;AAAA,EACtC;AAAA,EACA,OAAO,OAAOC,SAAQ,KAAK;AACvB,QAAI,MAAMA,QAAO,gBAAgB;AACjC,IAAAH,MAAK,IAAI,KAAK,IAAI,UAASG,SAAQ,KAAK,GAAG,CAAC;AAC5C,WAAO;AAAA,EACX;AAAA,EACA,OAAO,IAAI,GAAG;AACV,WAAOH,MAAK,IAAI,CAAC;AAAA,EACrB;AAAA,EACA,YAAYG,SAAQ;AAChB,aAAS,OAAO,KAAK,iBAAiB;AAClC,MAAAA,QAAO,gBAAgB,GAAG;AAC1B,WAAK,KAAK,oBAAoB;AAAA,QAC1B,GAAG;AAAA,QACH,GAAG,KAAK;AAAA,QACR,GAAG;AAAA,MACP,GAAG,CAAC,GAAG,CAAC;AAAA,IACZ;AACA,SAAK,kBAAkB,CAAC;AACxB,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,iBAAiB;AACb,QAAI,IAAI;AACR,QAAI,eAAe,KAAK,QAAQ,gCAAgC,KAAK,KAAK;AAC1E,QAAI,CAAC;AACD;AACJ,aAAS,KAAK,KAAK,cAAc;AAC7B,UAAI,EAAE,CAAC,IAAI,cAAc;AACrB,YAAI,EAAE,CAAC,EAAE;AACL,eAAK,cAAc,KAAK,EAAE,CAAC,EAAE,OAAO;AACxC,SAAC,MAAM,KAAK,EAAE,CAAC,EAAE,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,EAAE;AACtH,aAAK,aAAa,OAAO,EAAE,CAAC,CAAC;AAAA,MACjC;AAAA,IACJ;AAAA,EACJ;AAAA,EACA,kBAAkB,KAAK;AACnB,QAAI,KAAK,qBAAqB,KAAK,yCAC5B,IAAI,SAAS,KAAK,mCAAmC;AACxD,UAAI,OAAO,KAAK,aAAa,IAAI,IAAI,KAAK;AAC1C,UAAI,MAAM;AACN,YAAI,IAAI;AACJ,eAAK,kBAAkB,qBAAqB,IAAI,GAAG;AACvD,aAAK,OAAO,IAAI;AAChB,aAAK,kBAAkB,kBAAkB,IAAI;AAAA,MACjD;AAAA,IACJ;AACA,SAAK,kBAAkB,KAAK,IAAI,CAAC;AACjC,SAAK;AAAA,EACT;AAAA,EACA,oBAAoB,gBAAgB;AAChC,QAAI,CAAC,KAAK;AACN,WAAK,oBAAoB,IAAI,iBAAiB,cAAc;AAChE,SAAK,kBAAkB,MAAM;AAC7B,SAAK,oCAAoC,KAAK;AAAA,EAClD;AAAA,EACA,qBAAqB;AACjB,QAAI;AACJ,KAAC,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK;AAAA,EAC/E;AAAA,EACA,qBAAqB;AACjB,QAAI;AACJ,aAAS,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,MAAM,IAAI,WAAW,CAAC;AAAA,EAC7G;AAAA,EACA,sBAAsB;AAClB,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,qCAAqC,GAAG;AACpC,SAAK,wCAAwC;AAAA,EACjD;AAAA,EACA,kBAAkB;AACd,WAAO,KAAK,cAAc,IAAI;AAAA,EAClC;AAAA,EACA,UAAU;AACN,SAAK,QAAQ,iBAAiB,KAAK,KAAK;AACxC,IAAAH,MAAK,OAAO,KAAK,KAAK;AAAA,EAC1B;AAAA,EACA,uBAAuB;AACnB,QAAI,eAAe,KAAK,QAAQ,gCAAgC,KAAK,KAAK;AAC1E,QAAI,CAAC;AACD,aAAO;AACX,WAAO,KAAK,aAAa,IAAI,YAAY;AAAA,EAC7C;AAAA,EACA,kBAAkB,aAAa,cAAc,QAAQ;AACjD,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,QAAQ,KAAK,qBAAqB;AACtC,QAAI,CAAC;AACD;AACJ,QAAI,CAAC,KAAK;AACN,WAAK,cAAc,IAAI,WAAW,KAAK,SAAS;AACpD,SAAK,YAAY,gBAAgB,aAAa,cAAc,OAAO,WAAW,IAAI;AAAA,EACtF;AAAA,EACA,gBAAgB;AACZ,QAAI,KAAK;AACL,WAAK,YAAY,QAAQ;AAC7B,QAAI,KAAK;AACL,WAAK,UAAU,QAAQ;AAC3B,QAAI,KAAK;AACL,WAAK,wBAAwB,QAAQ;AACzC,QAAI,KAAK;AACL,WAAK,iBAAiB,QAAQ;AAClC,WAAO,KAAK;AACZ,WAAO,KAAK;AACZ,WAAO,KAAK;AACZ,WAAO,KAAK;AACZ,qBAAiB;AACjB,SAAK,iBAAiB,KAAK;AAC3B,aAAS,OAAO,KAAK,eAAe;AAChC,UAAI,KAAK;AACL,aAAK,UAAU,cAAc,GAAG;AAAA,IACxC;AACA,SAAK,gBAAgB,CAAC;AACtB,aAAS,QAAQ,KAAK,cAAc;AAChC,UAAI,KAAK,aAAa,KAAK,CAAC,EAAE;AAC1B,aAAK,UAAU,cAAc,KAAK,CAAC,EAAE,OAAO;AAChD,WAAK,CAAC,EAAE,UAAU;AAAA,IACtB;AACA,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,aAAa,IAAI,aAAa;AAC1B,SAAK,cAAc;AACnB,SAAK,YAAY;AACjB,kBAAc,eAAe,CAAC;AAC9B,aAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AACxB,UAAI,MAAM,YAAY,CAAC,KAAK,GAAG,cAAc;AAC7C,UAAI,KAAK;AACL,WAAG,YAAY,GAAG,YAAY,GAAG;AACjC,WAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,WAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,WAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAChE,aAAK,cAAc,KAAK,GAAG;AAAA,MAC/B;AAAA,IACJ;AACA,OAAG,YAAY,GAAG,YAAY,IAAI;AAAA,EACtC;AAAA,EACA,SAASI,mBAAkB,cAAc,cAAc,GAAG;AACtD,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,KAAK;AACN,WAAK,YAAY,IAAI,SAAS,KAAK,SAAS;AAChD,QAAI,MAAM,aAAK,OAAO;AACtB,iBAAK,SAAS,KAAKA,mBAAkB,YAAY;AACjD,iBAAK,SAAS,KAAK,KAAK,YAAY;AACpC,SAAK,UAAU,SAAS,KAAK,CAAC;AAAA,EAClC;AAAA,EACA,uBAAuBA,mBAAkB,cAAc,cAAc,MAAM,GAAG;AAC1E,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,KAAK;AACN,WAAK,0BAA0B,IAAI,gBAAgB,KAAK,SAAS;AACrE,QAAI,MAAM,aAAK,OAAO;AACtB,iBAAK,SAAS,KAAKA,mBAAkB,YAAY;AACjD,iBAAK,SAAS,KAAK,KAAK,YAAY;AACpC,SAAK,wBAAwB,KAAK,KAAK,GAAG,IAAI;AAAA,EAClD;AAAA,EACA,gBAAgB,QAAQ,UAAU,UAAU,KAAK,SAAS,SAAS;AAC/D,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,KAAK;AACN,WAAK,mBAAmB,IAAI,gBAAgB,KAAK,SAAS;AAC9D,SAAK,iBAAiB,SAAS,QAAQ,UAAU,UAAU,KAAK,SAAS,OAAO;AAAA,EACpF;AAAA,EACA,qBAAqB;AACjB,QAAI;AACJ,YAAQ,KAAK,KAAK,qBAAqB,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA,EACtF;AAAA,EACA,yBAAyB,IAAI,IAAI,QAAQ;AACrC,QAAI,OAAO,KAAK,qBAAqB;AACrC,QAAI,CAAC;AACD,aAAO,aAAK,OAAO;AACvB,WAAO,yBAAyB,KAAK,WAAW,KAAK,YAAY,IAAI,IAAI,KAAK,eAAeH,WAAU,MAAM;AAAA,EACjH;AAAA,EACA,wBAAwB;AACpB,QAAI;AACJ,aAAS,KAAK,KAAK,qBAAqB,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe;AAAA,EACtG;AAAA,EACA,uBAAuB,QAAQ;AAC3B,QAAI,MAAM,2BAA2B,KAAK,qBAAqB,GAAG,KAAK,QAAQ,sCAAsC,KAAK,KAAK,CAAC;AAChI,QAAI,QAAQ;AACR,UAAII,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,iBAAK,OAAO,KAAK,GAAG;AACpB,WAAO;AAAA,EACX;AAAA,EACA,qBAAqB,KAAK;AACtB,QAAI,UAAU,KAAK;AACnB,UAAM,eAAe,gBAAgB,IAAI,MAAM;AAC/C,QAAI,CAAC;AACD;AACJ,SAAK,aAAa,IAAI,SAAS;AAAA,MAC3B,WAAW,IAAI;AAAA,MACf,YAAY,IAAI;AAAA,MAChB,SAAS;AAAA,MACT,OAAO,IAAI;AAAA,MACX,YAAY,IAAI;AAAA,MAChB,aAAa,IAAI;AAAA,MACjB,aAAa,IAAI;AAAA,MACjB,gBAAgB,IAAI;AAAA,MACpB;AAAA,IACJ,CAAC;AACD,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,sBAAsB,KAAK;AACvB,QAAI,OAAO,KAAK,aAAa,IAAI,IAAI,OAAO;AAC5C,QAAI,CAAC;AACD;AACJ,SAAK,YAAY,IAAI;AACrB,SAAK,aAAa,IAAI;AACtB,SAAK,QAAQ,IAAI;AACjB,SAAK,aAAa,IAAI;AACtB,SAAK,cAAc,IAAI;AACvB,SAAK;AACL,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,WAAW;AACP,QAAI,IAAI;AACR,QAAI,OAAO,KAAK,qBAAqB;AACrC,KAAC,MAAM,KAAK,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK,kBAAkB,QAAQ,OAAO,SAAS,SAAS,GAAG,cAAc,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,IAAI;AAAA,EACtL;AAAA,EACA,cAAc,MAAM;AAChB,QAAI,UAAU,KAAK;AACnB,SAAK,aAAa,IAAI,SAAS,IAAI;AACnC,SAAK;AACL,WAAO;AAAA,EACX;AAAA,EACA,YAAY;AACR,QAAI,CAAC,KAAK,WAAW;AACjB,YAAM,uEAAuE;AAC7E;AAAA,IACJ;AACA,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,KAAK,iBAAiB,GAAG;AACzB,WAAK,oBAAoB,SAAS,IAAI;AACtC;AAAA,IACJ;AACA,SAAK,oBAAoB,SAAS,KAAK;AAAA,EAC3C;AAAA,EACA,0BAA0B,WAAW,GAAG,GAAGC,IAAG;AAC1C,QAAI;AACJ,QAAI,CAAC,KAAK;AACN,OAAC,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,oBAAoB,WAAW,GAAG,GAAGA,EAAC;AAChH,SAAK,QAAQ,qCAAqC,KAAK,OAAO,WAAW,GAAG,GAAGA,EAAC;AAAA,EACpF;AAAA,EACA,yBAAyB,WAAW,GAAG,GAAGA,IAAG;AACzC,QAAI;AACJ,QAAI,CAAC,KAAK;AACN,OAAC,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB,WAAW,GAAG,GAAGA,EAAC;AAC/G,SAAK,QAAQ,qCAAqC,KAAK,OAAO,WAAW,GAAG,GAAGA,EAAC;AAAA,EACpF;AAAA,EACA,qBAAqB,WAAW,GAAG,GAAGA,IAAG;AACrC,QAAI;AACJ,QAAI,CAAC,KAAK;AACN,OAAC,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,WAAW,GAAG,GAAGA,EAAC;AAC3G,SAAK,QAAQ,gCAAgC,KAAK,OAAO,WAAW,GAAG,GAAGA,EAAC;AAAA,EAC/E;AAAA,EACA,qBAAqB,GAAG;AAEpB,SAAK,QAAQ,uCAAuC,KAAK,OAAO,CAAC;AAAA,EACrE;AAAA,EACA,yBAAyB,QAAQ,QAAQ,YAAY;AACjD,QAAI,MAAM;AAAA,MACN,GAAG;AAAA,MACH,GAAG,KAAK;AAAA,MACR,GAAG;AAAA,MACH;AAAA,MACA;AAAA,IACJ;AACA,SAAK,KAAK,oBAAoB,KAAK,CAAC,IAAI,CAAC,CAAC;AAAA,EAC9C;AAAA,EACA,mCAAmC,KAAK;AACpC,QAAI,MAAM;AAAA,MACN,GAAG,KAAK;AAAA,MACR,GAAG;AAAA,MACH,GAAG;AAAA,IACP;AACA,SAAK,KAAK,oBAAoB,KAAK,CAAC,CAAC;AAAA,EACzC;AAAA,EACA,wBAAwB,KAAK,KAAK,YAAY,SAAS,aAAa,gBAAgB;AAChF,QAAI,MAAM;AAAA,MACN,GAAG,KAAK;AAAA,MACR,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,MACH;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AACA,SAAK,KAAK,oBAAoB,KAAK,CAAC,GAAG,CAAC;AAAA,EAC5C;AAAA,EACA,iBAAiB,MAAM,OAAO,OAAO,QAAQ,YAAY,gBAAgB,aAAa;AAClF,QAAI,MAAM;AAAA,MACN,GAAG;AAAA,MACH,GAAG,KAAK;AAAA,MACR;AAAA,MAAO;AAAA,MAAQ;AAAA,MAAO;AAAA,MACtB,KAAK;AAAA,MACL,IAAI;AAAA,MACJ,GAAG;AAAA,IACP;AACA,SAAK,KAAK,oBAAoB,KAAK,CAAC,IAAI,CAAC;AAAA,EAC7C;AACJ;AACO,SAAS,2BAA2B,MAAM,KAAK;AAClD,MAAI,aAAa;AACjB,eAAa,OAAO,KAAK,aAAa;AACtC,MAAI,OAAO,aAAK,OAAO;AACvB,eAAK,aAAa,MAAM,mCAAmC,UAAU,IAAI,KAAK,KAAK,KAAO,CAAC,GAAG,GAAG,CAAC,CAAC;AACnG,eAAK,SAAS,MAAM,MAAM,GAAG;AAC7B,SAAO;AACX;;;ACpVO,IAAM,eAAe,EAAE,GAAG,CAAC,EAAE,MAAM,CAAC,OAAO,QAAQ,MAAM,GAAG,UAAU,CAAC,MAAO,OAAQ,OAAQ,QAAS,MAAQ,QAAS,MAAQ,OAAQ,OAAQ,OAAQ,QAAS,OAAS,OAAQ,OAAQ,GAAG,MAAQ,MAAO,OAAQ,QAAS,QAAS,OAAS,OAAQ,OAAQ,OAAS,MAAQ,QAAS,GAAG,OAAQ,OAAQ,MAAQ,MAAO,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,MAAQ,QAAS,OAAS,MAAQ,QAAS,OAAQ,QAAS,MAAQ,QAAS,MAAQ,QAAS,MAAQ,MAAQ,OAAQ,OAAS,MAAQ,QAAS,OAAS,OAAS,OAAQ,OAAS,OAAQ,OAAS,OAAQ,QAAS,OAAS,MAAQ,MAAQ,QAAS,OAAS,OAAS,OAAS,MAAQ,MAAQ,OAAS,OAAQ,OAAS,OAAS,OAAQ,QAAS,OAAS,QAAS,GAAG,QAAS,MAAQ,QAAS,OAAQ,OAAQ,QAAS,OAAS,OAAS,OAAS,OAAS,MAAQ,OAAQ,MAAQ,OAAS,QAAS,MAAQ,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,OAAS,OAAQ,QAAS,QAAS,OAAQ,MAAO,QAAS,OAAS,OAAS,MAAQ,MAAQ,MAAQ,QAAS,MAAQ,QAAS,MAAQ,OAAQ,MAAO,OAAS,OAAS,MAAQ,OAAS,OAAS,OAAS,OAAQ,MAAQ,OAAS,MAAQ,QAAS,MAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,MAAQ,MAAO,MAAQ,QAAS,KAAO,GAAG,YAAY,CAAC,GAAG,MAAQ,OAAQ,OAAS,QAAS,SAAS,GAAG,OAAQ,OAAQ,QAAS,QAAQ,OAAO,OAAS,OAAS,OAAQ,QAAS,SAAS,OAAQ,SAAS,SAAS,QAAQ,QAAS,SAAS,SAAS,MAAQ,QAAS,QAAS,OAAQ,OAAQ,SAAS,OAAQ,OAAO,OAAQ,QAAS,SAAS,OAAQ,SAAS,SAAS,QAAQ,QAAS,SAAS,OAAQ,OAAQ,QAAQ,QAAQ,QAAQ,OAAO,SAAS,OAAQ,QAAQ,QAAQ,MAAQ,QAAQ,OAAQ,SAAS,QAAQ,QAAQ,QAAS,QAAQ,OAAQ,SAAS,QAAQ,QAAS,MAAO,SAAS,SAAS,SAAS,QAAQ,MAAQ,QAAS,OAAQ,MAAO,SAAS,QAAQ,SAAS,QAAQ,MAAO,QAAQ,SAAS,QAAQ,QAAS,SAAS,OAAQ,SAAS,QAAQ,OAAQ,OAAO,EAAE,GAAG,EAAE,MAAM,CAAC,QAAQ,QAAQ,MAAM,GAAG,UAAU,CAAC,OAAQ,OAAQ,MAAQ,QAAS,GAAG,QAAS,MAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAQ,OAAS,GAAG,OAAQ,QAAS,QAAS,OAAS,OAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,QAAS,MAAO,MAAQ,MAAQ,OAAQ,QAAS,MAAQ,OAAQ,OAAS,MAAQ,QAAS,OAAS,OAAS,QAAS,QAAS,OAAS,QAAS,OAAQ,QAAS,MAAQ,QAAS,OAAQ,QAAS,QAAS,OAAQ,QAAS,OAAS,MAAQ,QAAS,OAAQ,MAAQ,OAAQ,OAAQ,MAAO,OAAS,MAAQ,QAAS,OAAS,MAAO,MAAQ,QAAS,OAAQ,MAAQ,QAAS,MAAO,MAAQ,OAAS,OAAS,OAAQ,OAAS,MAAQ,OAAS,OAAS,QAAS,OAAS,OAAQ,MAAQ,QAAS,OAAQ,OAAQ,MAAQ,OAAS,OAAS,OAAS,OAAQ,GAAG,OAAQ,MAAQ,MAAQ,QAAS,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAS,QAAS,QAAS,OAAQ,QAAS,OAAQ,OAAS,OAAS,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OAAS,MAAQ,QAAS,MAAQ,MAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,OAAS,MAAQ,OAAQ,MAAQ,OAAQ,MAAQ,QAAS,OAAS,GAAG,MAAQ,MAAQ,MAAQ,OAAS,MAAQ,MAAQ,OAAS,OAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,MAAO,GAAG,YAAY,CAAC,QAAS,OAAQ,OAAQ,MAAO,MAAQ,SAAS,OAAS,OAAQ,OAAQ,OAAQ,QAAQ,QAAQ,OAAS,QAAQ,OAAQ,SAAS,QAAQ,MAAO,SAAS,QAAQ,OAAO,QAAQ,QAAQ,QAAS,QAAS,QAAS,QAAS,OAAO,QAAQ,QAAQ,QAAQ,OAAO,OAAO,QAAS,QAAQ,SAAS,SAAS,QAAQ,OAAQ,QAAS,QAAQ,OAAQ,QAAQ,SAAS,OAAQ,QAAQ,SAAS,SAAS,QAAQ,SAAS,SAAS,OAAQ,SAAS,QAAS,QAAQ,SAAS,QAAQ,OAAQ,OAAQ,OAAQ,QAAQ,SAAS,SAAS,MAAO,OAAO,SAAS,OAAQ,QAAQ,OAAQ,OAAQ,QAAQ,MAAO,SAAS,OAAO,QAAS,QAAQ,QAAS,QAAQ,SAAS,OAAQ,GAAG,QAAS,QAAS,SAAS,QAAQ,QAAS,KAAM,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,MAAM,CAAC,SAAS,QAAQ,MAAM,GAAG,UAAU,CAAC,QAAS,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAS,QAAS,OAAQ,OAAS,OAAQ,MAAQ,MAAQ,MAAQ,QAAS,OAAQ,QAAS,QAAS,OAAQ,OAAQ,OAAS,MAAQ,QAAS,GAAG,QAAS,MAAQ,MAAQ,QAAS,QAAS,OAAQ,MAAQ,MAAQ,OAAQ,MAAQ,OAAS,OAAQ,GAAG,MAAQ,OAAS,OAAQ,OAAQ,QAAS,QAAS,QAAS,MAAQ,OAAQ,QAAS,MAAQ,OAAQ,MAAQ,MAAO,MAAQ,MAAO,QAAS,OAAQ,QAAS,OAAQ,MAAQ,MAAQ,QAAS,MAAQ,QAAS,OAAQ,OAAQ,OAAS,QAAS,OAAS,OAAQ,OAAS,OAAQ,QAAS,MAAQ,OAAQ,OAAQ,OAAS,QAAS,QAAS,MAAQ,OAAQ,MAAQ,OAAQ,OAAS,GAAG,QAAS,OAAS,GAAG,MAAQ,MAAQ,OAAQ,OAAQ,QAAS,MAAQ,QAAS,QAAS,QAAS,OAAQ,QAAS,OAAQ,OAAQ,QAAS,QAAS,MAAQ,OAAQ,QAAS,OAAS,OAAS,OAAQ,QAAS,GAAG,OAAS,OAAQ,QAAS,OAAQ,QAAS,QAAS,QAAS,MAAQ,QAAS,OAAQ,QAAS,MAAQ,OAAS,OAAS,OAAQ,OAAS,OAAQ,MAAQ,OAAS,OAAS,OAAQ,MAAQ,GAAG,OAAS,MAAQ,OAAS,OAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,OAAQ,MAAQ,QAAS,IAAM,GAAG,YAAY,CAAC,QAAS,OAAS,MAAO,MAAO,QAAS,SAAS,OAAS,MAAO,OAAQ,QAAS,QAAQ,QAAQ,OAAS,OAAS,OAAQ,QAAS,SAAS,QAAS,OAAS,SAAS,QAAQ,OAAS,SAAS,SAAS,MAAQ,QAAS,QAAS,OAAQ,OAAQ,SAAS,QAAS,QAAQ,QAAQ,OAAQ,SAAS,OAAS,SAAS,QAAQ,SAAS,QAAS,OAAQ,OAAQ,QAAS,QAAQ,OAAQ,SAAS,OAAO,QAAQ,OAAQ,SAAS,SAAS,SAAS,QAAQ,QAAQ,QAAS,SAAS,SAAS,MAAQ,QAAQ,OAAS,OAAQ,QAAQ,SAAS,QAAS,QAAS,QAAQ,QAAQ,OAAO,QAAS,QAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,QAAS,QAAQ,SAAS,QAAQ,QAAQ,SAAS,QAAQ,OAAQ,SAAS,QAAS,QAAQ,OAAO,EAAE,GAAG,EAAE,MAAM,CAAC,SAAS,QAAQ,MAAM,GAAG,UAAU,CAAC,QAAS,QAAQ,MAAQ,OAAQ,OAAS,QAAS,OAAS,OAAQ,OAAQ,QAAS,QAAS,QAAS,OAAS,OAAQ,OAAS,MAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAS,QAAS,MAAQ,OAAS,OAAQ,OAAS,QAAS,QAAS,OAAS,OAAS,QAAS,QAAS,MAAQ,MAAQ,QAAS,MAAO,OAAQ,OAAS,MAAQ,MAAQ,GAAG,OAAS,OAAQ,OAAQ,QAAS,OAAQ,QAAS,MAAQ,OAAQ,QAAS,MAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAS,QAAS,QAAS,OAAQ,MAAQ,OAAS,QAAS,MAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAS,MAAQ,OAAQ,OAAS,MAAO,QAAS,OAAS,MAAQ,MAAQ,MAAQ,OAAS,QAAS,OAAS,OAAQ,MAAQ,QAAS,GAAG,OAAS,OAAS,OAAS,OAAS,MAAQ,OAAS,MAAQ,OAAQ,OAAS,OAAQ,QAAS,OAAS,OAAS,OAAQ,QAAS,MAAQ,OAAQ,QAAS,OAAS,QAAS,OAAQ,OAAS,QAAS,MAAQ,MAAQ,OAAS,OAAS,GAAG,MAAO,OAAQ,OAAQ,OAAS,QAAS,OAAS,OAAS,QAAS,MAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,MAAQ,OAAQ,OAAS,MAAQ,OAAS,OAAQ,OAAS,OAAS,OAAS,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAO,OAAS,MAAQ,OAAQ,MAAO,MAAQ,OAAS,MAAO,GAAG,YAAY,CAAC,MAAQ,OAAQ,OAAQ,OAAS,MAAQ,QAAQ,OAAS,QAAS,OAAQ,QAAS,QAAQ,QAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAQ,OAAQ,QAAS,QAAQ,QAAQ,QAAQ,QAAQ,QAAS,OAAQ,QAAQ,QAAS,QAAQ,QAAQ,SAAS,QAAS,QAAQ,QAAQ,OAAS,SAAS,SAAS,SAAS,QAAS,SAAS,QAAS,QAAQ,MAAQ,SAAS,OAAQ,QAAS,SAAS,SAAS,SAAS,QAAQ,QAAQ,MAAO,SAAS,SAAS,QAAQ,QAAQ,QAAS,QAAS,QAAS,OAAQ,OAAS,SAAS,SAAS,SAAS,QAAS,SAAS,QAAS,QAAQ,OAAO,QAAS,OAAQ,SAAS,OAAQ,QAAQ,QAAQ,QAAS,QAAS,QAAQ,SAAS,QAAQ,QAAQ,SAAS,OAAQ,QAAS,SAAS,OAAQ,QAAS,MAAO,EAAE,CAAC,GAAG,GAAG,EAAE,MAAM,CAAC,QAAQ,QAAQ,MAAM,GAAG,UAAU,CAAC,QAAQ,QAAQ,SAAS,QAAS,QAAQ,QAAS,QAAS,SAAS,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,QAAS,QAAS,QAAS,MAAQ,OAAQ,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,QAAS,QAAS,MAAO,QAAS,OAAQ,OAAS,MAAO,QAAS,MAAO,OAAQ,OAAQ,QAAS,QAAS,QAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAQ,GAAG,OAAQ,MAAQ,OAAS,OAAS,QAAS,OAAS,MAAQ,QAAS,MAAQ,OAAS,QAAS,MAAQ,MAAQ,OAAQ,MAAQ,MAAQ,OAAQ,QAAS,OAAQ,OAAQ,MAAO,MAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,MAAQ,QAAS,QAAS,MAAQ,OAAS,OAAS,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,OAAS,OAAQ,MAAQ,MAAQ,OAAQ,OAAS,GAAG,GAAG,MAAQ,MAAQ,OAAQ,OAAQ,MAAQ,MAAQ,OAAS,MAAQ,MAAQ,MAAQ,OAAS,MAAQ,OAAS,MAAO,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAO,QAAS,OAAS,MAAQ,OAAQ,OAAS,OAAS,MAAQ,MAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,MAAQ,OAAS,OAAS,OAAS,OAAS,GAAG,OAAS,MAAQ,MAAQ,OAAS,OAAS,MAAQ,MAAQ,OAAS,OAAQ,OAAS,MAAQ,MAAQ,OAAS,MAAQ,GAAG,MAAQ,IAAM,GAAG,YAAY,CAAC,MAAQ,OAAS,MAAQ,GAAG,MAAQ,MAAQ,GAAG,GAAG,MAAQ,OAAS,MAAQ,MAAQ,OAAS,MAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,MAAQ,MAAQ,GAAG,MAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,MAAQ,GAAG,OAAS,MAAQ,OAAQ,MAAQ,OAAS,QAAS,GAAG,MAAQ,MAAQ,OAAS,MAAQ,OAAQ,OAAS,MAAQ,MAAQ,MAAQ,OAAS,QAAS,OAAQ,QAAS,QAAS,MAAQ,OAAS,QAAS,GAAG,OAAS,MAAQ,OAAS,MAAQ,OAAQ,OAAS,MAAQ,OAAQ,MAAQ,OAAS,QAAS,OAAS,MAAQ,OAAQ,OAAS,MAAQ,OAAQ,OAAS,MAAQ,MAAQ,OAAS,GAAG,GAAG,OAAS,MAAQ,OAAQ,MAAQ,GAAG,OAAS,OAAS,MAAQ,IAAM,EAAE,GAAG,GAAG,EAAE,MAAM,CAAC,SAAS,QAAQ,IAAI,GAAG,UAAU,CAAC,SAAS,QAAQ,SAAS,OAAQ,QAAQ,QAAS,OAAQ,SAAS,QAAS,QAAS,QAAS,OAAQ,QAAS,OAAQ,OAAQ,QAAS,OAAQ,QAAS,OAAQ,MAAQ,OAAQ,QAAS,OAAQ,MAAQ,QAAS,MAAQ,MAAO,QAAS,QAAS,OAAS,OAAQ,MAAQ,QAAS,OAAS,QAAS,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAQ,OAAS,OAAS,OAAQ,MAAO,MAAQ,OAAQ,OAAQ,MAAQ,OAAS,QAAS,QAAS,OAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,QAAS,QAAS,QAAS,OAAS,MAAO,MAAQ,OAAQ,OAAQ,QAAS,OAAS,QAAS,QAAS,MAAQ,OAAQ,QAAS,QAAS,MAAO,OAAS,OAAS,QAAS,MAAQ,MAAQ,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,OAAS,MAAQ,MAAQ,MAAQ,OAAS,QAAS,MAAQ,GAAG,OAAQ,OAAS,QAAS,QAAS,OAAQ,OAAS,QAAS,OAAS,OAAQ,GAAG,MAAQ,MAAQ,OAAS,OAAS,OAAS,OAAS,OAAS,MAAQ,MAAQ,MAAQ,OAAS,OAAQ,QAAS,MAAQ,QAAS,OAAS,OAAS,GAAG,OAAQ,OAAS,OAAS,MAAQ,OAAS,OAAS,QAAS,OAAS,OAAS,MAAQ,OAAS,MAAQ,OAAS,GAAG,MAAQ,MAAQ,OAAS,MAAQ,MAAQ,MAAQ,OAAQ,OAAS,OAAQ,OAAS,OAAS,MAAQ,OAAS,OAAS,IAAM,GAAG,YAAY,CAAC,OAAS,OAAS,MAAQ,MAAQ,GAAG,OAAS,GAAG,OAAS,OAAS,OAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAS,GAAG,MAAQ,OAAS,OAAQ,MAAQ,GAAG,MAAQ,MAAQ,GAAG,MAAQ,MAAQ,MAAQ,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,MAAQ,QAAS,QAAS,GAAG,MAAQ,MAAQ,GAAG,QAAS,QAAS,MAAQ,OAAQ,MAAQ,OAAS,QAAS,QAAS,OAAS,OAAQ,MAAO,OAAS,OAAS,OAAS,GAAG,QAAS,QAAS,OAAS,OAAQ,OAAQ,MAAQ,OAAQ,MAAQ,MAAQ,QAAS,QAAS,MAAQ,OAAQ,OAAQ,GAAG,OAAS,OAAS,OAAS,MAAQ,MAAQ,OAAS,OAAS,OAAS,MAAQ,OAAQ,OAAQ,MAAQ,OAAS,QAAS,GAAG,MAAQ,IAAM,EAAE,GAAG,GAAG,EAAE,MAAM,CAAC,OAAQ,QAAQ,KAAK,GAAG,UAAU,CAAC,QAAS,QAAQ,OAAQ,MAAQ,QAAS,OAAS,OAAS,OAAQ,MAAQ,OAAS,QAAS,OAAQ,MAAQ,OAAQ,QAAS,OAAS,OAAQ,OAAQ,MAAQ,OAAS,QAAS,MAAQ,OAAS,OAAQ,GAAG,MAAQ,QAAS,OAAS,OAAQ,QAAS,OAAS,OAAQ,OAAQ,OAAS,OAAS,OAAQ,MAAQ,MAAO,QAAS,GAAG,OAAS,OAAQ,GAAG,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAS,QAAS,OAAQ,MAAQ,MAAQ,MAAQ,QAAS,OAAQ,OAAQ,OAAS,OAAQ,MAAQ,GAAG,MAAQ,OAAS,QAAS,MAAQ,MAAQ,GAAG,QAAS,OAAS,OAAS,MAAQ,OAAQ,MAAQ,OAAS,OAAQ,OAAS,QAAS,QAAS,OAAQ,QAAS,QAAS,MAAQ,MAAQ,OAAQ,MAAQ,OAAQ,GAAG,GAAG,QAAS,GAAG,OAAS,QAAS,QAAS,OAAS,OAAQ,MAAO,OAAQ,MAAQ,MAAO,OAAS,MAAQ,OAAQ,OAAS,QAAS,QAAS,MAAQ,MAAQ,MAAQ,MAAQ,OAAS,QAAS,OAAQ,QAAS,MAAQ,MAAQ,MAAQ,GAAG,OAAS,OAAS,QAAS,OAAS,MAAO,QAAS,MAAQ,QAAS,QAAS,MAAQ,OAAS,QAAS,QAAS,MAAQ,MAAO,QAAS,QAAS,OAAQ,MAAQ,MAAQ,MAAQ,OAAS,QAAS,QAAS,MAAQ,OAAS,QAAS,MAAQ,OAAS,QAAS,OAAS,MAAQ,KAAO,GAAG,YAAY,CAAC,QAAS,OAAQ,OAAQ,MAAO,SAAS,QAAS,MAAQ,MAAQ,OAAQ,QAAS,SAAS,QAAQ,OAAQ,QAAS,OAAQ,QAAS,SAAS,QAAQ,QAAS,SAAS,QAAQ,OAAS,SAAS,QAAQ,OAAQ,OAAS,OAAQ,OAAQ,QAAQ,SAAS,QAAS,OAAO,OAAO,OAAQ,SAAS,SAAS,OAAQ,OAAQ,QAAS,OAAQ,MAAQ,OAAS,MAAQ,SAAS,OAAQ,OAAS,SAAS,QAAQ,QAAS,MAAQ,OAAQ,QAAS,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,OAAS,OAAQ,QAAS,MAAO,OAAQ,QAAS,QAAS,MAAQ,OAAQ,OAAQ,MAAQ,SAAS,OAAS,MAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAS,QAAS,OAAQ,OAAQ,OAAQ,QAAS,MAAQ,OAAS,OAAQ,OAAQ,OAAQ,KAAO,EAAE,GAAG,GAAG,EAAE,MAAM,CAAC,OAAQ,SAAS,MAAM,GAAG,UAAU,CAAC,QAAS,OAAQ,QAAQ,MAAQ,QAAS,MAAQ,MAAQ,OAAQ,MAAO,OAAS,QAAS,QAAS,MAAQ,OAAS,QAAS,OAAS,OAAS,MAAO,OAAS,OAAQ,QAAS,MAAQ,QAAS,QAAS,MAAQ,MAAQ,OAAQ,OAAS,MAAQ,QAAS,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAS,OAAS,OAAS,MAAQ,QAAS,OAAS,OAAS,MAAQ,OAAQ,QAAS,OAAS,OAAQ,MAAQ,QAAS,OAAQ,OAAS,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,GAAG,OAAS,OAAQ,MAAO,QAAS,MAAQ,MAAQ,MAAQ,QAAS,OAAQ,OAAS,QAAS,OAAQ,OAAQ,QAAS,OAAQ,OAAS,MAAQ,QAAS,QAAS,OAAQ,QAAS,OAAQ,OAAS,OAAQ,MAAQ,OAAS,OAAQ,MAAQ,OAAS,OAAS,QAAS,MAAQ,OAAS,OAAS,OAAS,OAAQ,OAAQ,MAAO,QAAS,OAAQ,QAAS,OAAQ,MAAQ,QAAS,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,GAAG,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,QAAS,MAAQ,QAAS,MAAO,OAAS,QAAS,MAAQ,OAAQ,MAAQ,MAAQ,OAAQ,OAAQ,MAAQ,OAAS,QAAS,OAAS,MAAO,OAAS,MAAQ,OAAS,MAAQ,QAAS,OAAQ,OAAQ,OAAS,QAAS,OAAQ,QAAS,MAAQ,OAAS,MAAQ,OAAQ,OAAS,OAAS,KAAO,GAAG,YAAY,CAAC,QAAS,SAAS,OAAQ,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAS,QAAS,QAAQ,SAAS,SAAS,OAAQ,OAAQ,OAAQ,QAAQ,QAAQ,OAAS,QAAQ,SAAS,SAAS,OAAO,OAAQ,QAAQ,QAAQ,QAAQ,QAAS,QAAQ,QAAQ,QAAS,QAAQ,QAAQ,MAAO,SAAS,QAAQ,OAAS,MAAO,QAAS,QAAQ,QAAS,QAAS,OAAQ,OAAO,QAAS,OAAS,SAAS,OAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAS,QAAQ,MAAQ,OAAQ,OAAQ,OAAQ,QAAQ,SAAS,MAAO,QAAQ,OAAQ,OAAQ,QAAQ,QAAS,QAAS,SAAS,QAAQ,QAAQ,OAAQ,QAAQ,QAAS,QAAQ,SAAS,QAAS,OAAQ,SAAS,QAAQ,OAAQ,QAAQ,QAAQ,SAAS,SAAS,MAAO,MAAQ,KAAO,EAAE,GAAG,GAAG,EAAE,MAAM,CAAC,OAAS,SAAS,MAAM,GAAG,UAAU,CAAC,OAAS,QAAS,MAAM,GAAG,QAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,OAAQ,QAAS,OAAS,OAAQ,QAAS,MAAQ,QAAS,OAAQ,MAAQ,OAAQ,QAAS,MAAQ,QAAS,QAAS,MAAQ,OAAQ,QAAS,GAAG,MAAQ,QAAS,OAAQ,OAAQ,OAAQ,QAAS,MAAQ,OAAQ,OAAS,OAAS,OAAS,MAAQ,QAAS,QAAS,OAAS,MAAQ,MAAQ,QAAS,QAAS,OAAQ,OAAS,QAAS,OAAQ,OAAS,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,MAAQ,OAAQ,GAAG,MAAQ,GAAG,OAAQ,QAAS,MAAQ,MAAO,OAAS,QAAS,MAAQ,OAAS,QAAS,MAAQ,MAAQ,QAAS,MAAQ,GAAG,OAAQ,QAAS,QAAS,GAAG,QAAS,MAAQ,OAAS,OAAQ,OAAS,QAAS,OAAS,MAAQ,OAAQ,OAAS,OAAQ,OAAS,MAAQ,OAAS,QAAS,MAAQ,MAAO,OAAQ,GAAG,MAAQ,QAAS,OAAQ,MAAQ,QAAS,QAAS,MAAO,MAAQ,OAAS,OAAQ,MAAQ,OAAS,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,GAAG,QAAS,OAAQ,MAAO,QAAS,MAAQ,MAAQ,MAAO,OAAS,OAAQ,MAAQ,MAAQ,OAAS,QAAS,QAAS,OAAS,QAAS,MAAQ,OAAS,MAAQ,MAAQ,MAAQ,MAAQ,GAAG,MAAQ,MAAQ,QAAS,OAAQ,OAAS,MAAQ,OAAQ,OAAS,OAAS,KAAM,GAAG,YAAY,CAAC,MAAQ,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,OAAO,QAAQ,MAAO,QAAQ,SAAS,SAAS,QAAQ,QAAS,SAAS,QAAQ,QAAQ,OAAQ,SAAS,SAAS,SAAS,SAAS,QAAQ,QAAQ,OAAQ,MAAQ,SAAS,QAAQ,SAAS,OAAQ,MAAQ,QAAQ,QAAS,SAAS,SAAS,OAAS,OAAQ,OAAQ,OAAO,SAAS,OAAQ,OAAO,OAAQ,SAAS,QAAS,QAAQ,QAAQ,QAAS,OAAQ,QAAQ,QAAS,OAAQ,QAAQ,OAAS,OAAQ,QAAQ,OAAQ,QAAQ,SAAS,GAAG,SAAS,SAAS,OAAQ,QAAQ,SAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,OAAQ,QAAQ,SAAS,OAAQ,QAAS,SAAS,OAAQ,QAAQ,QAAQ,MAAO,SAAS,QAAS,OAAQ,OAAQ,MAAO,EAAE,GAAG,GAAG,EAAE,MAAM,CAAC,OAAQ,SAAS,KAAK,GAAG,UAAU,CAAC,MAAQ,SAAS,OAAQ,OAAS,QAAS,OAAQ,OAAS,QAAS,OAAS,OAAS,OAAQ,QAAS,OAAS,QAAS,QAAS,MAAQ,QAAS,MAAO,MAAQ,OAAQ,OAAS,GAAG,QAAS,MAAQ,OAAS,OAAQ,QAAS,OAAS,OAAS,QAAS,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAS,QAAS,OAAQ,MAAQ,OAAQ,QAAS,OAAS,OAAQ,QAAS,OAAS,QAAS,MAAQ,OAAS,MAAQ,OAAS,GAAG,OAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAS,MAAQ,QAAS,OAAQ,QAAS,MAAQ,OAAQ,MAAQ,QAAS,OAAQ,OAAS,MAAQ,QAAS,GAAG,OAAS,QAAS,OAAS,OAAQ,OAAS,OAAS,OAAQ,MAAQ,MAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAS,MAAQ,OAAQ,MAAQ,QAAS,OAAS,OAAS,GAAG,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAQ,MAAO,OAAS,MAAQ,MAAQ,OAAQ,OAAS,OAAQ,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAQ,OAAS,MAAO,OAAS,GAAG,OAAS,QAAS,MAAQ,MAAQ,OAAQ,MAAQ,QAAS,QAAS,MAAQ,MAAQ,OAAS,OAAS,MAAQ,MAAQ,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,OAAQ,KAAO,GAAG,YAAY,CAAC,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,MAAQ,SAAS,OAAO,QAAQ,QAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,SAAS,SAAS,SAAS,QAAQ,QAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,QAAS,QAAQ,QAAQ,MAAQ,QAAS,OAAQ,QAAQ,QAAS,OAAQ,QAAS,QAAQ,QAAQ,OAAQ,SAAS,SAAS,QAAQ,OAAQ,SAAS,OAAQ,QAAQ,SAAS,QAAS,QAAQ,SAAS,OAAQ,QAAQ,QAAQ,GAAG,SAAS,QAAS,QAAQ,SAAS,QAAQ,QAAQ,OAAQ,QAAQ,QAAQ,OAAQ,SAAS,OAAO,QAAQ,QAAQ,QAAQ,OAAQ,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ,QAAQ,OAAQ,QAAQ,KAAM,EAAE,GAAG,GAAG,EAAE,MAAM,CAAC,QAAS,SAAS,MAAM,GAAG,UAAU,CAAC,MAAQ,SAAS,OAAQ,OAAS,QAAS,OAAQ,MAAQ,QAAS,OAAS,OAAS,OAAQ,OAAQ,OAAS,QAAS,QAAS,MAAQ,QAAS,OAAQ,MAAQ,OAAQ,OAAS,MAAQ,QAAS,OAAS,OAAS,OAAQ,QAAS,OAAS,OAAS,QAAS,OAAQ,OAAQ,OAAQ,QAAS,MAAO,OAAQ,OAAS,QAAS,MAAO,MAAQ,OAAQ,QAAS,OAAS,OAAQ,QAAS,GAAG,QAAS,MAAQ,OAAS,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAS,MAAQ,QAAS,OAAQ,QAAS,MAAQ,OAAQ,MAAQ,QAAS,OAAQ,MAAQ,MAAQ,QAAS,GAAG,OAAS,QAAS,OAAS,OAAQ,OAAS,OAAS,OAAQ,OAAQ,MAAQ,QAAS,OAAQ,QAAS,OAAQ,OAAQ,MAAQ,OAAQ,MAAQ,QAAS,OAAS,OAAS,GAAG,OAAS,OAAS,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,MAAO,MAAQ,OAAS,MAAQ,MAAQ,OAAQ,MAAO,OAAQ,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,MAAQ,OAAS,MAAQ,OAAS,OAAQ,OAAS,MAAQ,GAAG,QAAS,MAAQ,MAAQ,OAAQ,MAAQ,QAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,MAAO,KAAO,GAAG,YAAY,CAAC,QAAS,QAAQ,OAAO,QAAQ,QAAQ,SAAS,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,OAAQ,SAAS,QAAS,SAAS,QAAQ,SAAS,MAAO,QAAQ,SAAS,QAAQ,QAAS,SAAS,OAAS,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,MAAQ,MAAO,QAAS,QAAQ,SAAS,QAAS,QAAS,SAAS,OAAO,OAAQ,QAAQ,SAAS,QAAQ,SAAS,SAAS,QAAS,SAAS,SAAS,SAAS,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ,QAAQ,OAAO,OAAQ,SAAS,QAAS,OAAO,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,OAAQ,SAAS,SAAS,QAAQ,OAAQ,QAAQ,SAAS,QAAQ,QAAS,MAAM,EAAE,GAAG,GAAG,CAAC,EAAE,MAAM,CAAC,OAAQ,SAAS,KAAK,GAAG,UAAU,CAAC,MAAQ,SAAS,OAAQ,OAAS,QAAS,OAAQ,OAAS,QAAS,OAAS,OAAS,OAAQ,QAAS,OAAS,QAAS,QAAS,MAAQ,QAAS,MAAO,MAAQ,OAAQ,OAAS,GAAG,QAAS,MAAQ,OAAS,OAAQ,QAAS,OAAS,OAAS,QAAS,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAS,QAAS,OAAQ,MAAQ,OAAQ,QAAS,OAAS,OAAQ,QAAS,OAAS,QAAS,MAAQ,OAAS,MAAQ,OAAS,GAAG,OAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAS,MAAQ,QAAS,OAAQ,QAAS,MAAQ,OAAQ,MAAQ,QAAS,OAAQ,OAAS,MAAQ,QAAS,GAAG,OAAS,QAAS,OAAS,OAAQ,OAAS,OAAS,OAAQ,MAAQ,MAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAS,MAAQ,OAAQ,MAAQ,QAAS,OAAS,OAAS,GAAG,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAQ,MAAO,OAAS,MAAQ,MAAQ,OAAQ,OAAS,OAAQ,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAQ,OAAS,MAAO,OAAS,GAAG,OAAS,QAAS,MAAQ,MAAQ,OAAQ,MAAQ,QAAS,QAAS,MAAQ,MAAQ,OAAS,OAAS,MAAQ,MAAQ,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,OAAQ,KAAO,GAAG,YAAY,CAAC,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,MAAQ,SAAS,OAAO,QAAQ,QAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,SAAS,SAAS,SAAS,QAAQ,QAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,QAAS,QAAQ,QAAQ,MAAQ,QAAS,OAAQ,QAAQ,QAAS,OAAQ,QAAS,QAAQ,QAAQ,OAAQ,SAAS,SAAS,QAAQ,OAAQ,SAAS,OAAQ,QAAQ,SAAS,QAAS,QAAQ,SAAS,OAAQ,QAAQ,QAAQ,GAAG,SAAS,QAAS,QAAQ,SAAS,QAAQ,QAAQ,OAAQ,QAAQ,QAAQ,OAAQ,SAAS,OAAO,QAAQ,QAAQ,QAAQ,OAAQ,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ,QAAQ,OAAQ,QAAQ,KAAM,EAAE,GAAG,EAAE,MAAM,CAAC,QAAS,SAAS,MAAM,GAAG,UAAU,CAAC,MAAQ,SAAS,OAAQ,OAAS,QAAS,OAAQ,MAAQ,QAAS,OAAS,OAAS,OAAQ,OAAQ,OAAS,QAAS,QAAS,MAAQ,QAAS,OAAQ,MAAQ,OAAQ,OAAS,MAAQ,QAAS,OAAS,OAAS,OAAQ,QAAS,OAAS,OAAS,QAAS,OAAQ,OAAQ,OAAQ,QAAS,MAAO,OAAQ,OAAS,QAAS,MAAO,MAAQ,OAAQ,QAAS,OAAS,OAAQ,QAAS,GAAG,QAAS,MAAQ,OAAS,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAS,OAAQ,OAAS,MAAQ,QAAS,OAAQ,QAAS,MAAQ,OAAQ,MAAQ,QAAS,OAAQ,MAAQ,MAAQ,QAAS,GAAG,OAAS,QAAS,OAAS,OAAQ,OAAS,OAAS,OAAQ,OAAQ,MAAQ,QAAS,OAAQ,QAAS,OAAQ,OAAQ,MAAQ,OAAQ,MAAQ,QAAS,OAAS,OAAS,GAAG,OAAS,OAAS,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,MAAO,MAAQ,OAAS,MAAQ,MAAQ,OAAQ,MAAO,OAAQ,MAAQ,OAAS,MAAQ,OAAQ,MAAQ,MAAQ,OAAS,MAAQ,OAAS,OAAQ,OAAS,MAAQ,GAAG,QAAS,MAAQ,MAAQ,OAAQ,MAAQ,QAAS,OAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,MAAQ,OAAS,OAAS,MAAQ,GAAG,MAAO,KAAO,GAAG,YAAY,CAAC,QAAS,QAAQ,OAAO,QAAQ,QAAQ,SAAS,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,OAAQ,SAAS,QAAS,SAAS,QAAQ,SAAS,MAAO,QAAQ,SAAS,QAAQ,QAAS,SAAS,OAAS,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,MAAQ,MAAO,QAAS,QAAQ,SAAS,QAAS,QAAS,SAAS,OAAO,OAAQ,QAAQ,SAAS,QAAQ,SAAS,SAAS,QAAS,SAAS,SAAS,SAAS,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ,QAAQ,OAAO,OAAQ,SAAS,QAAS,OAAO,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,OAAQ,SAAS,SAAS,QAAQ,OAAQ,QAAQ,SAAS,QAAQ,QAAS,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,MAAM,CAAC,OAAQ,SAAS,MAAM,GAAG,UAAU,CAAC,MAAQ,SAAS,OAAQ,OAAS,QAAS,QAAS,OAAS,QAAS,QAAS,OAAS,QAAQ,OAAQ,GAAG,SAAS,QAAQ,OAAS,QAAS,QAAS,OAAS,OAAQ,MAAO,OAAS,OAAQ,OAAQ,MAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,MAAQ,QAAS,OAAQ,QAAS,OAAS,OAAQ,OAAS,QAAS,MAAQ,OAAQ,OAAQ,OAAQ,OAAS,OAAS,OAAQ,OAAQ,OAAQ,QAAS,OAAS,OAAQ,OAAQ,MAAO,MAAO,QAAS,MAAQ,QAAS,OAAQ,OAAS,MAAO,OAAS,MAAQ,OAAS,QAAS,MAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,MAAQ,OAAQ,OAAQ,OAAS,QAAS,OAAQ,MAAQ,OAAQ,QAAS,MAAQ,QAAS,OAAQ,OAAS,QAAS,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAS,OAAS,QAAS,OAAQ,MAAQ,MAAO,QAAS,MAAQ,OAAQ,MAAQ,MAAQ,OAAS,QAAS,MAAQ,OAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OAAQ,OAAQ,MAAO,OAAS,QAAS,GAAG,MAAQ,OAAQ,OAAS,MAAQ,OAAQ,OAAS,MAAQ,OAAS,OAAQ,OAAS,MAAQ,MAAQ,MAAQ,QAAS,MAAQ,OAAQ,OAAS,OAAS,OAAS,OAAQ,OAAS,OAAS,OAAS,QAAS,MAAQ,QAAS,OAAS,MAAQ,MAAQ,QAAS,MAAQ,MAAQ,OAAS,MAAQ,OAAS,KAAO,GAAG,YAAY,CAAC,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,SAAS,QAAQ,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ,QAAQ,SAAS,QAAS,QAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,QAAQ,OAAQ,OAAO,QAAQ,QAAQ,QAAQ,SAAS,SAAS,QAAQ,SAAS,QAAQ,OAAS,OAAQ,QAAS,QAAQ,QAAQ,QAAQ,OAAQ,SAAS,SAAS,OAAQ,QAAS,QAAQ,OAAS,QAAQ,OAAQ,OAAQ,QAAQ,SAAS,MAAO,OAAO,QAAQ,OAAQ,SAAS,QAAQ,SAAS,SAAS,QAAQ,OAAQ,SAAS,QAAQ,QAAS,QAAQ,QAAQ,QAAQ,QAAQ,QAAS,QAAS,SAAS,QAAQ,OAAQ,SAAS,SAAS,QAAS,QAAQ,QAAQ,SAAS,QAAQ,QAAS,QAAS,QAAS,MAAM,EAAE,GAAG,IAAI,EAAE,MAAM,CAAC,QAAQ,QAAQ,MAAM,GAAG,UAAU,CAAC,OAAQ,OAAO,OAAQ,OAAS,OAAS,GAAG,MAAQ,OAAQ,OAAS,OAAQ,QAAS,QAAS,MAAQ,QAAQ,QAAS,MAAO,MAAQ,OAAQ,QAAS,QAAS,OAAS,OAAQ,OAAQ,QAAS,MAAQ,QAAS,MAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,QAAS,OAAQ,OAAS,MAAO,QAAS,OAAS,OAAQ,QAAS,OAAS,OAAQ,QAAS,OAAS,OAAQ,MAAQ,OAAS,OAAQ,OAAS,OAAS,QAAS,MAAQ,MAAQ,OAAS,QAAS,QAAS,QAAS,MAAQ,OAAS,QAAS,QAAS,OAAS,OAAQ,MAAQ,OAAS,OAAQ,OAAS,MAAQ,OAAQ,OAAS,OAAS,OAAS,OAAS,OAAQ,OAAQ,MAAO,MAAQ,QAAS,QAAS,OAAS,OAAS,OAAS,OAAQ,OAAQ,MAAQ,OAAS,OAAQ,GAAG,OAAS,OAAQ,QAAS,MAAQ,GAAG,OAAS,MAAQ,MAAQ,MAAQ,OAAS,MAAQ,MAAQ,OAAS,OAAS,QAAS,OAAS,OAAS,MAAQ,OAAS,OAAQ,MAAQ,MAAQ,OAAS,MAAQ,OAAS,MAAQ,MAAQ,MAAQ,QAAS,OAAS,MAAQ,MAAQ,OAAS,MAAQ,MAAQ,MAAO,OAAS,OAAQ,OAAS,OAAS,MAAQ,MAAQ,MAAQ,OAAQ,GAAG,MAAQ,OAAS,OAAS,MAAQ,OAAS,KAAO,GAAG,YAAY,CAAC,OAAS,OAAS,OAAQ,OAAQ,QAAS,QAAS,OAAQ,GAAG,MAAQ,SAAS,SAAS,QAAQ,OAAQ,QAAS,OAAQ,SAAS,SAAS,OAAO,SAAS,SAAS,QAAQ,SAAS,SAAS,QAAQ,QAAS,MAAO,QAAS,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,SAAS,SAAS,QAAQ,SAAS,SAAS,QAAQ,OAAS,OAAQ,OAAQ,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,SAAS,SAAS,QAAQ,SAAS,SAAS,QAAQ,SAAS,SAAS,QAAQ,SAAS,SAAS,QAAQ,SAAS,SAAS,QAAQ,SAAS,QAAS,OAAQ,OAAQ,SAAS,OAAS,OAAQ,QAAS,OAAS,SAAS,QAAQ,OAAQ,QAAQ,QAAQ,OAAQ,MAAO,SAAS,OAAQ,SAAS,QAAQ,OAAQ,SAAS,SAAS,MAAM,EAAE,GAAG,IAAI,EAAE,MAAM,CAAC,SAAS,QAAQ,MAAM,GAAG,UAAU,CAAC,SAAS,OAAO,OAAQ,OAAQ,MAAQ,GAAG,OAAS,OAAQ,QAAS,QAAS,QAAS,OAAS,MAAQ,QAAQ,QAAS,QAAS,QAAS,OAAQ,OAAQ,QAAS,MAAQ,QAAS,MAAO,QAAS,QAAS,QAAS,OAAQ,QAAS,OAAQ,MAAQ,QAAS,MAAQ,OAAQ,OAAS,OAAS,MAAO,OAAQ,OAAQ,QAAS,OAAS,OAAQ,OAAQ,MAAQ,QAAS,MAAO,MAAQ,MAAO,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAS,MAAQ,OAAS,OAAS,OAAS,MAAQ,OAAS,OAAQ,QAAS,MAAO,MAAQ,QAAS,MAAQ,OAAQ,OAAQ,OAAS,OAAS,QAAS,QAAS,MAAQ,OAAQ,MAAQ,MAAQ,QAAS,MAAQ,QAAS,OAAQ,MAAQ,MAAQ,QAAS,MAAQ,QAAS,QAAS,MAAQ,QAAS,OAAS,MAAQ,MAAQ,OAAS,MAAO,QAAS,MAAQ,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAQ,QAAS,GAAG,MAAQ,QAAS,OAAS,OAAQ,OAAQ,OAAS,OAAQ,MAAQ,MAAQ,QAAS,QAAS,OAAS,MAAQ,MAAQ,MAAQ,MAAQ,GAAG,MAAQ,OAAQ,OAAS,GAAG,OAAS,MAAQ,OAAS,MAAQ,OAAS,OAAS,QAAS,MAAQ,GAAG,MAAQ,MAAQ,MAAQ,GAAG,OAAS,OAAS,GAAG,MAAQ,OAAS,MAAO,MAAQ,MAAQ,OAAS,GAAG,MAAQ,OAAQ,KAAO,GAAG,YAAY,CAAC,GAAG,OAAS,OAAQ,OAAQ,OAAS,QAAS,QAAS,OAAS,MAAQ,OAAQ,SAAS,OAAO,OAAQ,QAAS,OAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,QAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAQ,SAAS,QAAQ,QAAQ,SAAS,QAAQ,SAAS,QAAQ,SAAS,QAAQ,SAAS,OAAQ,SAAS,OAAQ,SAAS,QAAQ,SAAS,SAAS,QAAQ,SAAS,QAAS,MAAM,SAAS,QAAQ,SAAS,QAAQ,SAAS,QAAQ,SAAS,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,MAAQ,QAAS,OAAS,SAAS,MAAQ,QAAS,OAAO,SAAS,QAAQ,QAAQ,QAAQ,QAAS,QAAQ,QAAQ,OAAQ,QAAQ,QAAQ,OAAQ,SAAS,SAAS,KAAM,EAAE,EAAE;;;ACGrl/B,IAAI,qBAAqB;AACzB,IAAI,mBAAmB,oBAAI,IAAI;AACxB,SAAS,mBAAmB,GAAG;AAClC,MAAI,MAAO;AACX,mBAAiB,IAAI,KAAK,IAAI,aAAa,CAAC,CAAC;AAC7C,QAAM,6BAA6B;AACnC,SAAO;AACX;AACO,SAAS,oBAAoB,GAAG;AACnC,mBAAiB,OAAO,CAAC;AAC7B;AACO,SAAS,gBAAgB,GAAG;AAC/B,SAAO,iBAAiB,IAAI,CAAC;AACjC;AACO,IAAM,eAAN,MAAmB;AAAA,EACtB,YAAY,OAAO;AACf,SAAK,QAAQ;AACb,SAAK,cAAc,aAAK,OAAO;AAAA,EACnC;AAAA,EACA,WAAWC,WAAU,YAAY,MAAM;AACnC,QAAI,OAAO,KAAK,KAAK,MAAM;AAC3B,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,WAAK,CAAC,KAAKA,UAAS,CAAC,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC;AAChD,WAAK,CAAC,KAAKA,UAAS,CAAC,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC;AAChD,WAAK,CAAC,KAAKA,UAAS,CAAC,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC;AAAA,IACpD;AACA,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,WAAK,CAAC,KAAK,WAAW,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC;AACpD,WAAK,CAAC,KAAK,WAAW,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC;AACpD,WAAK,CAAC,KAAK,WAAW,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC;AAAA,IACxD;AACA,WAAO;AAAA,EACX;AAAA,EACA,OAAOA,WAAU,YAAY,UAAU;AACnC,QAAI;AACJ,QAAI,OAAO,aAAa,KAAK,MAAM,SAAS,CAAC;AAC7C,QAAI,CAAC;AACD;AACJ,QAAI,MAAM,QAAQ,IAAI,GAAG;AACrB,aAAO,KAAK,WAAWA,WAAU,YAAY,KAAK,CAAC,CAAC;AACpD,UAAI,IAAI,KAAK,WAAWA,WAAU,YAAY,KAAK,CAAC,CAAC;AACrD,WAAK,CAAC,IAAI,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;AAC9B,WAAK,CAAC,IAAI,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;AAC9B,WAAK,CAAC,IAAI,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;AAAA,IAClC,OACK;AACD,aAAO,KAAK,WAAWA,WAAU,YAAY,IAAI;AAAA,IACrD;AACA,QAAI;AACA,WAAK,CAAC,KAAK;AACf,iBAAK,gBAAgB,KAAK,aAAa,IAAI;AAAA,EAC/C;AACJ;;;ACvDA,SAAS,wBAAwB;AAC7B,MAAI,MAAM,SAAS,cAAc,KAAK;AACtC,MAAI,eAAe;AACnB,MAAI,UAAU,UAAU,MAAM,UAAU,GAAG;AACvC,mBAAe;AACf,WAAO,SAAS,OACZ,iCAAiC,UAAU,OAAO,SAAS,IAAI;AACnE,eAAW,MAAM;AACb,aAAO,SAAS,OACZ,gCAAgC,UAAU,OAAO,SAAS,IAAI;AAAA,IACtE,GAAG,GAAI;AAAA,EACX,WACS,UAAU,UAAU,MAAM,mBAAmB,GAAG;AACrD,mBAAe;AACf,QAAI,UAAU,IAAI,6BAA6B;AAAA,EACnD;AACA,MAAI,UAAU,IAAI,0BAA0B;AAC5C,MAAI,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sEA+EkD,YAAY;AAAA;AAAA,oHAEkC,YAAY;AAAA;AAAA;AAAA,+HAGD,YAAY;AAAA;AAEvI,MAAI,SAAS,IAAI,cAAc,yCAAyC,KAAK,SAAS,cAAc,OAAO;AAC3G,SAAO,QAAQ,OAAO,SAAS;AAC/B,MAAI,SAAS,IAAI,cAAc,0CAA0C,KAAK,SAAS,cAAc,QAAQ;AAC7G,MAAI,gBAAgB,MAAM;AACtB,QAAI,UAAU,UAAU,MAAM,mBAAmB,GAAG;AAChD,UAAI,IAAI,SAAS,YAAY;AAC7B,QAAE,mBAAmB,MAAM;AAC3B,UAAI,MAAM,OAAO,aAAa;AAC9B,UAAI,CAAC;AACD;AACJ,UAAI,gBAAgB;AACpB,UAAI,SAAS,CAAC;AACd,aAAO,kBAAkB,GAAG,SAAS;AAAA,IACzC,OACK;AACD,aAAO,OAAO;AAAA,IAClB;AACA,aAAS,YAAY,MAAM;AAC3B,WAAO,KAAK;AACZ,QAAI,UAAU,OAAO,2CAA2C,IAAI;AAAA,EACxE;AACA,SAAO,iBAAiB,SAAS,aAAa;AAC9C,SAAO,iBAAiB,SAAS,aAAa;AAC9C,SAAO;AACX;AACA,IAAM,iBAAiB,MAAM;AACzB,QAAM,sBAAsB,SAAS,cAAc,KAAK;AACxD,sBAAoB,OAAO,sBAAsB,CAAC;AAClD,SAAO,OAAO,oBAAoB,OAAO;AAAA,IACrC,UAAU;AAAA,IACV,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,KAAK;AAAA,IACL,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,iBAAiB;AAAA,IACjB,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,SAAS;AAAA,IACT,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,gBAAgB;AAAA,EACpB,CAAC;AACD,sBAAoB,UAAU,IAAI,4BAA4B;AAC9D,WAAS,KAAK,OAAO,mBAAmB;AAC5C;AACA,SAAS,qBAAqB;AAC1B,MAAI,OAAO,YAAY;AACnB,WAAO;AACX,MAAI,OAAO,gBAAgB;AACvB,WAAO;AACX,MAAI,CAAC,UAAU,gBACX,CAAC,UAAU,aAAa,oBACxB,CAAC,UAAU,aAAa;AACxB,WAAO;AACX,SAAO;AACX;AACA,IAAO,wBAAQ;AAAA,EACX,cAAc,MAAM,CAAC,mBAAmB;AAAA,EACxC,iBAAiB;AACrB;;;AC9JA,IAAIC,UAAS;AACb,IAAIC,QAAO,oBAAI,IAAI;AACZ,IAAM,iBAAN,MAAM,wBAAuB,OAAO;AAAA,EACvC,YAAY,OAAO,WAAW;AAC1B,UAAM;AACN,SAAK,QAAQ;AACb,SAAK,YAAY;AACjB,SAAK,gBAAgB;AACrB,SAAK,uBAAuB;AAC5B,SAAK,qBAAqB;AAC1B,SAAK,iBAAiB;AACtB,SAAK,kBAAkB;AAAA,EAC3B;AAAA,EACA,OAAO,OAAO,GAAG;AACb,QAAI,MAAOD;AACX,IAAAC,MAAK,IAAI,KAAK,IAAI,gBAAe,KAAK,CAAC,CAAC;AACxC,UAAM,sCAAsC;AAC5C,WAAO;AAAA,EACX;AAAA,EACA,OAAO,IAAI,GAAG;AACV,WAAOA,MAAK,IAAI,CAAC;AAAA,EACrB;AAAA,EACA,eAAe,MAAM;AACjB,QAAI;AACA,WAAK,WAAW,IAAI,gBAAgB,IAAI;AACxC,WAAK,gBAAgB;AACrB,WAAK,kBAAkB;AAAA,IAC3B,SACO,KAAK;AACR,YAAM,8BAA8B,GAAG;AAAA,IAC3C;AAAA,EACJ;AAAA,EACA,kBAAkB,KAAK;AACnB,QAAI,OAAO,GAAG;AACV,WAAK,iBAAiB;AACtB;AAAA,IACJ;AACA,SAAK,iBAAiB,MAAS;AAAA,EACnC;AAAA,EACA,QAAQ,GAAG;AACP,QAAI,IAAI;AACJ,aAAO,KAAK;AAAA;AAEZ,WAAK,QAAQ;AAAA,EACrB;AAAA,EACA,SAAS,qBAAqB;AAC1B,QAAI;AACJ,QAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,QAAI,CAAC;AACD;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,SAAK,qBAAqB,QAAQ;AAClC,QAAI,KAAK,uBAAuB,KAAK;AACjC;AACJ,QAAI;AACA;AACJ,QAAI,WAAW,KAAK,KAAK,WAAW,QAAQ,OAAO,SAAS,KAAK,YAAY,IAAI;AACjF,QAAI,UAAU,KAAK,kBAAkB,KAAK;AACtC;AACJ,QAAI,KAAK,iBAAiB,KAAK,SAAS;AACpC;AACJ,QAAI,SAAS,KAAK,SAAS,aAAa,IAAI,KAAK,aAAa;AAC9D,QAAI,OAAO,QAAQ,2BAA2B;AAC1C;AACJ,SAAK;AACL,QAAI,SAAS,SAAS,kBAAkB,IAAI;AAC5C,WAAO,QAAQ;AACX,UAAI,OAAO,eAAe,OAAO,UAAU;AACvC;AACJ,eAAS,SAAS,kBAAkB,IAAI;AAAA,IAC5C;AACA,QAAI,CAAC,QAAQ;AACT,eAAS,IAAI,YAAY,OAAO,UAAU,UAAU;AAAA,IACxD;AACA,IAAC,IAAI,WAAW,MAAM,EAAG,IAAI,OAAO,SAAS;AAC7C,SAAK,kBAAkB;AACvB,QAAI,OAAO;AAAA,MACP,MAAM;AAAA,MACN,kBAAkB,OAAO;AAAA,MACzB,aAAa,OAAO;AAAA,MACpB,gBAAgB,OAAO;AAAA,MACvB,WAAW,OAAO;AAAA,MAClB,YAAY,OAAO;AAAA,MACnB,SAAS;AAAA,MACT,YAAY,OAAO;AAAA,MACnB,aAAa,aAAK,OAAO;AAAA,MACzB,cAAc;AAAA,IAClB;AAIA,SAAK,qBAAqB,QAAQ;AAClC,UAAM,QAAQ,SAAS,cAAc,IAAI;AACzC,aAAS,iBAAiB,KAAK,QAAQ,IAAI,YAAY,CAAC,GAAG,OAAO,KAAK,WAAW,KAAK,YAAY,KAAK,YAAY,KAAK,gBAAgB,KAAK,WAAW;AAAA,EAC7J;AAAA,EACA,UAAU;AACN,IAAAA,MAAK,OAAO,KAAK,KAAK;AACtB,SAAK,MAAM;AAAA,EACf;AAAA,EACA,QAAQ;AACJ,QAAI;AACJ,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB,MAAM;AACrC,OAAC,KAAK,EAAE,yBAAyB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAC3E,QAAE,sBAAsB;AAAA,IAC5B;AAAA,EACJ;AAAA,EACA,QAAQ;AACJ,QAAI,IAAI,SAAS,IAAI,KAAK,SAAS;AACnC,QAAI,KAAK,EAAE,wBAAwB;AAC/B,QAAE,sBAAsB;AAAA,EAChC;AAAA,EACA,SAAS,MAAM;AACX,QAAI,WAAW,SAAS,IAAI,KAAK,SAAS;AAC1C,QAAI,CAAC;AACD;AACJ,QAAI,KAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AACtE,QAAI,CAAC;AACD;AACJ,QAAI,CAAC,KAAK;AACN,WAAK,UAAU,SAAS,gBAAgB;AAC5C,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,KAAK;AACN;AACJ,OAAG,YAAY,GAAG,YAAY,KAAK,OAAO;AAC1C,OAAG,YAAY,GAAG,qBAAqB,KAAK;AAC5C,OAAG,WAAW,GAAG,YAAY,GAAG,GAAG,WAAW,KAAK,WAAW,KAAK,YAAY,GAAG,GAAG,WAAW,GAAG,eAAe,IAAI,WAAW,KAAK,gBAAgB,CAAC;AACvJ,OAAG,YAAY,GAAG,YAAY,IAAI;AAAA,EACtC;AAAA,EACA,qBAAqB,UAAU;AAC3B,QAAI,sBAAsB;AAC1B,WAAO,KAAK,gBAAgB,KAAK,SAAS,eAAe;AACrD,UAAI,SAAS,KAAK,SAAS,aAAa,IAAI,KAAK,aAAa;AAC9D,UAAI,OAAO,QAAQ,2BAA2B;AAC1C;AACJ,cAAQ,OAAO,MAAM;AAAA,QACjB,KAAK,2BAA2B;AAC5B,mBAAS,0BAA0B,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC;AACzE,gCAAsB;AACtB;AAAA,QACJ,KAAK,2BAA2B;AAC5B,mBAAS,yBAAyB,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC;AACxE,gCAAsB;AACtB;AAAA,QACJ,KAAK,2BAA2B;AAC5B,mBAAS,qBAAqB,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC;AACpE,gCAAsB;AACtB;AAAA,QACJ,KAAK,2BAA2B;AAC5B,mBAAS,qBAAqB,OAAO,QAAQ;AAC7C,gCAAsB;AACtB;AAAA,MACR;AACA,WAAK;AAAA,IACT;AAGA,QAAI,qBAAqB;AACrB,WAAK;AACL,iBAAW,MAAM;AACb,aAAK;AAAA,MACT,GAAG,CAAC;AAAA,IACR;AACA;AAAA,EACJ;AACJ;;;AC5KO,IAAM,MAAM;;;ACEZ,SAAS,eAAe,MAAM;AACjC,UAAQ,KAAK,MAAM;AAAA,IACf,KAAK,oBAAoB;AAA2B,aAAO,OAAO,IAAI;AAAA,IACtE,KAAK,oBAAoB;AAAgC,aAAO,YAAY,IAAI;AAAA,IAChF,KAAK,oBAAoB;AAA4B,aAAO,QAAQ,IAAI;AAAA,EAC5E;AACA,SAAO,YAAY;AACvB;AACA,SAAS,OAAO,MAAM;AAClB,QAAM,cAAc,KAAK,eAAe,KAAK;AAC7C,MAAI,MAAM,WAAW;AACjB,WAAO,YAAY;AACvB,QAAM,UAAU,KAAK,sBAAsB,IAAI,KAAK,sBAAsB;AAC1E,QAAM,WAAW,IAAI,aAAa;AAAA,IAC9B,KAAO,cAAc;AAAA,IAAS,KAAK;AAAA,IAAS;AAAA,IAC5C,KAAO,cAAc;AAAA,IAAS;AAAA,IAAS;AAAA,IACvC,cAAc;AAAA,IAAS;AAAA,IAAS;AAAA,IAChC,cAAc;AAAA,IAAS,KAAK;AAAA,IAAS;AAAA,EACzC,CAAC;AACD,QAAM,UAAU,IAAI,YAAY,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAClD,QAAM,MAAM,IAAI,aAAa;AAAA,IACzB;AAAA,IAAG;AAAA,IACH;AAAA,IAAG;AAAA,IACH;AAAA,IAAG;AAAA,IACH;AAAA,IAAG;AAAA,EACP,CAAC;AACD,QAAM,UAAU,IAAI,aAAa;AAAA,IAC7B;AAAA,IAAG;AAAA,IAAG;AAAA,IACN;AAAA,IAAG;AAAA,IAAG;AAAA,IACN;AAAA,IAAG;AAAA,IAAG;AAAA,IACN;AAAA,IAAG;AAAA,IAAG;AAAA,EACV,CAAC;AACD,SAAO,EAAE,UAAU,SAAS,KAAK,QAAQ;AAC7C;AACA,SAAS,cAAc;AACnB,SAAO;AAAA,IACH,SAAS,IAAI,YAAY,CAAC;AAAA,IAC1B,UAAU,IAAI,aAAa,CAAC;AAAA,IAC5B,SAAS,IAAI,aAAa,CAAC;AAAA,IAC3B,KAAK,IAAI,aAAa,CAAC;AAAA,EAC3B;AACJ;AACA,SAAS,YAAY,MAAM;AACvB,QAAM,cAAc,IAAI,KAAK,gBAAgB,KAAK,gBAAgB,KAAK;AACvE,SAAO,eAAe,MAAM,GAAG,OAAO,GAAG,GAAG,GAAG,aAAK,OAAO,GAAG,KAAK,eAAe,KAAK,eAAe,aAAa,KAAK,mBAAmB;AAC/I;AACA,SAAS,QAAQ,MAAM;AACnB,QAAM,cAAc,KAAK,YAAY,KAAK;AAE1C,MAAI,gBAAgB,GAAG;AACnB,YAAQ,KAAK,sGAAsG;AACnH,WAAO,YAAY,IAAI;AAAA,EAC3B;AACA,QAAM,YAAY,KAAK,KAAK,KAAK,aAAa,KAAK,aAAa,cAAc,WAAW;AACzF,QAAM,OAAO,KAAK,eAAe,KAAK;AACtC,MAAI,eAAe,KAAK,eAAe,KAAK;AAC5C,MAAI,MAAM,YAAY;AAClB,mBAAe;AACnB,QAAM,OAAO,EAAE,KAAK,eAAe,MAAM,EAAE,KAAK,YAAY;AAC5D,QAAM,OAAO,KAAK,aAAc,IAAI,KAAK,IAAI,KAAK,YAAY,KAAK,YAAY;AAC/E,QAAM,aAAa,aAAK,OAAO;AAC/B,QAAM,gBAAgB,aAAK,OAAO;AAClC,QAAM,kBAAkB,aAAK,OAAO;AACpC,MAAI,MAAM;AACN,QAAI,MAAM;AACN,UAAI,MAAM;AACN,wBAAgB,CAAC,IAAI,eAAe;AACpC,cAAM,QAAQ,KAAK,MAAM,IAAI,gBAAgB,YAAY;AACzD,mBAAW,CAAC,IAAI,eAAe,KAAK,IAAI,KAAK;AAC7C,mBAAW,CAAC,IAAK,eAAe,IAAK,eAAe,KAAK,IAAI,KAAK;AAClE,qBAAK,KAAK,eAAe,eAAe;AAAA,MAC5C,OACK;AACD,wBAAgB,CAAC,IAAI,IAAM;AAC3B,cAAM,QAAQ,KAAK,KAAK,KAAK,MAAM,IAAI,gBAAgB,YAAY;AACnE,mBAAW,CAAC,IAAI,eAAe,KAAK,IAAI,KAAK;AAC7C,mBAAW,CAAC,IAAK,IAAI,eAAgB,eAAe,KAAK,IAAI,KAAK;AAClE,qBAAK,KAAK,eAAe,eAAe;AAAA,MAC5C;AAAA,IACJ,OACK;AACD,UAAI,MAAM;AACN,wBAAgB,CAAC,IAAI;AACrB,qBAAK,KAAK,eAAe,eAAe;AACxC,mBAAW,CAAC,IAAI;AAChB,mBAAW,CAAC,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,cAAc,CAAC,CAAC;AAAA,MAC/D,OACK;AACD,wBAAgB,CAAC,IAAI;AACrB,qBAAK,KAAK,eAAe,eAAe;AACxC,mBAAW,CAAC,IAAI,CAAC;AACjB,mBAAW,CAAC,IAAI,KAAK,KAAK,IAAI,KAAK,IAAI,cAAc,CAAC,CAAC,IAAI;AAAA,MAC/D;AAAA,IACJ;AAAA,EACJ,OACK;AACD,QAAI,MAAM;AACN,UAAI,MAAM;AACN,wBAAgB,CAAC,IAAI,eAAe;AACpC,cAAM,QAAQ,KAAK,MAAM,IAAI,gBAAgB,YAAY;AACzD,mBAAW,CAAC,IAAI,eAAe,KAAK,IAAI,KAAK;AAC7C,mBAAW,CAAC,IAAK,eAAe,IAAK,eAAe,KAAK,IAAI,KAAK;AAClE,sBAAc,CAAC,KAAK,eAAe,KAAK,cAAc,KAAK,IAAI,KAAK;AACpE,sBAAc,CAAC,IAAK,eAAe,KAAM,eAAe,KAAK,cAAc,KAAK,IAAI,KAAK;AAAA,MAC7F,OACK;AACD,wBAAgB,CAAC,IAAI,IAAM;AAC3B,cAAM,QAAQ,KAAK,KAAK,KAAK,MAAM,IAAI,gBAAgB,YAAY;AACnE,mBAAW,CAAC,IAAI,eAAe,KAAK,IAAI,KAAK;AAC7C,mBAAW,CAAC,IAAK,IAAI,eAAgB,eAAe,KAAK,IAAI,KAAK;AAClE,sBAAc,CAAC,KAAK,eAAe,KAAK,cAAc,KAAK,IAAI,KAAK;AACpE,sBAAc,CAAC,IAAK,IAAI,gBAAiB,eAAe,KAAK,cAAc,KAAK,IAAI,KAAK;AAAA,MAC7F;AAAA,IACJ,OACK;AACD,YAAM,eAAe,OAAQ,KAAK,YAAY,KAAK,eAAiB,KAAK,eAAe,KAAK;AAC7F,UAAI,MAAM;AACN,sBAAc,CAAC,IAAI,eAAe;AAClC,sBAAc,CAAC,IAAI;AACnB,mBAAW,CAAC,IAAI;AAChB,mBAAW,CAAC,IAAI,IAAI,KAAK,KAAM,KAAK,aAAa,KAAK,cAAgB,cAAc,CAAC,IAAI,WAAW,CAAC,MAAM,cAAc,CAAC,IAAI,WAAW,CAAC,EAAG;AAC7I,wBAAgB,CAAC,IAAI,WAAW,CAAC,IAAK,WAAW,CAAC,KAAK,WAAW,CAAC,IAAI,cAAc,CAAC,MAAO,cAAc,CAAC,IAAI,WAAW,CAAC;AAAA,MAChI,OACK;AACD,sBAAc,CAAC,IAAI,CAAC,eAAe;AACnC,sBAAc,CAAC,IAAI;AACnB,mBAAW,CAAC,IAAI,CAAC;AACjB,mBAAW,CAAC,IAAI,KAAK,KAAM,KAAK,aAAa,KAAK,cAAgB,cAAc,CAAC,IAAI,WAAW,CAAC,MAAM,cAAc,CAAC,IAAI,WAAW,CAAC,EAAG,IAAI;AAC7I,wBAAgB,CAAC,IAAI,WAAW,CAAC,IAAK,CAAC,WAAW,CAAC,KAAK,cAAc,CAAC,IAAI,WAAW,CAAC,MAAO,WAAW,CAAC,IAAI,cAAc,CAAC;AAAA,MACjI;AAAA,IACJ;AAAA,EACJ;AACA,QAAM,kBAAkB,aAAK,OAAO;AACpC,eAAK,SAAS,iBAAiB,YAAY,eAAe;AAC1D,QAAM,qBAAqB,aAAK,OAAO;AACvC,eAAK,SAAS,oBAAoB,eAAe,eAAe;AAChE,QAAM,gBAAgB,aAAK,OAAO,eAAe;AACjD,QAAM,mBAAmB,aAAK,OAAO,kBAAkB;AACvD,MAAI,YAAY,IAAI,KAAK,IAAI,KAAK,KAAK,gBAAgB,CAAC,IAAI,gBAAgB,CAAC,CAAC,CAAC;AAC/E,MAAI;AACA,gBAAa,IAAI,KAAK,KAAM;AAChC,MAAI,WAAY,gBAAgB,YAAa,KAAK;AAClD,MAAI,QAAQ,KAAK,IAAI,KAAK,KAAK,gBAAgB,CAAC,IAAI,gBAAgB,CAAC,CAAC,CAAC;AACvE,MAAI;AACA,YAAQ,KAAK,KAAK;AACtB,SAAO,eAAe,MAAM,WAAW,MAAM,OAAO,kBAAkB,eAAe,iBAAiB,cAAc,UAAU,KAAK,mBAAmB;AAC1J;AACA,SAAS,eAAe,MAAM,WAAW,MAAM,OAAO,kBAAkB,eAAe,iBAAiB,cAAc,aAAa,KAAK;AACpI,MAAI,MAAM,YAAY;AAClB,mBAAe;AACnB,QAAM,WAAW,CAAC;AAClB,QAAM,MAAM,CAAC;AACb,QAAM,iBAAiB,MAAM,IAAI,MAAM;AACvC,QAAM,eAAe,iBAAiB,IAAM;AAC5C,QAAM,cAAc;AACpB,WAAS,IAAI,GAAG,KAAK,aAAa,EAAE,GAAG;AACnC,UAAMC,SAAS,IAAI,cAAc,eAAkB,IAAI,KAAK,KAAM,eAAe;AACjF,UAAM,KAAK,KAAK,eAAe,KAAK,IAAIA,MAAK,IAAI;AACjD,UAAM,KAAK,KAAK,eAAe,KAAK,IAAIA,MAAK,IAAI;AACjD,UAAM,KAAK,KAAK,YAAY,KAAK,IAAIA,MAAK,IAAI;AAC9C,UAAM,KAAK,KAAK,YAAY,KAAK,IAAIA,MAAK,IAAI;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,MAAM;AACZ,QAAI,MAAM;AACN,eAAS,KAAK,IAAI,KAAK,EAAE;AACzB,eAAS,KAAK,IAAI,KAAK,EAAE;AAAA,IAC7B,OACK;AACD,eAAS,KAAK,IAAI,KAAK,CAAC,EAAE;AAC1B,eAAS,KAAK,IAAI,KAAK,CAAC,EAAE;AAAA,IAC9B;AAAA,EACJ;AACA,WAAS,IAAI,GAAG,KAAK,aAAa,EAAE,GAAG;AACnC,QAAI,KAAK,QAAQ,oBAAoB,gCAAgC;AACjE,YAAM,SAAS,IAAK,IAAI;AACxB,UAAI,KAAK,QAAQ,CAAC;AAClB,UAAI,KAAK,QAAQ,CAAC;AAAA,IACtB,OACK;AACD,UAAI,WAAW,EAAG,IAAI,cAAe,OAAO,IAAI;AAChD,UAAI,MAAM;AACN,mBAAW,CAAC,WAAW;AACvB,YAAI,WAAW;AACX,qBAAW,CAAC,SAAS,WAAW;AAAA,MACxC;AACA,YAAM,YAAY,aAAK,OAAO;AAC9B,gBAAU,CAAC,IAAI,KAAK,IAAI,QAAQ;AAChC,gBAAU,CAAC,IAAI,KAAK,IAAI,QAAQ;AAChC,UAAI;AACA,kBAAU,CAAC,KAAK;AACpB,YAAM,YAAY,aAAK,OAAO;AAC9B,mBAAK,KAAK,WAAW,SAAS;AAC9B,mBAAK,MAAM,WAAW,WAAW,gBAAgB;AACjD,mBAAK,IAAI,WAAW,iBAAiB,SAAS;AAC9C,YAAM,SAAS,aAAK,OAAO;AAC3B,mBAAK,KAAK,QAAQ,SAAS;AAC3B,mBAAK,MAAM,QAAQ,QAAQ,aAAa;AACxC,mBAAK,IAAI,QAAQ,iBAAiB,MAAM;AACxC,UAAI,MAAM,OAAO,CAAC,IAAI,iBAAiB,IAAI,eAAe,KAAM,CAAC,OAAO,CAAC,IAAI,KAAK,CAAE;AACpF,UAAI,MAAM,UAAU,CAAC,IAAI,iBAAiB,IAAI,eAAe,KAAM,CAAC,UAAU,CAAC,IAAI,KAAK,CAAE;AAAA,IAC9F;AAAA,EACJ;AACA,QAAM,UAAU,CAAC;AACjB,WAAS,IAAI,GAAG,IAAI,aAAa,EAAE,GAAG;AAClC,UAAM,KAAK,IAAI;AACf,YAAQ,KAAK,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AACnC,YAAQ,KAAK,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EACvC;AACA,SAAO;AAAA,IACH,UAAU,IAAI,aAAa,QAAQ;AAAA,IACnC,SAAS,IAAI,YAAY,OAAO;AAAA,IAChC,SAAS,IAAI,aAAa,CAAC;AAAA,IAC3B,KAAK,IAAI,aAAa,GAAG;AAAA,EAC7B;AACJ;;;ACxNA,IAAM,UAAU,IAAI,YAAY;AACzB,IAAM,aAAN,MAAiB;AAAA,EACpB,YAAY,OAAO,gBAAgB,OAAO;AACtC,SAAK,QAAQ;AACb,SAAK,gBAAgB;AACrB,SAAK,kBAAkB;AACvB,SAAK,QAAQ,IAAI,SAAS,KAAK,KAAK;AACpC,SAAK,OAAO,KAAK,OAAO;AAAA,EAC5B;AAAA,EACA,SAAS;AACL,UAAM,SAAS,QAAQ,OAAO,KAAK,MAAM,MAAM,GAAG,CAAC,CAAC;AACpD,QAAI,WAAW;AACX,YAAM,IAAI,MAAM,sBAAsB;AAC1C,WAAO,KAAK,YAAY,CAAC;AAAA,EAC7B;AAAA,EACA,YAAY,QAAQ;AAChB,UAAM,QAAQ,QAAQ,OAAO,KAAK,MAAM,MAAM,QAAQ,SAAS,CAAC,CAAC;AACjE,UAAMC,UAAS,KAAK,MAAM,UAAU,SAAS,GAAG,IAAI;AACpD,UAAM,OAAO,IAAI,WAAW,KAAK,OAAO,SAAS,GAAGA,OAAM;AAC1D,QAAI,KAAK,eAAeA;AACpB,WAAK,kBAAkB;AAC3B,QAAI;AACJ,QAAI;AACJ,QAAI,UAAU,UAAU,UAAU,QAAQ;AACtC,iBAAW,QAAQ,OAAO,KAAK,MAAM,MAAM,SAAS,GAAG,SAAS,EAAE,CAAC;AACnE,kBAAY,CAAC;AACb,UAAI,gBAAgB;AACpB,aAAO,gBAAgB,KAAK,aAAa,GAAG;AACxC,cAAM,WAAW,KAAK,YAAY,SAAS,IAAI,aAAa;AAC5D,kBAAU,KAAK,QAAQ;AACvB,yBAAiB,SAAS,KAAK,aAAa;AAC5C,YAAI,KAAK,iBAAiB,SAAS,KAAK,aAAa;AACjD;AAAA,MACR;AAAA,IACJ;AACA,WAAO,EAAE,OAAO,MAAM,UAAU,UAAU;AAAA,EAC9C;AAAA,EACA,KAAKC,MAAK,UAAU,KAAK,MAAM;AAC3B,QAAI,QAAQ,UAAUA;AAClB,aAAO;AACX,QAAI,CAAC,QAAQ;AACT;AACJ,aAAS,KAAK,QAAQ,WAAW;AAC7B,YAAM,QAAQ,KAAK,KAAKA,MAAK,CAAC;AAC9B,UAAI;AACA,eAAO;AAAA,IACf;AAAA,EACJ;AAAA,EACA,IAAIA,MAAK;AACL,WAAO,KAAK,KAAKA,IAAG,MAAM;AAAA,EAC9B;AACJ;;;AChDA,IAAIC,QAAO,oBAAI,IAAI;AACnB,IAAMC,WAAU,IAAI,YAAY;AACzB,IAAM,eAAN,MAAM,cAAa;AAAA,EACtB,YAAY,SAAS,OAAO;AACxB,SAAK,UAAU;AACf,SAAK,QAAQ;AACb,SAAK,WAAW,CAAC;AAAA,EACrB;AAAA,EACA,OAAO,OAAO,UAAUC,SAAQ;AAC5B,QAAI,MAAMA,QAAO,qBAAqB,QAAQ;AAC9C,IAAAF,MAAK,IAAI,KAAK,IAAI,cAAaE,SAAQ,GAAG,CAAC;AAC3C,WAAO;AAAA,EACX;AAAA,EACA,OAAO,IAAI,GAAG;AACV,WAAOF,MAAK,IAAI,CAAC;AAAA,EACrB;AAAA,EACA,UAAU;AACN,SAAK,QAAQ,sBAAsB,KAAK,KAAK;AAC7C,IAAAA,MAAK,OAAO,KAAK,KAAK;AAAA,EAC1B;AAAA,EACA,eAAe,MAAM;AACjB,SAAK,SAAS,KAAK,EAAE,KAAK,CAAC;AAC3B,SAAK,QAAQ,sCAAsC,KAAK,OAAO,IAAI;AAAA,EACvE;AAAA,EACA,cAAc;AACV,WAAO,KAAK,SAAS;AAAA,EACzB;AAAA,EACA,cAAc,GAAG;AACb,QAAI,UAAU,KAAK,SAAS,CAAC;AAC7B,QAAI,WAAW,QAAQ;AACnB,aAAO,QAAQ;AACnB,YAAQ,OAAO;AAAA,MACX,WAAW;AAAA,MACX,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,qBAAqB;AAAA,MACrB,cAAc;AAAA,MACd,eAAe;AAAA,MACf,MAAM,oBAAoB;AAAA,IAC9B;AACA,QAAI;AACA,YAAM,SAAS,IAAI,WAAW,QAAQ,MAAM,KAAK;AACjD,YAAM,WAAW,OAAO,KAAK,MAAM;AACnC,UAAI,UAAU;AACV,YAAI,WAAW;AACf,cAAM,gBAAgB,OAAO,KAAK,MAAM;AACxC,YAAI;AACA,qBAAWC,SAAQ,OAAO,cAAc,IAAI;AAChD,gBAAQ,KAAK,UAAU,EAAE,UAAU,YAAY,SAAS,KAAK;AAAA,MACjE;AACA,YAAM,YAAY,OAAO,KAAK,MAAM;AACpC,UAAI,WAAW;AACX,cAAM,OAAOA,SAAQ,OAAO,UAAU,IAAI;AAC1C,aAAK,WAAW,MAAM,QAAQ,IAAI;AAAA,MACtC;AAAA,IACJ,SACO,KAAK;AAAA,IAAE;AACd,WAAO,QAAQ;AAAA,EACnB;AAAA,EACA,WAAW,MAAM,MAAM;AACnB,QAAI,gBAAgB;AACpB,QAAI,UAAU;AACd,KAAC,SAAS,aAAa,IAAI,SAAS,eAAe,IAAI;AACvD,QAAI,YAAY;AACZ,aAAO,KAAK,aAAa,MAAM,eAAe,IAAI;AAAA,aAC7C,YAAY;AACjB,aAAO,KAAK,aAAa,MAAM,eAAe,IAAI;AAAA,EAC1D;AAAA,EACA,aAAa,MAAM,eAAe,MAAM;AACpC,QAAI,aAAa;AACjB,KAAC,YAAY,aAAa,IAAI,SAAS,eAAe,IAAI;AAC1D,QAAI,eAAe,OAAO,eAAe;AACrC;AACJ,QAAI,YAAY;AAChB,KAAC,WAAW,aAAa,IAAI,SAAS,eAAe,IAAI;AACzD,QAAI,UAAU,WAAW;AACrB;AACJ,QAAI,WAAW;AACf,KAAC,UAAU,aAAa,IAAI,SAAS,eAAe,IAAI;AACxD,UAAM,gBAAgB,SAAS,MAAM,GAAG;AACxC,QAAI,cAAc,SAAS;AACvB;AACJ,SAAK,eAAe,SAAS,cAAc,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC;AAC9D,SAAK,gBAAgB,SAAS,cAAc,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC;AAAA,EACnE;AAAA,EACA,aAAa,MAAM,eAAe,MAAM;AACpC,QAAI,aAAa;AACjB,KAAC,YAAY,aAAa,IAAI,SAAS,eAAe,IAAI;AAC1D,QAAI,eAAe,OAAO,eAAe;AACrC;AACJ,QAAI,gBAAgB;AACpB,KAAC,eAAe,aAAa,IAAI,SAAS,eAAe,IAAI;AAC7D,UAAM,gBAAgB,SAAS,aAAa;AAC5C,QAAI,MAAM,aAAa,KAAK,gBAAgB;AACxC;AACJ,QAAI,YAAY;AAChB,KAAC,WAAW,aAAa,IAAI,SAAS,eAAe,IAAI;AACzD,QAAI,UAAU,WAAW;AACrB;AACJ,QAAI,WAAW;AACf,KAAC,UAAU,aAAa,IAAI,SAAS,eAAe,IAAI;AACxD,UAAM,gBAAgB,SAAS,MAAM,GAAG;AACxC,QAAI,cAAc,SAAS;AACvB;AACJ,UAAM,aAAa,SAAS,cAAc,CAAC,CAAC;AAC5C,QAAI,eAAe,KAAK,eAAe,KAAK,eAAe;AACvD,WAAK,OAAO;AAChB,SAAK,eAAe,SAAS,cAAc,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC;AAC9D,SAAK,gBAAgB,SAAS,cAAc,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC;AAC/D,QAAI,cAAc,UAAU,GAAG;AAC3B,WAAK,sBAAsB,WAAW,cAAc,CAAC,CAAC;AACtD,UAAI,MAAM,KAAK,mBAAmB;AAC9B,aAAK,sBAAsB;AAAA,IACnC;AACA,QAAI,cAAc,UAAU,GAAG;AAC3B,WAAK,YAAY,WAAW,cAAc,CAAC,CAAC;AAC5C,UAAI,MAAM,KAAK,SAAS;AACpB,aAAK,YAAY;AACrB,WAAK,eAAe,KAAK;AAAA,IAC7B;AACA,QAAI,cAAc,UAAU,GAAG;AAC3B,WAAK,eAAe,WAAW,cAAc,CAAC,CAAC;AAC/C,UAAI,MAAM,KAAK,YAAY;AACvB,aAAK,eAAe;AAAA,IAC5B;AACA,QAAI,cAAc,UAAU,IAAI;AAC5B,WAAK,aAAa,WAAW,cAAc,CAAC,CAAC;AAC7C,UAAI,MAAM,KAAK,UAAU;AACrB,aAAK,aAAa;AAAA,IAC1B;AAAA,EACJ;AAAA,EACA,kBAAkB,GAAG;AACjB,UAAM,OAAO,KAAK,cAAc,CAAC;AACjC,QAAI,CAAC,KAAK;AACN,aAAO;AACX,QAAI,CAAC,KAAK,QAAQ,OAAO;AACrB,YAAM,OAAO,IAAI,KAAK,CAAC,KAAK,QAAQ,UAAU,GAAG,EAAE,MAAM,KAAK,QAAQ,SAAS,CAAC;AAChF,WAAK,QAAQ,QAAQ,IAAI,MAAM;AAC/B,WAAK,QAAQ,MAAM,MAAM,IAAI,gBAAgB,IAAI;AAAA,IACrD;AACA,WAAO,KAAK,QAAQ;AAAA,EACxB;AAAA,EACA,eAAe,GAAG;AACd,UAAM,OAAO,KAAK,cAAc,CAAC;AACjC,QAAI,CAAC,KAAK;AACN,WAAK,cAAc,eAAe,IAAI;AAC1C,WAAO,KAAK;AAAA,EAChB;AACJ;AACA,SAAS,SAAS,QAAQE,MAAK;AAC3B,MAAI,OAAOA,KAAI,QAAQ,MAAM,MAAM;AACnC,SAAO,CAACA,KAAI,UAAU,QAAQ,QAAQ,IAAI,OAAO,MAAS,EAAE,QAAQ,MAAM,EAAE,GAAG,OAAO,CAAC;AAC3F;;;AC3JA,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAmBA,IAAI;AACG,SAAS,WAAW,MAAM;AAC7B,MAAI;AACA,WAAO;AACX,MAAIC,UAAS;AACb,eAAa,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK,MAAM,EAAE,KAAK,MAAM;AAC7E,UAAM,cAAc;AACpB,IAAAA,UAAS;AAAA,EACb,CAAC;AACD,MAAI,IAAI,IAAI,cAAc,QAAM;AAC5B,mBAAe,oBAAoB;AAAA,MAC/B,GAAG;AAAA,MACH,GAAG;AAAA,IACP,GAAG,CAAC,EAAE,CAAC;AAAA,EACX,CAAC;AACD,QAAM,MAAM,OAAO;AACnB,MAAI,kBAAkB;AACtB,MAAI,WAAW;AACf,MAAI;AAEA,UAAM,UAAU,OAAO,YAAY,SAAS,OAAO,MAAM,IAAI,EAAE,IAAI,OAAK,EAAE,MAAM,QAAQ,EAAE,IAAI,kBAAkB,CAAC,CAAC;AAClH,QAAI,QAAQ,gBAAgB,GAAG;AAC3B,YAAM,SAAS,KAAK,MAAM,QAAQ,gBAAgB,CAAC;AACnD,UAAI,OAAO,WAAW,YAAY,OAAO,OAAO,IAAI,MAAM,UAAU;AAChE,UAAE,KAAK,yBAAyB,SAAS,OAAO,IAAI,GAAG,GAAG;AAC1D,mBAAW;AAAA,MACf;AAAA,IACJ;AAAA,EACJ,SACO,KAAK;AAAA,EAAE;AACd,MAAI,CAAC,UAAU;AACX,QAAI,OAAO,SAAS,SAAS,YAAY,EAAE,QAAQ,YAAY,IAAI,KAAK,OAAO,SAAS,SAAS,YAAY,EAAE,QAAQ,YAAY,IAAI,KAAK,OAAO,SAAS,SAAS,YAAY,EAAE,QAAQ,YAAY,IAAI,KAAK,OAAO,SAAS,SAAS,YAAY,EAAE,QAAQ,eAAe,IAAI,KAAK,OAAO,SAAS,SAAS,YAAY,EAAE,QAAQ,eAAe,IAAI,GAAG;AACxV,UAAI,YAAY,OAAO,SAAS,SAAS,MAAM,GAAG;AAClD,UAAI,UAAU,SAAS,KAAK,UAAU,CAAC,EAAE,SAAS,GAAG;AACjD,UAAE,KAAK,yBAAyB,SAAS,UAAU,CAAC,GAAG,GAAG;AAC1D,mBAAW;AAAA,MACf;AAAA,IACJ;AAAA,EACJ;AACA,iBAAe,kBAAkB,KAAK,SAAO;AACzC,QAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC5B,YAAQ,IAAI,GAAG;AAAA,MACX,KAAK;AACD,SAAC,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,gBAAgB,KAAK,IAAI,CAAC;AAC7F;AAAA,MACJ,KAAK;AACD,UAAE,WAAW,aAAa,IAAI,CAAC;AAC/B;AAAA,MACJ,KAAK,yBAAyB;AAC1B,YAAI,OAAO;AACX,SAAC,MAAM,KAAK,SAAS,IAAI,KAAK,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,GAAG;AACjJ;AAAA,MACJ;AAAA,MACA,KAAK,iBAAiB;AAClB,YAAI,OAAO;AACX,SAAC,MAAM,KAAK,SAAS,IAAI,KAAK,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,0BAA0B,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,IAAI;AACrJ;AAAA,MACJ;AAAA,MACA,KAAK,kBAAkB;AACnB,YAAI,OAAO;AACX,SAAC,MAAM,KAAK,SAAS,IAAI,KAAK,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,2BAA2B,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,IAAI;AACtJ;AAAA,MACJ;AAAA,MACA,KAAK,UAAU;AACX,YAAIC,OAAM,SAAS,cAAc,KAAK;AACtC,QAAAA,KAAI,YAAY;AAChB,QAAAA,KAAI,MAAM,WAAW;AACrB,QAAAA,KAAI,MAAM,SAAS;AACnB,QAAAA,KAAI,MAAM,QAAQ;AAClB,QAAAA,KAAI,MAAM,kBAAkB;AAC5B,QAAAA,KAAI,MAAM,QAAQ;AAClB,QAAAA,KAAI,MAAM,eAAe;AACzB,QAAAA,KAAI,MAAM,UAAU;AACpB,QAAAA,KAAI,MAAM,aAAa;AACvB,QAAAA,KAAI,MAAM,YAAY;AACtB,QAAAA,KAAI,MAAM,OAAO;AACjB,QAAAA,KAAI,MAAM,SAAS,OAAO,iBAAiB,SAAS;AACpD,YAAI,OAAO,SAAS,cAAc,MAAM;AACxC,aAAK,YAAY;AACjB,QAAAA,KAAI,OAAO,IAAI;AACf,YAAI,OAAO;AACX,oBAAY,WAAY;AACpB;AACA,cAAI,QAAQ;AACR,iBAAK,YAAY,OAAO,KAAK,SAAS,IAAI;AAAA,QAClD,GAAG,GAAI;AACP,iBAAS,KAAK,OAAOA,IAAG;AAAA,MAC5B;AAAA,MACA,KAAK,OAAO;AACR,YAAIA,OAAM,SAAS,cAAc,KAAK;AACtC,QAAAA,KAAI,YAAY;AAChB,QAAAA,KAAI,MAAM,WAAW;AACrB,QAAAA,KAAI,MAAM,SAAS;AACnB,QAAAA,KAAI,MAAM,QAAQ;AAClB,QAAAA,KAAI,MAAM,OAAO;AACjB,QAAAA,KAAI,MAAM,aAAa;AACvB,QAAAA,KAAI,MAAM,SAAS,OAAO,iBAAiB,SAAS;AACpD,QAAAA,KAAI,MAAM,UAAU;AACpB,QAAAA,KAAI,MAAM,aAAa;AACvB,iBAAS,KAAK,OAAOA,IAAG;AACxB,mBAAW,WAAY;AACnB,UAAAA,KAAI,MAAM,UAAU;AAAA,QACxB,GAAG,GAAG;AACN,mBAAW,WAAY;AACnB,UAAAA,KAAI,MAAM,UAAU;AAAA,QACxB,GAAG,GAAI;AACP,mBAAW,WAAY;AACnB,UAAAA,KAAI,OAAO;AAAA,QACf,GAAG,GAAI;AAAA,MACX;AAAA,IACJ;AAAA,EACJ,CAAC;AACD,WAAS,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,EAAE,IAAI,GAAG,EAAE,QAAQ,MAAMD,SAAQ,0BAA0B,gBAAc,aAAa,aAAa,yBAAyB,aAAa,mBAAmB,sBAAsB,CAAC,GAAG,aAAa,mBAAmB,GAAG,QAAQ,GAAG,uBAAuB,SAAO;AAAE,QAAI;AAAI,YAAQ,KAAK,gBAAgB,GAAG,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AAAA,EAAG,GAAG,qBAAqB,SAAO;AAAE,QAAI;AAAI,YAAQ,KAAK,gBAAgB,GAAG,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,EAAG,GAAG,qBAAqB,SAAO;AAAE,QAAI;AAAI,YAAQ,KAAK,gBAAgB,GAAG,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,EAAG,GAAG,cAAc,MAAM,GAAG,WAAW,UAAQ,SAAS,IAAI,aAAa,oBAAoB,aAAa,wBAAwB,aAAa,UAAQ,SAAS,IAAI,uBAAuB,sBAAsB,oBAAoB,UAAQ,SAAS,GAAG,iBAAiB,MAAM,SAAS,OAAO,EAAE,MAAM,cAAc,GAAG,uBAAuB,CAAC,MAAM;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,YAAY,CAAC;AAAA,EAAG,GAAG,+BAA+B,CAAC,UAAU,aAAa,cAAc,WAAW;AACroC,QAAI;AACJ,KAAC,KAAK,SAAS,IAAI,QAAQ,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,kBAAkB,aAAa,cAAc,MAAM;AAAA,EAC7H,GAAG,YAAY,CAAC,IAAIE,mBAAkB,cAAc,cAAc,YAAY;AAC1E,cAAU,IAAIA,mBAAkB,cAAc,cAAc,OAAO;AAAA,EACvE,GAAG,oBAAoB,CAAC,GAAGA,mBAAkB,cAAc,cAAc,MAAM;AAC3E,QAAI;AACJ,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,gEAAgE;AACvE,aAAO,IAAI,YAAY;AAAA,IAC3B;AACA,KAAC,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,SAASA,mBAAkB,cAAc,cAAc,GAAG;AAAA,EAC7H,GAAG,4BAA4B,CAAC,GAAG,QAAQ,UAAU,UAAU,KAAK,SAAS,YAAY;AACrF,QAAI;AACJ,KAAC,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,gBAAgB,QAAQ,UAAU,UAAU,KAAK,SAAS,OAAO;AAAA,EACpI,GAAG,oCAAoC,CAAC,GAAGA,mBAAkB,cAAc,cAAc,GAAG,SAAS;AACjG,QAAI;AACJ,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,yBAAyB;AAChC;AAAA,IACJ;AACA,KAAC,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,uBAAuBA,mBAAkB,cAAc,cAAc,MAAM,GAAG;AAAA,EACjJ,GAAG,qCAAqC,kBAAkB,yCAAyC,kBAAkB,qBAAqB,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,UAAU;AAAA,EAAG,GAAG,yBAAyB,CAAC,GAAG,IAAI,gBAAgB;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,aAAa,IAAI,WAAW;AAAA,EAAG,GAAG,0BAA0B,CAAC,MAAM;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,cAAc;AAAA,EAAG,GAAG,iCAAiC,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS;AAAA,EAAG,GAAG,kCAAkC,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB;AAAA,EAAG,GAAG,sCAAsC,CAAC,GAAG,IAAI,IAAI,WAAW;AAAE,QAAI;AAAI,aAAS,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,yBAAyB,IAAI,IAAI,MAAM,MAAM,aAAK,OAAO;AAAA,EAAG,GAAG,mCAAmC,OAAK;AAAE,QAAI;AAAI,aAAS,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,sBAAsB,MAAM;AAAA,EAAO,GAAG,8BAA8B,MAAM,aAAK,OAAO,GAAG,oCAAoC,CAAC,GAAG,WAAW;AAAE,QAAI;AAAI,aAAS,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,uBAAuB,MAAM,MAAM,aAAK,OAAO;AAAA,EAAG,GAAG,kCAAkC,CAAC,GAAG,MAAM;AAAE,QAAI,MAAM,aAAK,OAAO;AAAG,iBAAK,OAAO,KAAK,CAAC;AAAG,WAAO;AAAA,EAAK,GAAG,gCAAgC,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,oBAAoB;AAAA,EAAG,GAAG,gCAAgC,CAAC,GAAG,mBAAmB;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,oBAAoB,cAAc;AAAA,EAAG,GAAG,+BAA+B,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB;AAAA,EAAG,GAAG,uDAAuD,CAAC,GAAG,MAAM;AAAE,QAAI;AAAI,YAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,qCAAqC,CAAC;AAAA,EAAG,GAAG,+BAA+B,OAAK;AAAE,QAAI;AAAI,aAAS,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB,MAAM,IAAI,WAAW,CAAC;AAAA,EAAG,GAAG,oCAAoC,OAAK;AAAE,QAAI;AAAI,aAAS,KAAK,SAAS,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB,EAAE,eAAe;AAAA,EAAG,GAAG,mDAAmD,CAAC,GAAG,WAAW;AAC7/E,QAAI,MAAM,2BAA2B,QAAW,EAAE,KAAK,sCAAsC,CAAC,CAAC;AAC/F,QAAI,QAAQ;AACR,UAAIC,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,WAAO;AAAA,EACX,GAAG,mCAAmC,CAAC,GAAG,YAAY,WAAW;AAC7D,QAAI,MAAM,2BAA2B,QAAW,EAAE,KAAK,sCAAsC,CAAC,CAAC;AAC/F,QAAI,QAAQ;AACR,UAAIA,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,iBAAK,SAAS,KAAK,YAAY,GAAG;AAClC,WAAO;AAAA,EACX,GAAG,0DAA0D,CAAC,GAAG,GAAG,GAAGC,IAAG,gBAAgB;AAMtF,QAAI,aAAa;AACjB,QAAI,WAAW,mCAAmC,UAAU,IAAI,KAAK,KAAK;AAC1E,QAAI,cAAc,aAAK,OAAO;AAC9B,iBAAK,aAAa,aAAa,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC;AACnD,QAAI,SAAS,aAAK,OAAO;AACzB,iBAAK,cAAc,QAAQ,CAAC,GAAG,GAAGA,EAAC,GAAG,WAAW;AACjD,MAAE,KAAK,6DAA6D,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC,GAAG,WAAW;AAAA,EACvH,GAAG,sBAAsB,cAAY,aAAa,OAAO,UAAU,EAAE,IAAI,GAAG,uBAAuB,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,aAAa,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AAAA,EAAG,GAAG,2BAA2B,CAAC,GAAG,MAAM;AAC3O,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,oFAAoF;AAC3F,aAAO,oBAAoB;AAAA,IAC/B;AACA,WAAO,IAAI,cAAc,CAAC,EAAE;AAAA,EAChC,GAAG,4BAA4B,OAAK;AAChC,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,qFAAqF;AAC5F,aAAO;AAAA,IACX;AACA,WAAO,IAAI,YAAY;AAAA,EAC3B,GAAG,uCAAuC,CAAC,GAAG,SAAS;AACnD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,gGAAgG;AACvG,aAAO;AAAA,IACX;AACA,QAAI,eAAe,IAAI;AAAA,EAC3B,GAAG,yCAAyC,CAAC,GAAG,MAAM;AAClD,QAAI;AACJ,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,kGAAkG;AACzG,aAAO,IAAI,WAAW,CAAC;AAAA,IAC3B;AACA,aAAS,KAAK,IAAI,cAAc,CAAC,EAAE,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,IAAI,WAAW,CAAC;AAAA,EACvH,GAAG,kDAAkD,CAAC,GAAG,MAAM;AAC3D,QAAI;AACJ,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,2GAA2G;AAClH,aAAO;AAAA,IACX;AACA,aAAS,KAAK,IAAI,cAAc,CAAC,EAAE,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,aAAa;AAAA,EACrG,GAAG,8CAA8C,CAAC,GAAG,MAAM;AACvD,QAAI,IAAI;AACR,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,uGAAuG;AAC9G,aAAO;AAAA,IACX;AACA,aAAS,MAAM,KAAK,IAAI,cAAc,CAAC,EAAE,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,gBAAgB,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe;AAAA,EACjK,GAAG,4CAA4C,CAAC,GAAG,MAAM;AACrD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,qGAAqG;AAC5G,aAAO;AAAA,IACX;AACA,WAAO,IAAI,cAAc,CAAC,EAAE;AAAA,EAChC,GAAG,iCAAiC,CAAC,GAAG,MAAM;AAC1C,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,0FAA0F;AACjG,aAAO;AAAA,IACX;AACA,WAAO,IAAI,cAAc,CAAC,EAAE;AAAA,EAChC,GAAG,oCAAoC,CAAC,GAAG,MAAM;AAC7C,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,6FAA6F;AACpG,aAAO;AAAA,IACX;AACA,WAAO,IAAI,cAAc,CAAC,EAAE;AAAA,EAChC,GAAG,kCAAkC,CAAC,GAAG,MAAM;AAC3C,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,2FAA2F;AAClG,aAAO;AAAA,IACX;AACA,WAAO,IAAI,cAAc,CAAC,EAAE;AAAA,EAChC,GAAG,4BAA4B,CAAC,GAAG,MAAM;AACrC,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,qFAAqF;AAC5F,aAAO,IAAI,MAAM;AAAA,IACrB;AACA,WAAO,IAAI,kBAAkB,CAAC;AAAA,EAClC,GAAG,2CAA2C,CAAC,GAAG,MAAM,WAAW;AAC/D,QAAI,MAAM,2BAA2B,QAAW,EAAE,KAAK,8BAA8B,GAAG,IAAI,CAAC;AAC7F,QAAI,QAAQ;AACR,UAAID,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,WAAO;AAAA,EACX,GAAG,2BAA2B,CAAC,GAAG,MAAM,YAAY,WAAW;AAC3D,QAAI,MAAM,2BAA2B,QAAW,EAAE,KAAK,8BAA8B,GAAG,IAAI,CAAC;AAC7F,QAAI,QAAQ;AACR,UAAIA,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,iBAAK,SAAS,KAAK,YAAY,GAAG;AAClC,WAAO;AAAA,EACX,GAAG,2CAA2C,CAAC,GAAG,SAAS;AACvD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,oGAAoG;AAC3G,aAAO,IAAI,YAAY;AAAA,IAC3B;AACA,WAAO,IAAI,eAAe,IAAI,EAAE;AAAA,EACpC,GAAG,4CAA4C,CAAC,GAAG,SAAS;AACxD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,qGAAqG;AAC5G,aAAO,IAAI,aAAa;AAAA,IAC5B;AACA,WAAO,IAAI,eAAe,IAAI,EAAE;AAAA,EACpC,GAAG,uCAAuC,CAAC,GAAG,SAAS;AACnD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,gGAAgG;AACvG,aAAO,IAAI,aAAa;AAAA,IAC5B;AACA,WAAO,IAAI,eAAe,IAAI,EAAE;AAAA,EACpC,GAAG,2CAA2C,CAAC,GAAG,SAAS;AACvD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,oGAAoG;AAC3G,aAAO,IAAI,aAAa;AAAA,IAC5B;AACA,WAAO,IAAI,eAAe,IAAI,EAAE;AAAA,EACpC,GAAG,gDAAgD,CAAC,GAAG,SAAS;AAC5D,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,yGAAyG;AAChH,aAAO;AAAA,IACX;AACA,WAAO,IAAI,eAAe,IAAI,EAAE,QAAQ;AAAA,EAC5C,GAAG,iDAAiD,CAAC,GAAG,SAAS;AAC7D,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,0GAA0G;AACjH,aAAO;AAAA,IACX;AACA,WAAO,IAAI,eAAe,IAAI,EAAE,SAAS;AAAA,EAC7C,GAAG,4CAA4C,CAAC,GAAG,SAAS;AACxD,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,qGAAqG;AAC5G,aAAO;AAAA,IACX;AACA,WAAO,IAAI,eAAe,IAAI,EAAE,IAAI;AAAA,EACxC,GAAG,gDAAgD,CAAC,GAAG,SAAS;AAC5D,QAAI,MAAM,aAAa,IAAI,CAAC;AAC5B,QAAI,CAAC,KAAK;AACN,aAAO,yGAAyG;AAChH,aAAO;AAAA,IACX;AACA,WAAO,IAAI,eAAe,IAAI,EAAE,QAAQ;AAAA,EAC5C,GAAG,0CAA0C,CAAC,GAAG,MAAM,WAAW;AAC9D,QAAI,MAAM,2BAA2B,QAAW,EAAE,KAAK,6BAA6B,GAAG,IAAI,CAAC;AAC5F,QAAI,QAAQ;AACR,UAAIA,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,WAAO;AAAA,EACX,GAAG,0BAA0B,CAAC,GAAG,MAAM,YAAY,WAAW;AAC1D,QAAI,MAAM,2BAA2B,QAAW,EAAE,KAAK,6BAA6B,GAAG,IAAI,CAAC;AAC5F,QAAI,QAAQ;AACR,UAAIA,SAAQ,aAAK,OAAO;AACxB,mBAAK,YAAYA,QAAO,CAAC,IAAI,GAAG,CAAC,CAAC;AAClC,mBAAK,SAAS,KAAKA,QAAO,GAAG;AAC7B,mBAAK,SAAS,KAAK,KAAKA,MAAK;AAAA,IACjC;AACA,iBAAK,SAAS,KAAK,YAAY,GAAG;AAClC,WAAO;AAAA,EACX,GAAG,iCAAiC,CAAC,MAAMJ,WAAU,MAAM,QAAQ,QAAQ,aAAa;AACpF,UAAM,qBAAqB,CAAC;AAAA,EAChC,CAAC,GAAG,kBAAkB,MAAM;AACxB,WAAO,eAAe;AAAA,EAC1B,GAAG,mBAAmB,CAAC,MAAM;AACzB,oBAAgB,CAAC;AAAA,EACrB,GAAG,mBAAmB,CAAC,MAAM;AACzB,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,wEAAwE;AAC/E,aAAO,IAAI,YAAY;AAAA,IAC3B;AACA,WAAO,IAAI,WAAW;AAAA,EAC1B,GAAG,wBAAwB,CAAC,MAAM;AAC9B,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,6EAA6E;AACpF,aAAO;AAAA,IACX;AACA,WAAO,IAAI,WAAW,EAAE;AAAA,EAC5B,GAAG,eAAe,CAAC,MAAM;AACrB,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,oEAAoE;AAC3E,aAAO,IAAI,aAAa;AAAA,IAC5B;AACA,WAAO,IAAI,OAAO;AAAA,EACtB,GAAG,oBAAoB,CAAC,MAAM;AAC1B,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,yEAAyE;AAChF,aAAO;AAAA,IACX;AACA,WAAO,IAAI,OAAO,EAAE;AAAA,EACxB,GAAG,oBAAoB,CAAC,MAAM;AAC1B,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,yEAAyE;AAChF,aAAO,IAAI,aAAa;AAAA,IAC5B;AACA,WAAO,IAAI,YAAY;AAAA,EAC3B,GAAG,yBAAyB,CAAC,MAAM;AAC/B,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,8EAA8E;AACrF,aAAO;AAAA,IACX;AACA,WAAO,IAAI,YAAY,EAAE;AAAA,EAC7B,GAAG,mBAAmB,CAAC,MAAM;AACzB,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,wEAAwE;AAC/E,aAAO,IAAI,aAAa;AAAA,IAC5B;AACA,WAAO,IAAI,WAAW;AAAA,EAC1B,GAAG,wBAAwB,CAAC,MAAM;AAC9B,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,6EAA6E;AACpF,aAAO;AAAA,IACX;AACA,WAAO,IAAI,WAAW,EAAE;AAAA,EAC5B,GAAG,4BAA4B,CAAC,GAAG,IAAI,WAAW,UAAU,UAAU,aAAa;AAC/E,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,iFAAiF;AACxF;AAAA,IACJ;AACA,QAAI,eAAe,IAAI,WAAW,UAAU,UAAU,QAAQ;AAAA,EAClE,GAAG,kBAAkB,CAAC,GAAGM,WAAU,YAAY,aAAa;AACxD,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,uEAAuE;AAC9E;AAAA,IACJ;AACA,QAAI,OAAOA,WAAU,YAAY,QAAQ;AAAA,EAC7C,GAAG,wBAAwB,CAAC,MAAMN,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAC3E,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,6EAA6E;AACpF;AAAA,IACJ;AACA,QAAI,MAAM,IAAI,IAAI,+BAA+B,YAAY,GAAG;AAChE,QAAI,MAAM,MAAM,MAAM,IAAI,SAAS,CAAC;AACpC,QAAI,eAAe,MAAM,IAAI,YAAY,GAAG,OAAO,OAAO,OAAO,KAAK;AAAA,EAC1E,CAAC,GAAG,6BAA6B,CAAC,GAAG,WAAW,UAAU,aAAaA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChH,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,kFAAkF;AACzF;AAAA,IACJ;AACA,QAAI,MAAM,IAAI,IAAI,+BAA+B,YAAY,GAAG;AAChE,QAAI,MAAM,MAAM,MAAM,IAAI,SAAS,CAAC;AACpC,QAAI,eAAe,MAAM,IAAI,YAAY,GAAG,WAAW,UAAU,UAAU,KAAK;AAAA,EACpF,CAAC,GAAG,6CAA6C,CAAC,GAAG,WAAW,UAAU,UAAU,aAAaA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAC1I,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,kGAAkG;AACzG;AAAA,IACJ;AACA,QAAI,MAAM,IAAI,IAAI,+CAA+C,YAAY,GAAG;AAChF,QAAI,MAAM,MAAM,MAAM,IAAI,SAAS,CAAC;AACpC,QAAI,eAAe,MAAM,IAAI,YAAY,GAAG,WAAW,UAAU,UAAU,QAAQ;AAAA,EACvF,CAAC,GAAG,0BAA0B,CAAC,MAAM;AACjC,QAAI,MAAM,YAAY,CAAC;AACvB,QAAI,CAAC,KAAK;AACN,aAAO,6EAA6E;AACpF,aAAO;AAAA,IACX;AACA,WAAO,IAAI,gBAAgB;AAAA,EAC/B,GAAG,sBAAsB,CAAC,MAAM;AAC5B,WAAO,mBAAmB,CAAC;AAAA,EAC/B,GAAG,uBAAuB,CAAC,MAAM;AAC7B,wBAAoB,CAAC;AAAA,EACzB,GAAG,sBAAsB,CAAC,GAAGM,WAAU,YAAY,aAAa;AAC5D,QAAI,MAAM,gBAAgB,CAAC;AAC3B,QAAI,CAAC,KAAK;AACN,aAAO,+EAA+E;AACtF;AAAA,IACJ;AACA,QAAI,OAAOA,WAAU,YAAY,QAAQ;AAAA,EAC7C,GAAG,2BAA2B,CAAC,MAAM;AACjC,QAAI,MAAM,gBAAgB,CAAC;AAC3B,QAAI,CAAC,KAAK;AACN,aAAO,oFAAoF;AAC3F,aAAO,aAAK,OAAO;AAAA,IACvB;AACA,WAAO,IAAI;AAAA,EACf,GAAG,4BAA4B,CAAC,UAAU,QAAQ,kBAAkB,yBAAyB,UAAU,GAAG,GAAG,2BAA2B,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,kBAAkB,sBAAsB,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,EAAG,GAAG,2BAA2B,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,kBAAkB,sBAAsB,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,EAAG,GAAG,6BAA6B,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,kBAAkB,sBAAsB,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AAAA,EAAG,GAAG,wBAAwB,OAAK,eAAe,OAAO,CAAC,GAAG,kCAAkC,CAAC,GAAG,SAAS;AAAE,QAAI;AAAI,YAAQ,KAAK,eAAe,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,IAAI;AAAA,EAAG,GAAG,uBAAuB,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,eAAe,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,EAAG,GAAG,uBAAuB,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,eAAe,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,EAAG,GAAG,sCAAsC,CAAC,GAAG,QAAQ;AAAE,QAAI;AAAI,YAAQ,KAAK,eAAe,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,kBAAkB,GAAG;AAAA,EAAG,GAAG,0BAA0B,CAAC,GAAG,MAAM;AAAE,QAAI;AAAI,YAAQ,KAAK,eAAe,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,CAAC;AAAA,EAAG,GAAG,yBAAyB,OAAK;AAAE,QAAI;AAAI,YAAQ,KAAK,eAAe,IAAI,CAAC,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AAAA,EAAG,GAAG,wBAAwB,sBAAsB,2BAA2B,yBAAyB,2BAA2B,yBAAyB,uBAAuB,qBAAqB,0BAA0B,wBAAwB,0BAA0B,wBAAwB,2BAA2B,yBAAyB,2BAA2B,yBAAyB,wBAAwB,sBAAsB,uBAAuB,qBAAqB,+BAA+B,qBAAqB,sBAAsB,oBAAoB,sBAAsB,sBAAc,cAAc,yBAAyB,sBAAc,iBAAiB,eAAe,OAAK;AACrnE,gBAAY,CAAC;AACb,MAAE,KAAK,cAAc,CAAC;AAAA,EAC1B,GAAG,mBAAmB,OAAK;AACvB,QAAI,GAAG;AACH,UAAI,CAAC,iBAAiB;AAClB,mBAAW,GAAG;AACd,0BAAkB;AAAA,MACtB;AAAA,IACJ,OACK;AACD,gBAAU;AAAA,IACd;AAAA,EACJ,EAAE,CAAC;AACP,SAAO;AACX;AACA,SAAS,qBAAqB,GAAG;AAC7B,SAAON,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,QAAI,MAAM,IAAI,IAAI,8BAA8B,YAAY,GAAG;AAC/D,QAAI,OAAO,MAAM,MAAM,IAAI,SAAS,CAAC;AACrC,QAAI,KAAK,MAAM,KAAK,YAAY;AAChC,eAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,oCAAoC,GAAG,EAAE;AAAA,EACpG,CAAC;AACL;AACA,SAAS,SAAS;AACd,MAAI,MAAM,OAAO,aAAa,QAAQ,WAAW;AACjD,MAAI,QAAQ,MAAM;AACd,UAAM,cAAc,IAAI,WAAW,CAAC;AACpC,WAAO,OAAO,gBAAgB,WAAW;AACzC,UAAM;AACN,aAAS,IAAI,GAAG,IAAI,YAAY,YAAY,KAAK;AAC7C,YAAM,OAAO,YAAY,CAAC,EAAE,SAAS,EAAE;AACvC,UAAI,KAAK,WAAW;AAChB,eAAO,MAAM;AAAA,eACR,KAAK,WAAW;AACrB,eAAO;AAAA,IACf;AAAA,EACJ;AACA,SAAO;AACX;AACA,SAAS,WAAW,GAAG;AACnB,SAAO,aAAa,QAAQ,aAAa,CAAC;AAC9C;AACA,SAAS,YAAY;AACjB,SAAO,aAAa,WAAW,WAAW;AAC9C;;;AC9hBO,IAAMO,WAAU;;;ACEhB,SAASC,YAAW,MAAM;AAC7B,UAAQ,IAAI,cAAcC,QAAO,EAAE;AACnC,SAAO,WAAiB,IAAI;AAChC;;;ACFO,IAAMC,WAAU;;;ACHvB,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAIA,IAAI;AACJ,IAAI;AASG,SAAS,IAAI;AAChB,MAAI,CAAC,IAAI;AACL,YAAQ,IAAI,cAAcC,QAAO,EAAE;AACnC,SAAKC,YAAW,QAAQ;AAAA,EAC5B;AACA,SAAO;AACX;AAOO,SAAS,sBAAsB,YAAY;AAC9C,SAAO,EAAE,EAAE,yBAAyB,cAAc,KAAK;AAC3D;AAoBO,SAAS,gCAAgC,OAAO,aAAa,cAAc,QAAQ,KAAK,OAAO,KAAK;AACvG,SAAO,EAAE,EAAE,wCAAwC,OAAO,aAAa,cAAc,OAAO,IAAI;AACpG;AAWO,SAAS,sBAAsB;AAClC,SAAO,EAAE,EAAE,qBAAqB;AACpC;AAMO,SAAS,wBAAwB;AACpC,IAAE,EAAE,wBAAwB;AAChC;AAOO,SAAS,SAAS;AACrB,SAAO,EAAE,EAAE,OAAO;AACtB;AAOO,SAAS,gBAAgB;AAC5B,SAAOC,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,WAAO,MAAM;AACT,UAAI,OAAO;AACP;AACJ,YAAM,MAAM,EAAE;AAAA,IAClB;AAAA,EACJ,CAAC;AACL;AACA,SAAS,MAAM,IAAI;AACf,SAAO,IAAI,QAAQ,aAAW,WAAW,SAAS,EAAE,CAAC;AACzD;AAQO,SAAS,iBAAiB,GAAG;AAChC,IAAE,EAAE,kBAAkB,CAAC;AAC3B;;;ACrHA,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAOO,IAAMC,gBAAN,MAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOtB,YAAY,WAAW,YAAY;AAC/B,SAAK,YAAY;AAIjB,SAAK,YAAY,IAAI,OAAO;AAI5B,SAAK,eAAe,IAAI,OAAO;AAI/B,SAAK,cAAc,IAAI,OAAO;AAI9B,SAAK,UAAU,oBAAI,IAAI;AAIvB,SAAK,UAAU,oBAAI,IAAI;AACvB,SAAK,oBAAoB,oBAAI,IAAI;AACjC,SAAK,eAAe,MAAM;AACtB,YAAM,aAAa,oBAAI,IAAI;AAE3B,YAAM,OAAO,KAAK;AAClB,WAAK,UAAU,KAAK;AACpB,WAAK,oBAAoB;AACzB,WAAK,QAAQ,MAAM;AACnB,YAAM,MAAM,KAAK,GAAG,2BAA2B,KAAK,KAAK;AACzD,eAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC1B,cAAM,KAAK,KAAK,GAAG,wBAAwB,KAAK,OAAO,CAAC;AACxD,YAAI,SAAS,KAAK,QAAQ,IAAI,EAAE;AAChC,YAAI,QAAQ;AACZ,YAAI,CAAC,QAAQ;AACT,mBAAS;AAAA,YACL,WAAW,IAAI,MAAM;AAAA,YACrB,cAAc,IAAI,MAAM;AAAA,YACxB;AAAA,YACA,oBAAoB,YAAU,KAAK,GAAG,0CAA0C,KAAK,OAAO,GAAG,WAAW,IAAI;AAAA,YAC9G,MAAM,CAAC,YAAY,WAAW,KAAK,GAAG,0BAA0B,KAAK,OAAO,GAAG,YAAY,WAAW,IAAI;AAAA,YAC1G,SAAS;AAAA,UACb;AACA,kBAAQ;AACR,eAAK,QAAQ,IAAI,IAAI,MAAM;AAC3B,qBAAW,IAAI,MAAM;AAAA,QACzB;AACA,eAAO,UAAU;AACjB,aAAK,QAAQ,IAAI,MAAM;AAAA,MAC3B;AAEA,iBAAW,UAAU;AACjB,aAAK,YAAY,KAAK,MAAM;AAChC,iBAAW,UAAU,KAAK,SAAS;AAC/B,YAAI,CAAC,KAAK,kBAAkB,IAAI,MAAM,GAAG;AACrC,eAAK,UAAU,KAAK,MAAM;AAC1B,iBAAO,UAAU,KAAK;AAAA,QAC1B,OACK;AACD,eAAK,kBAAkB,OAAO,MAAM;AAAA,QACxC;AAAA,MACJ;AACA,iBAAW,UAAU,KAAK,mBAAmB;AACzC,eAAO,UAAU;AACjB,aAAK,aAAa,KAAK,MAAM;AAC7B,eAAO,aAAa,KAAK;AAAA,MAC7B;AAAA,IACJ;AACA,SAAK,UAAU,uBAAuB,KAAK,KAAK,YAAY;AAC5D,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,qBAAqB,KAAK,UAAU,SAAS,CAAC;AACnE,QAAI;AACA,WAAK,WAAW,UAAU;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,UAAU,uBAAuB,OAAO,KAAK,YAAY;AAC9D,SAAK,QAAQ,MAAM;AACnB,SAAK,QAAQ,MAAM;AACnB,SAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAW,KAAK;AACZ,WAAOD,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,OAAO,QAAQ,UAAU;AACzB,cAAM,OAAO,MAAM,MAAM,GAAG,GAAG,YAAY;AAAA,MAC/C;AACA,WAAK,WAAW;AAChB,WAAK,GAAG,sCAAsC,KAAK,OAAO,GAAG;AAAA,IACjE,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,UAAU;AACV,WAAO,KAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EACnD;AAAA,EACA,IAAI,QAAQ,GAAG;AACX,SAAK,GAAG,0BAA0B,KAAK,OAAO,CAAC;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,UAAU;AACV,QAAI,CAAC,KAAK,UAAU;AAChB,WAAK,WAAW,CAAC;AACjB,YAAM,QAAQ,KAAK,GAAG,2BAA2B,KAAK,KAAK;AAC3D,eAAS,IAAI,GAAG,IAAI,OAAO,KAAK;AAC5B,aAAK,SAAS,KAAK,IAAI,YAAY,KAAK,IAAI,KAAK,OAAO,CAAC,CAAC;AAAA,MAC9D;AAAA,IACJ;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AAIO,IAAM,cAAN,MAAkB;AAAA,EACrB,YAAYE,KAAI,OAAO,OAAO;AAC1B,SAAK,KAAKA;AACV,SAAK,QAAQ;AACb,SAAK,QAAQ;AACb,SAAK,sBAAsB,KAAK,GAAG,2CAA2C,KAAK,OAAO,KAAK,KAAK;AACpG,QAAI,KAAK,sBAAsB;AAC3B,WAAK,sBAAsB;AAC/B,SAAK,YAAY,KAAK,GAAG,gCAAgC,KAAK,OAAO,KAAK,KAAK;AAC/E,QAAI,KAAK,YAAY;AACjB,WAAK,YAAY;AACrB,SAAK,eAAe,KAAK,GAAG,mCAAmC,KAAK,OAAO,KAAK,KAAK;AACrF,QAAI,KAAK,eAAe;AACpB,WAAK,eAAe;AACxB,SAAK,aAAa,KAAK,GAAG,iCAAiC,KAAK,OAAO,KAAK,KAAK;AACjF,QAAI,KAAK,aAAa;AAClB,WAAK,aAAa;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,QAAQ;AACR,QAAI,KAAK,WAAW,QAAW;AAC3B,WAAK,SAAS,KAAK,GAAG,2BAA2B,KAAK,OAAO,KAAK,KAAK,KAAK;AAAA,IAChF;AACA,WAAO,KAAK,UAAU;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,UAAU;AACV,QAAI,KAAK,aAAa,QAAW;AAC7B,WAAK,WAAW,IAAI,mBAAmB,KAAK,IAAI,KAAK,OAAO,KAAK,KAAK;AAAA,IAC1E;AACA,WAAO,KAAK;AAAA,EAChB;AACJ;AAIO,IAAM,qBAAN,MAAyB;AAAA,EAC5B,YAAYA,KAAI,OAAO,OAAO;AAC1B,SAAK,KAAKA;AACV,SAAK,QAAQ;AACb,SAAK,QAAQ;AACb,SAAK,WAAW,KAAK,GAAG,2CAA2C,KAAK,OAAO,KAAK,KAAK;AACzF,SAAK,UAAU,KAAK,GAAG,0CAA0C,KAAK,OAAO,KAAK,KAAK;AACvF,SAAK,MAAM,KAAK,GAAG,sCAAsC,KAAK,OAAO,KAAK,KAAK;AAAA,EACnF;AACJ;;;AC/LO,IAAM,sBAAN,MAA0B;AAAA;AAAA;AAAA;AAAA;AAAA,EAK7B,YAAY,WAAW;AACnB,SAAK,YAAY;AAIjB,SAAK,SAAS;AAAA,MACV,oBAAoB,YAAU,KAAK,0BAA0B,MAAM;AAAA,MACnE,MAAM,CAAC,YAAY,WAAW,KAAK,YAAY,YAAY,MAAM;AAAA,IACrE;AACA,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,6BAA6B,KAAK,UAAU,SAAS,CAAC;AAAA,EAC/E;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,8BAA8B,KAAK,KAAK;AAAA,EACpD;AAAA,EACA,0BAA0B,QAAQ;AAC9B,WAAO,KAAK,GAAG,kDAAkD,KAAK,OAAO,WAAW,IAAI;AAAA,EAChG;AAAA,EACA,YAAY,YAAY,QAAQ;AAC5B,WAAO,KAAK,GAAG,kCAAkC,KAAK,OAAO,YAAY,WAAW,IAAI;AAAA,EAC5F;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,UAAU;AACV,WAAO,KAAK,GAAG,8BAA8B,KAAK,KAAK;AAAA,EAC3D;AAAA,EACA,IAAI,QAAQ,GAAG;AACX,SAAK,GAAG,kCAAkC,KAAK,OAAO,CAAC;AAAA,EAC3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,8BAA8B,GAAG,GAAGC,IAAG,aAAa;AAChD,SAAK,GAAG,yDAAyD,KAAK,OAAO,GAAG,GAAGA,IAAG,eAAe,8CAA8C,sBAAsB;AAAA,EAC7K;AACJ;;;ACjDO,IAAM,gBAAN,MAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKvB,YAAY,WAAW;AACnB,SAAK,YAAY;AAIjB,SAAK,cAAc,IAAI,OAAO;AAC9B,SAAK,gBAAgB,CAAC;AACtB,SAAK,SAAS,CAAC;AACf,SAAK,WAAW,CAAC;AACjB,SAAK,eAAe,MAAM;AACtB,WAAK,SAAS,CAAC;AACf,YAAM,MAAM,KAAK,GAAG,4BAA4B,KAAK,KAAK;AAC1D,eAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC1B,aAAK,OAAO,KAAK;AAAA,UACb,MAAM,KAAK,GAAG,0BAA0B,KAAK,OAAO,CAAC;AAAA,UACrD,QAAQ,KAAK,GAAG,4BAA4B,KAAK,OAAO,CAAC;AAAA,QAC7D,CAAC;AAAA,MACL;AACA,UAAI,KAAK,OAAO,WAAW;AACvB;AACJ,gBAAW,YAAW,SAAS,KAAK,QAAQ;AACxC,mBAAW,YAAY,KAAK,eAAe;AACvC,cAAI,SAAS,SAAS,MAAM;AACxB,qBAAS;AAAA,QACjB;AACA,aAAK,YAAY,KAAK,KAAK;AAAA,MAC/B;AACA,WAAK,gBAAgB,KAAK;AAAA,IAC9B;AACA,SAAK,UAAU,uBAAuB,KAAK,KAAK,YAAY;AAC5D,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,sBAAsB,KAAK,UAAU,SAAS,CAAC;AACpE,SAAK,SAAS,KAAK,MAAM,KAAK,UAAU;AAAA,MACpC,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,IACrB,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,UAAU,uBAAuB,OAAO,KAAK,YAAY;AAC9D,SAAK,SAAS,CAAC;AACf,SAAK,gBAAgB,CAAC;AACtB,SAAK,GAAG,uBAAuB,KAAK,KAAK;AAAA,EAC7C;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,QAAQ;AACR,WAAO,KAAK;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,UAAU;AACV,WAAO,KAAK,GAAG,uBAAuB,KAAK,KAAK;AAAA,EACpD;AAAA,EACA,IAAI,QAAQ,GAAG;AACX,SAAK,GAAG,2BAA2B,KAAK,OAAO,CAAC;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,UAAU;AACV,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,IAAI,QAAQ,GAAG;AACX,SAAK,WAAW,EAAE,MAAM;AACxB,QAAI,aAAa;AACjB,eAAW,UAAU,KAAK,UAAU;AAChC,oBAAc;AAAA,IAClB;AACA,SAAK,GAAG,2BAA2B,KAAK,OAAO,UAAU;AAAA,EAC7D;AACJ;;;ACtGA,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAOO,IAAM,cAAN,MAAkB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKrB,YAAY,WAAW;AACnB,SAAK,YAAY;AAIjB,SAAK,YAAY,IAAI,OAAO;AAI5B,SAAK,eAAe,IAAI,OAAO;AAI/B,SAAK,cAAc,IAAI,OAAO;AAI9B,SAAK,UAAU,oBAAI,IAAI;AAIvB,SAAK,UAAU,oBAAI,IAAI;AACvB,SAAK,oBAAoB,oBAAI,IAAI;AACjC,SAAK,eAAe,MAAM;AACtB,YAAM,aAAa,oBAAI,IAAI;AAE3B,YAAM,OAAO,KAAK;AAClB,WAAK,UAAU,KAAK;AACpB,WAAK,oBAAoB;AACzB,WAAK,QAAQ,MAAM;AACnB,YAAM,MAAM,KAAK,GAAG,0BAA0B,KAAK,KAAK;AACxD,eAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC1B,cAAM,KAAK,KAAK,GAAG,uBAAuB,KAAK,OAAO,CAAC;AACvD,YAAI,SAAS,KAAK,QAAQ,IAAI,EAAE;AAChC,YAAI,QAAQ;AACZ,YAAI,CAAC,QAAQ;AACT,mBAAS;AAAA,YACL,WAAW,IAAI,MAAM;AAAA,YACrB,cAAc,IAAI,MAAM;AAAA,YACxB,MAAM;AAAA,YACN;AAAA,YACA,oBAAoB,YAAU,KAAK,GAAG,yCAAyC,KAAK,OAAO,OAAO,MAAM,WAAW,IAAI;AAAA,YACvH,MAAM,CAAC,YAAY,WAAW,KAAK,GAAG,yBAAyB,KAAK,OAAO,OAAO,MAAM,YAAY,WAAW,IAAI;AAAA,YACnH,UAAU,IAAI,aAAa,EAAE;AAAA,YAC7B,YAAY,IAAI,aAAa,EAAE;AAAA,YAC/B,SAAS;AAAA,UACb;AACA,kBAAQ;AACR,eAAK,QAAQ,IAAI,IAAI,MAAM;AAC3B,qBAAW,IAAI,MAAM;AAAA,QACzB;AACA,eAAO,OAAO;AACd,eAAO,UAAU;AACjB,eAAO,WAAW,KAAK,GAAG,0CAA0C,KAAK,OAAO,CAAC;AACjF,eAAO,aAAa,KAAK,GAAG,4CAA4C,KAAK,OAAO,CAAC;AACrF,aAAK,QAAQ,IAAI,MAAM;AAAA,MAC3B;AAEA,iBAAW,UAAU;AACjB,aAAK,YAAY,KAAK,MAAM;AAChC,iBAAW,UAAU,KAAK,SAAS;AAC/B,YAAI,CAAC,KAAK,kBAAkB,IAAI,MAAM,GAAG;AACrC,eAAK,UAAU,KAAK,MAAM;AAC1B,iBAAO,UAAU,KAAK;AAAA,QAC1B,OACK;AACD,eAAK,kBAAkB,OAAO,MAAM;AAAA,QACxC;AAAA,MACJ;AACA,iBAAW,UAAU,KAAK,mBAAmB;AACzC,eAAO,UAAU;AACjB,aAAK,aAAa,KAAK,MAAM;AAC7B,eAAO,aAAa,KAAK;AAAA,MAC7B;AAAA,IACJ;AACA,SAAK,UAAU,uBAAuB,KAAK,KAAK,YAAY;AAC5D,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,oBAAoB,KAAK,UAAU,SAAS,CAAC;AAAA,EACtE;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,UAAU,uBAAuB,OAAO,KAAK,YAAY;AAC9D,SAAK,QAAQ,MAAM;AACnB,SAAK,QAAQ,MAAM;AACnB,SAAK,GAAG,qBAAqB,KAAK,KAAK;AAAA,EAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,UAAU,KAAK;AACX,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,OAAO,QAAQ,UAAU;AACzB,cAAM,OAAO,MAAM,MAAM,GAAG,GAAG,YAAY;AAAA,MAC/C;AACA,WAAK,GAAG,oCAAoC,KAAK,OAAO,GAAG;AAAA,IAC/D,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB;AACf,WAAOA,WAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,YAAM,KAAK,GAAG,gCAAgC,KAAK,KAAK;AAAA,IAC5D,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,UAAU;AACV,WAAO,KAAK,GAAG,qBAAqB,KAAK,KAAK;AAAA,EAClD;AAAA,EACA,IAAI,QAAQ,GAAG;AACX,SAAK,GAAG,yBAAyB,KAAK,OAAO,CAAC;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,WAAW;AACX,WAAO,KAAK,GAAG,uBAAuB,KAAK,KAAK;AAAA,EACpD;AAAA,EACA,IAAI,SAAS,GAAG;AACZ,SAAK,GAAG,2BAA2B,KAAK,OAAO,CAAC;AAAA,EACpD;AACJ;;;ACvJA,IAAIC,cAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAMO,IAAMC,YAAN,MAAe;AAAA;AAAA;AAAA;AAAA;AAAA,EAKlB,cAAc;AACV,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,iBAAiB;AAAA,EAC1C;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,kBAAkB,KAAK,KAAK;AAAA,EACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,KAAK,KAAK,WAAW,aAAa,cAAc,UAAU;AACtD,WAAOD,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,CAAC,KAAK;AACN,aAAK,YAAY;AACjB;AAAA,MACJ,WACS,OAAO,QAAQ,UAAU;AAC9B,cAAM,OAAO,MAAM,MAAM,GAAG,GAAG,YAAY;AAAA,MAC/C;AACA,WAAK,GAAG,2BAA2B,KAAK,OAAO,KAAK,aAAa,OAAO,eAAe,OAAO,gBAAgB,OAAO,YAAY,KAAK;AAAA,IAC1I,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc;AACV,WAAOA,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,YAAM,KAAK,GAAG,uBAAuB,KAAK,KAAK;AAAA,IACnD,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,gBAAgB,WAAW,aAAa,cAAc;AAClD,WAAOA,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,YAAM,KAAK,GAAG,4BAA4B,KAAK,OAAO,aAAa,OAAO,eAAe,OAAO,gBAAgB,KAAK;AAAA,IACzH,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,8BAA8B,WAAW,aAAa,cAAc,UAAU;AAC1E,WAAOA,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,YAAM,KAAK,GAAG,4CAA4C,KAAK,OAAO,aAAa,OAAO,eAAe,OAAO,gBAAgB,OAAO,YAAY,KAAK;AAAA,IAC5J,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB,GAAG,QAAQ;AAC5B,SAAK,GAAG,iBAAiB,KAAK,OAAO,EAAE,UAAU,EAAE,YAAY,UAAU,KAAK;AAAA,EAClF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,6BAA6BE,WAAU,YAAY,QAAQ;AACvD,SAAK,GAAG,iBAAiB,KAAK,OAAOA,WAAU,YAAY,UAAU,KAAK;AAAA,EAC9E;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,WAAW;AACX,WAAO,KAAK,GAAG,mBAAmB,KAAK,KAAK;AAAA,EAChD;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,UAAU;AACV,WAAO,KAAK,GAAG,kBAAkB,KAAK,KAAK;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,MAAM;AACN,WAAO,KAAK,GAAG,cAAc,KAAK,KAAK;AAAA,EAC3C;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,UAAU;AACV,WAAO,KAAK,GAAG,kBAAkB,KAAK,KAAK;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA,EAIA,WAAW;AACP,WAAO,KAAK;AAAA,EAChB;AACJ;;;AChIO,IAAMC,gBAAN,MAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOtB,YAAY,UAAU,UAAU;AAC5B,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,qBAAqB,SAAS,SAAS,GAAG,QAAQ;AAAA,EAC3E;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,QAAQ;AACJ,SAAK,GAAG,oBAAoB,KAAK,KAAK;AAAA,EAC1C;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AACJ,SAAK,GAAG,oBAAoB,KAAK,KAAK;AAAA,EAC1C;AACJ;;;AC/BO,IAAMC,qBAAN,MAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM3B,YAAY,UAAU,SAAS;AAC3B,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,2BAA2B,SAAS,SAAS,GAAG,OAAO;AAAA,EAChF;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,4BAA4B,KAAK,KAAK;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,QAAQ;AACJ,SAAK,GAAG,0BAA0B,KAAK,KAAK;AAAA,EAChD;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AACJ,SAAK,GAAG,0BAA0B,KAAK,KAAK;AAAA,EAChD;AACJ;;;ACnCA,IAAIC,cAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAKO,IAAMC,kBAAN,MAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKxB,YAAY,UAAU;AAClB,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,uBAAuB,SAAS,SAAS,CAAC;AAAA,EACnE;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,wBAAwB,KAAK,KAAK;AAAA,EAC9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,QAAQ;AACJ,SAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AACJ,SAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,KAAK,KAAK;AACN,WAAOD,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,UAAI,OAAO,QAAQ,UAAU;AACzB,cAAM,OAAO,MAAM,MAAM,GAAG,GAAG,YAAY;AAAA,MAC/C;AACA,WAAK,GAAG,iCAAiC,KAAK,OAAO,GAAG;AAAA,IAC5D,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,QAAQ,GAAG;AACP,SAAK,GAAG,yBAAyB,KAAK,OAAO,MAAM,QAAQ,MAAM,SAAS,IAAI,EAAE;AAAA,EACpF;AACJ;;;ACxDO,IAAME,YAAN,MAAe;AAAA;AAAA;AAAA;AAAA,EAIlB,cAAc;AAIV,SAAK,gBAAgB,IAAI,MAAM;AAI/B,SAAK,yBAAyB,IAAI,MAAM;AACxC,SAAK,mBAAmB;AACxB,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,gBAAgB;AAAA,EACzC;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,iBAAiB,KAAK,KAAK;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA,EAIA,cAAc;AACV,SAAK,GAAG,sBAAsB,KAAK,KAAK;AACxC,UAAM,cAAc,KAAK,GAAG,sBAAsB,KAAK,KAAK;AAC5D,QAAI,gBAAgB,KAAK,kBAAkB;AACvC,WAAK,mBAAmB;AACxB,WAAK,uBAAuB,KAAK;AACjC,WAAK,cAAc,KAAK;AAAA,IAC5B;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAIA,WAAW;AACP,WAAO,KAAK;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,IAAI;AACb,SAAK,GAAG,wBAAwB,KAAK,OAAO,EAAE;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA,EAIA,gBAAgB;AACZ,SAAK,GAAG,yBAAyB,KAAK,KAAK;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA,EAIA,uBAAuB;AACnB,WAAO,KAAK,GAAG,iCAAiC,KAAK,KAAK;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBA,yBAAyB,aAAa,cAAc,QAAQ;AACxD,WAAO,KAAK,GAAG,qCAAqC,KAAK,OAAO,aAAa,cAAc,WAAW,IAAI;AAAA,EAC9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcA,kBAAkB,aAAa,cAAc,QAAQ;AACjD,SAAK,GAAG,8BAA8B,KAAK,OAAO,aAAa,cAAc,MAAM;AAAA,EACvF;AAAA;AAAA;AAAA;AAAA,EAIA,sBAAsB;AAClB,SAAK,GAAG,gCAAgC,KAAK,KAAK;AAAA,EACtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBA,YAAY;AACR,SAAK,GAAG,oBAAoB,KAAK,KAAK;AAAA,EAC1C;AAAA;AAAA;AAAA;AAAA,EAIA,cAAc;AACV,WAAO,KAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,oBAAoB;AAChB,WAAO,KAAK,GAAG,6BAA6B,KAAK,KAAK;AAAA,EAC1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,uBAAuB,QAAQ;AAC3B,WAAO,KAAK,GAAG,mCAAmC,KAAK,OAAO,UAAU,KAAK;AAAA,EACjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,qBAAqB,GAAG;AACpB,WAAO,KAAK,GAAG,iCAAiC,KAAK,OAAO,CAAC;AAAA,EACjE;AAAA;AAAA;AAAA;AAAA,EAIA,wBAAwB;AACpB,WAAO,KAAK,GAAG,kCAAkC,KAAK,KAAK;AAAA,EAC/D;AAAA;AAAA;AAAA;AAAA,EAIA,SAASC,mBAAkB,cAAc,cAAc,GAAG;AACtD,SAAK,GAAG,mBAAmB,KAAK,OAAOA,mBAAkB,cAAc,cAAc,EAAE,SAAS,CAAC;AAAA,EACrG;AAAA;AAAA;AAAA;AAAA,EAIA,cAAc;AACV,WAAO,KAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,oBAAoB,gBAAgB;AAChC,QAAI,mBAAmB;AACnB,uBAAiB,KAAK;AAC1B,SAAK,GAAG,+BAA+B,KAAK,OAAO,cAAc;AAAA,EACrE;AAAA;AAAA;AAAA;AAAA,EAIA,qBAAqB;AACjB,SAAK,GAAG,8BAA8B,KAAK,KAAK;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA,EAIA,sBAAsB;AAClB,SAAK,GAAG,+BAA+B,KAAK,KAAK;AAAA,EACrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB;AACjB,WAAO,KAAK,GAAG,8BAA8B,KAAK,KAAK;AAAA,EAC3D;AACJ;;;ACzNO,IAAMC,gBAAN,MAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMtB,YAAY,OAAO;AACf,SAAK,QAAQ;AAKb,SAAK,OAAO,aAAK,OAAO;AACxB,SAAK,KAAK,EAAE;AACZ,SAAK,QAAQ,KAAK,GAAG,qBAAqB,KAAK,KAAK;AAAA,EACxD;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,GAAG,sBAAsB,KAAK,KAAK;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB,GAAG,QAAQ;AAC5B,SAAK,GAAG,qBAAqB,KAAK,OAAO,EAAE,UAAU,EAAE,YAAY,UAAU,KAAK;AAClF,SAAK,OAAO,KAAK,GAAG,0BAA0B,KAAK,KAAK;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,6BAA6BC,WAAU,YAAY,QAAQ;AACvD,SAAK,GAAG,qBAAqB,KAAK,OAAOA,WAAU,YAAY,UAAU,KAAK;AAC9E,SAAK,OAAO,KAAK,GAAG,0BAA0B,KAAK,KAAK;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA,EAIA,WAAW;AACP,WAAO,KAAK;AAAA,EAChB;AACJ;;;ACvDA,IAAIC,cAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,eAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AAKO,IAAI;AAAA,CACV,SAAUC,aAAY;AAInB,EAAAA,YAAWA,YAAW,QAAQ,IAAI,CAAC,IAAI;AAIvC,EAAAA,YAAWA,YAAW,QAAQ,IAAI,CAAC,IAAI;AAC3C,GAAG,eAAe,aAAa,CAAC,EAAE;AAM3B,SAAS,kBAAkB,iBAAiB;AAC/C,UAAQ,iBAAiB;AAAA,IACrB,KAAK,WAAW;AAAQ,aAAO,EAAE,EAAE,0BAA0B;AAAA,IAC7D,KAAK,WAAW;AAAQ,aAAO,EAAE,EAAE,0BAA0B;AAAA,IAC7D;AAAS,aAAO,EAAE,EAAE,uBAAuB;AAAA,EAC/C;AACJ;AAMO,SAAS,iBAAiB,gBAAgB;AAC7C,UAAQ,gBAAgB;AAAA,IACpB,KAAK,WAAW;AAAQ,aAAO,EAAE,EAAE,yBAAyB;AAAA,IAC5D,KAAK,WAAW;AAAQ,aAAO,EAAE,EAAE,yBAAyB;AAAA,IAC5D;AAAS,aAAO,EAAE,EAAE,sBAAsB;AAAA,EAC9C;AACJ;AASO,SAAS,kBAAkB,gBAAgB;AAC9C,UAAQ,gBAAgB;AAAA,IACpB,KAAK,WAAW;AACZ,QAAE,EAAE,0BAA0B;AAC9B;AAAA,IACJ,KAAK,WAAW;AACZ,QAAE,EAAE,0BAA0B;AAC9B;AAAA,IACJ;AACI,QAAE,EAAE,uBAAuB;AAC3B;AAAA,EACR;AAEA,SAAO,IAAI,QAAQ,CAAC,YAAYD,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAEzE,WAAO,MAAM;AACT,YAAM,WAAW;AACjB,cAAQ,gBAAgB;AAAA,QACpB,KAAK,WAAW;AACZ,cAAI,EAAE,EAAE,0BAA0B,GAAG;AACjC,oBAAQ,IAAI;AACZ;AAAA,UACJ;AACA,cAAI,EAAE,EAAE,yBAAyB,GAAG;AAChC,oBAAQ,KAAK;AACb;AAAA,UACJ;AACA;AAAA,QACJ,KAAK,WAAW;AACZ,cAAI,EAAE,EAAE,0BAA0B,GAAG;AACjC,oBAAQ,IAAI;AACZ;AAAA,UACJ;AACA,cAAI,EAAE,EAAE,yBAAyB,GAAG;AAChC,oBAAQ,KAAK;AACb;AAAA,UACJ;AACA;AAAA,QACJ;AACI,cAAI,EAAE,EAAE,0BAA0B,KAAK,EAAE,EAAE,0BAA0B,GAAG;AACpE,oBAAQ,IAAI;AACZ;AAAA,UACJ;AACA,cAAI,EAAE,EAAE,yBAAyB,KAAK,EAAE,EAAE,yBAAyB,GAAG;AAClE,oBAAQ,KAAK;AACb;AAAA,UACJ;AACA;AAAA,MACR;AAAA,IACJ;AAAA,EACJ,CAAC,CAAC;AACN;AAKO,SAASE,uBAAsB;AAClC,SAAOF,YAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,WAAO,MAAM,EAAE,EAAE,8BAA8B;AAAA,EACnD,CAAC;AACL;AAIO,SAASG,sBAAqB;AACjC,SAAO,EAAE,EAAE,qBAAqB;AACpC;AACA,SAAS,aAAa;AAClB,SAAO,IAAI,QAAQ,aAAW,sBAAsB,MAAM,QAAQ,CAAC,CAAC;AACxE;;;AClHO,SAASC,aAAY,GAAG;AAC3B,IAAE,EAAE,cAAc,CAAC;AACvB;;;ACPO,IAAM,QAAQ;;;ACJrB,IAAI;AAIG,IAAM,gBAAgB,IAAI,MAAM;AAIhC,SAAS,qBAAqB;AACjC,MAAI,CAAC,iBAAiB;AAClB,sBAAkB,IAAWC,UAAS;AACtC,oBAAgB,cAAc,KAAK,MAAM,cAAc,KAAK,CAAC;AAAA,EACjE;AACA,SAAO;AACX;AAKO,IAAMC,gBAAN,cAAkCA,cAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOlD,YAAY,YAAY,UAAU;AAC9B,UAAM,YAAY,mBAAmB,GAAG,UAAU;AAAA,EACtD;AACJ;AAIO,IAAMC,iBAAN,cAAmC,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,EAKpD,YAAY,UAAU;AAClB,UAAM,YAAY,mBAAmB,CAAC;AAAA,EAC1C;AACJ;AAKO,IAAMC,eAAN,cAAiC,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,EAKhD,YAAY,UAAU;AAClB,UAAM,YAAY,mBAAmB,CAAC;AAAA,EAC1C;AACJ;AAKO,IAAMC,uBAAN,cAAyC,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKhE,YAAY,UAAU;AAClB,UAAM,YAAY,mBAAmB,CAAC;AAAA,EAC1C;AACJ;AAKO,IAAMC,gBAAN,cAAkCA,cAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOlD,YAAY,UAAU,UAAU;AAC5B,UAAM,YAAY,mBAAmB,GAAG,QAAQ;AAAA,EACpD;AACJ;AAKO,IAAMC,qBAAN,cAAuCA,mBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM5D,YAAY,SAAS,UAAU;AAC3B,UAAM,YAAY,mBAAmB,GAAG,OAAO;AAAA,EACnD;AACJ;AAQO,SAAS,aAAa,IAAI;AAC7B,qBAAmB,EAAE,aAAa,EAAE;AACxC;AAMO,SAAS,gBAAgB;AAC5B,qBAAmB,EAAE,cAAc;AACvC;;;AChHA,IAAM,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS3B,IAAM,uBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAatB,IAAM,gBAAN,cAA4B,MAAM,QAAQ;AAAA,EAC7C,cAAc;AACV,UAAM;AACN,SAAK,aAAa,iBAAiB;AACnC,SAAK,mBAAmB,IAAI,OAAO;AAEnC,SAAK,aAAa,IAAI,MAAM,QAAQ;AACpC,SAAK,iBAAiB,IAAI,MAAM,QAAQ;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA,EAIA,SAAS;AAAA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMX,mBAAmB,UAAU,UAAU;AACnC,aAAS,oBAAoB;AAC7B,UAAM,UAAU,SAAS,qBAAqB;AAC9C,QAAI,CAAC;AACD;AAGJ,UAAM,aAAa,SAAS,WAAW,IAAI,IAAI;AAE/C,eAAW,iBAAiB;AAE5B,eAAW,cAAc;AAGzB,SAAK,WAAW,UAAU,SAAS,yBAAyB,SAAS,WAAW,OAAO,SAAS,WAAW,QAAQ,KAAK,eAAe,iBAAiB,KAAK,CAAC;AAE9J,SAAK,eAAe,eAAe,KAAK,UAAU;AAElD,SAAK,eAAe,SAAS,CAAC,IAAI,KAAK,WAAW,SAAS,EAAE;AAE7D,SAAK,eAAe,SAAS,CAAC,IAAI,KAAK,WAAW,SAAS,EAAE;AAC7D,SAAK,eAAe,SAAS,CAAC,IAAI;AAClC,SAAK,mBAAmB;AACxB,SAAK,SAAS,KAAK;AACnB,SAAK,iBAAiB,KAAK,EAAE,SAAS,MAAM,SAAS,CAAC;AAAA,EAC1D;AAAA,EACA,UAAU;AACN,UAAM,QAAQ;AAAA,EAClB;AACJ;AAIO,IAAM,gBAAN,MAAoB;AAAA,EACvB,YAAY,eAAe;AAIvB,SAAK,cAAc,IAAI,MAAM,MAAM;AACnC,SAAK,qBAAqB,IAAI,MAAM,kBAAkB,MAAM,IAAI;AAChE,SAAK,eAAe,IAAI,MAAM,mBAAmB,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC;AACnE,SAAK,2BAA2B,IAAI,MAAM,kBAAkB,MAAM,IAAI;AACtE,UAAM,4BAA4B;AAClC,SAAK,iBAAiB,IAAI,MAAM,eAAe;AAAA,MAC3C,UAAU;AAAA,QACN,WAAW,EAAE,OAAO,KAAK;AAAA,MAC7B;AAAA,MACA,cAAc;AAAA,MACd,gBAAgB;AAAA,IACpB,CAAC;AACD,UAAM,cAAc,IAAI,MAAM,cAAc,GAAG,CAAC;AAChD,UAAM,aAAa,IAAI,MAAM,KAAK,aAAa,KAAK,cAAc;AAClE,SAAK,YAAY,IAAI,UAAU;AAC/B,SAAK,mBAAmB,QAAQ,kBAAkB;AAClD,SAAK,mBAAmB,QAAQ,YAAY,MAAM;AAClD,SAAK,mBAAmB,QAAQ,YAAY,MAAM;AAClD,eAAW,SAAS,IAAI;AACxB,SAAK,eAAe,SAAS,UAAU,QAAQ;AAC/C,kBAAc,iBAAiB,KAAK,CAAC,EAAE,SAAS,SAAS,MAAM;AAC3D,WAAK,OAAO,UAAU,OAAO;AAAA,IACjC,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,UAAU;AACV,WAAO,KAAK,mBAAmB;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,UAAU,eAAe;AAE5B,QAAI,kBAAkB;AACtB,QAAI,MAAM,kBAAkB,SAAS,kBAAkB;AACnD,wBAAkB,SAAS,qBAAqB,MAAM;AAAA,IAC1D,WACS,MAAM,gBAAgB,SAAS,gBAAgB;AACpD,wBAAkB,SAAS,mBAAmB,MAAM;AAAA,IACxD;AACA,QAAI,CAAC;AACD;AAEJ,UAAM,uBAAuB,SAAS,gBAAgB;AAEtD,SAAK,eAAe,SAAS,UAAU,QAAQ;AAE/C,aAAS,gBAAgB,KAAK,wBAAwB;AACtD,aAAS,OAAO,KAAK,aAAa,KAAK,YAAY;AAEnD,SAAK,mBAAmB,UAAU,KAAK,yBAAyB;AAEhE,aAAS,gBAAgB,oBAAoB;AAE7C,SAAK,QAAQ,mBAAmB;AAChC,SAAK,QAAQ,SAAS,cAAc;AAEpC,UAAM,aAAa,SAAS,WAAW,IAAI,aAAa;AACxD,UAAM,yBAAyB,SAAS,WAAW,IAAI,KAAK,OAAO;AAEnE,eAAW,iBAAiB,uBAAuB;AACnD,eAAW,cAAc;AAAA,EAC7B;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU;AACN,SAAK,mBAAmB,QAAQ;AAAA,EACpC;AACJ;;;ACpJO,IAAI;AAAA,CACV,SAAUC,iBAAgB;AAKvB,EAAAA,gBAAeA,gBAAe,SAAS,IAAI,CAAC,IAAI;AAQhD,EAAAA,gBAAeA,gBAAe,UAAU,IAAI,CAAC,IAAI;AAIjD,EAAAA,gBAAeA,gBAAe,cAAc,IAAI,CAAC,IAAI;AACzD,GAAG,mBAAmB,iBAAiB,CAAC,EAAE;AAInC,IAAI;AAAA,CACV,SAAUC,mBAAkB;AAIzB,EAAAA,kBAAiBA,kBAAiB,MAAM,IAAI,CAAC,IAAI;AAMjD,EAAAA,kBAAiBA,kBAAiB,OAAO,IAAI,CAAC,IAAI;AAKlD,EAAAA,kBAAiBA,kBAAiB,KAAK,IAAI,CAAC,IAAI;AACpD,GAAG,qBAAqB,mBAAmB,CAAC,EAAE;AAI9C,IAAI;AAAA,CACH,SAAUC,kBAAiB;AAIxB,EAAAA,iBAAgBA,iBAAgB,MAAM,IAAI,CAAC,IAAI;AAE/C,EAAAA,iBAAgBA,iBAAgB,MAAM,IAAI,CAAC,IAAI;AAE/C,EAAAA,iBAAgBA,iBAAgB,MAAM,IAAI,CAAC,IAAI;AACnD,GAAG,oBAAoB,kBAAkB,CAAC,EAAE;AAUrC,IAAM,SAAN,cAAqB,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUrC,YAAY,MAAM;AACd,UAAM;AAIN,SAAK,WAAW,eAAe;AAI/B,SAAK,uBAAuB,iBAAiB;AAI7C,SAAK,uBAAuB,iBAAiB;AAC7C,SAAK,qBAAqB,iBAAiB;AAK3C,SAAK,sBAAsB;AAC3B,SAAK,kBAAkB,gBAAgB;AACvC,SAAK,kBAAkB;AACvB,SAAK,cAAc;AACnB,SAAK,eAAe;AACpB,SAAK,WAAW,gBAAuBC,YAAW,QAAQ,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK,aAAa,mBAAmB;AAC3I,SAAK,UAAU,KAAK,SAAS,kBAAkB;AAE/C,QAAI,QAAQ,EAAE,gBAAuBA,YAAW;AAC5C,WAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ;AACvC,WAAK,OAAO,KAAK,OAAO,KAAK,OAAO;AACpC,WAAK,mBAAmB,KAAK,qBAAqB,KAAK,gBAAgB;AACvE,WAAK,mBAAmB,KAAK,qBAAqB,KAAK,kBAAkB,IAAI;AAC7E,WAAK,oBAAoB,KAAK,oBAAoB,KAAK,oBAAoB,IAAI,cAAc;AAAA,IACjG,OACK;AACD,WAAK,mBAAmB,IAAIC,cAAoB,sBAAsB,GAAG,KAAK,QAAQ;AACtF,WAAK,mBAAmB,IAAIA,cAAoB,sBAAsB,IAAI,GAAG,KAAK,QAAQ;AAC1F,WAAK,oBAAoB,IAAI,cAAc;AAAA,IAC/C;AACA,SAAK,mBAAmB;AACxB,aAAS,iBAAiB,oBAAoB,MAAM;AAChD,eAAS,oBAAoB,YAAY,KAAK,OAAO,IAAI,KAAK,MAAM;AAAA,IACxE,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,IAAI,OAAO;AACX,SAAK,OAAO;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,MAAM;AACN,QAAI;AACJ,YAAQ,KAAK,KAAK,UAAU,QAAQ,OAAO,SAAS,KAAK;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,KAAK,OAAO;AACZ,SAAK,QAAQ;AAAA,EACjB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,OAAO;AACP,QAAI;AACJ,YAAQ,KAAK,KAAK,WAAW,QAAQ,OAAO,SAAS,KAAK;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB,cAAc,cAAc,OAAO;AACpD,WAAO,wBAAwB,UACzB,IAAWC,mBAAkB,KAAK,UAAU,YAAY,IACxD,IAAID,cAAa,gBAAuB,sBAAsB,WAAW,GAAG,KAAK,QAAQ;AAAA,EACnG;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AACJ,SAAK,iBAAiB,MAAM;AAC5B,SAAK,iBAAiB,MAAM;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,SAAS;AACL,YAAQ,KAAK,iBAAiB;AAAA,MAC1B,KAAK,gBAAgB;AACjB,aAAK,iBAAiB,MAAM;AAC5B;AAAA,MACJ,KAAK,gBAAgB;AACjB,aAAK,iBAAiB,MAAM;AAC5B;AAAA,MACJ;AAEI;AAAA,IACR;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,YAAY;AACd,SAAK,kBAAkB,aAAa,gBAAgB,OAAO,gBAAgB;AAC3E,SAAK,OAAO;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO;AACH,SAAK,kBAAkB,gBAAgB;AACvC,SAAK,MAAM;AAAA,EACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,wBAAwB,QAAQ;AAC5B,SAAK,mBAAmB;AACxB,SAAK,WAAW,eAAe;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,oBAAoB;AAEpB,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,iBAAiB,UAAU;AAEvB,UAAM,cAAc;AACpB,UAAM,WAAW;AAEjB,QAAI,kBAAkB;AACtB,SAAK,gBAAgB,QAAQ,gBAAgB,SAAS,SAAS,YAAY,sBAAsB,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,iBAAiB;AAC3K,yBAAmB,gBAAgB,QAAQ,gBAAgB,SAAS,SAAS,YAAY,uBAAuB,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAAA,IACjL,YACU,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,kBAAkB,gBAAgB,QAAQ,gBAAgB,SAAS,SAAS,YAAY,iBAAiB;AAC5K,yBAAmB,gBAAgB,QAAQ,gBAAgB,SAAS,SAAS,YAAY,qBAAqB,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAAA,IAC/K;AACA,QAAI,CAAC,iBAAiB;AAElB,UAAI,SAAS,MAAM,UAAU,EAAE,KAAK,KAAK;AACrC,aAAK,kBAAkB,WAAW,YAAY;AAAA,MAClD,OACK;AAED,aAAK,kBAAkB,aAAa,YAAY;AAAA,MACpD;AAAA,IACJ,WACS,CAAC,KAAK,eAAe;AAE1B,WAAK,gBAAgB,IAAI,cAAc,KAAK,iBAAiB;AAAA,IACjE;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAY,UAAU;AAClB,SAAK,SAAS,UAAU;AAExB,SAAK,SAAS,YAAY;AAE1B,SAAK,qBAAqB,KAAK,SAAS,sBAAsB,IAAI,KAAK,uBAAuB,KAAK;AACnG,UAAM,EAAE,WAAW,IAAI;AACvB,QAAI,KAAK,sBAAsB,iBAAiB,OAAO,KAAK,iBAAiB;AACzE,iBAAW,MAAM,YAAY;AAC7B,WAAK,kBAAkB;AAAA,IAC3B,WACS,KAAK,sBAAsB,iBAAiB,OAAO,CAAC,KAAK,iBAAiB;AAC/E,iBAAW,MAAM,YAAY;AAC7B,WAAK,kBAAkB;AAAA,IAC3B;AACA,SAAK,cAAc,SAAS,WAAW;AACvC,SAAK,eAAe,SAAS,WAAW;AAExC,SAAK,wBAAwB;AAE7B,YAAQ,KAAK,UAAU;AAAA,MACnB,KAAK,eAAe;AAChB,aAAK,UAAU,KAAK,SAAS,kBAAkB;AAC/C;AAAA,MACJ,KAAK,eAAe;AAChB,aAAK,UAAU,KAAK,SAAS,uBAAuB,KAAK,sBAAsB,iBAAiB,KAAK;AACrG;AAAA,MACJ,KAAK,eAAe;AAChB,aAAK,UAAU,KAAK,mBAAmB,KAAK,cAAc,IAAI,KAAK,SAAS,kBAAkB;AAC9F;AAAA,MACJ;AACI,aAAK,UAAU,KAAK,SAAS,kBAAkB;AAC/C;AAAA,IACR;AACA,SAAK,yBAAyB;AAC9B,SAAK,kBAAkB,aAAa,KAAK;AACzC,SAAK,kBAAkB,mBAAmB,UAAU,KAAK,QAAQ;AACjE,SAAK,iBAAiB,QAAQ;AAAA,EAClC;AAAA;AAAA,EAEA,0BAA0B;AAEtB,UAAM,QAAQ,KAAK,SAAS,YAAY;AACxC,UAAM,aAAoB,gCAAgC,OAAO,KAAK,aAAa,KAAK,cAAc,KAAK,OAAO,KAAK,IAAI;AAC3H,SAAK,iBAAiB,UAAU,UAAU;AAC1C,QAAI,OAAO,KAAK,wBAAwB,WAAW,YAAY;AAC3D,WAAK,wBAAwB,KAAK,KAAK,gBAAgB,EAAE,OAAO;AAAA,IACpE,OACK;AACD,WAAK,wBAAwB,WAAW,KAAK,gBAAgB;AAAA,IACjE;AAAA,EACJ;AAAA,EACA,kBAAkB,OAAO;AACrB,SAAK,OAAO,UAAU,KAAK,OAAO;AAClC,SAAK,OAAO,UAAU,KAAK,UAAU,KAAK,YAAY,KAAK,KAAK;AAChE,UAAM,kBAAkB,KAAK;AAAA,EACjC;AAAA,EACA,gBAAgB;AACZ,QAAI,CAAC,KAAK;AACN,aAAO,KAAK,SAAS,kBAAkB;AAC3C,WAAO,KAAK,SAAS,qBAAqB,KAAK,iBAAiB,mBAAmB,KAAK,sBAAsB,iBAAiB,KAAK,CAAC;AAAA,EACzI;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,iBAAiB,QAAQ;AAC9B,SAAK,iBAAiB,QAAQ;AAAA,EAClC;AACJ;;;AC1TO,IAAM,mBAAN,cAA+B,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO9C,YAAY,QAAQ,cAAc,UAAU;AACxC,UAAM;AACN,SAAK,SAAS;AACd,SAAK,eAAe;AACpB,SAAK,WAAW;AAIhB,SAAK,UAAU;AAEf,SAAK,mBAAmB;AAAA,EAC5B;AAAA,EACA,kBAAkB,OAAO;AACrB,QAAI,CAAC,KAAK,iBAAiB,CAAC,KAAK,aAAa,QAAQ,IAAI,KAAK,aAAa,GAAG;AAE3E,UAAI,KAAK,UAAU;AACf,aAAK,gBAAgB,KAAK,aAAa,QAAQ,IAAI,KAAK,QAAQ;AAAA,MACpE,OACK;AACD,aAAK,gBAAgB,KAAK,aAAa,QAAQ,OAAO,EAAE,KAAK,EAAE;AAAA,MACnE;AAAA,IACJ;AACA,QAAI,KAAK,eAAe;AACpB,WAAK,OAAO,UAAU,KAAK,cAAc,KAAK,KAAK,OAAO,SAAS,KAAK,OAAO,sBAAsB,iBAAiB,KAAK,CAAC;AAC5H,WAAK,OAAO,UAAU,KAAK,UAAU,KAAK,YAAY,KAAK,KAAK;AAAA,IACpE;AACA,UAAM,kBAAkB,KAAK;AAAA,EACjC;AACJ;;;AClCO,IAAM,qBAAN,cAAiC,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASjD,KAAK,KAAK,QAAQ,YAAY,SAAS;AACnC,UAAM,MAAM,IAAIE,cAAa;AAC7B,QACK,WAAW,GAAG,EACd,KAAK,MAAM;AACZ,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,GAAG;AAC1D,WAAK,QAAQ,QAAQ,GAAG;AAAA,IAC5B,CAAC,EACI,MAAM,CAAC,MAAM;AACd,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,CAAC;AAC3D,WAAK,QAAQ,UAAU,GAAG;AAC1B,WAAK,QAAQ,QAAQ,GAAG;AAAA,IAC5B,CAAC;AACD,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AAAA,EAAE;AACd;;;AC7BO,IAAM,0BAAN,cAAsC,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMrD,YAAY,QAAQ,gBAAgB;AAChC,UAAM;AACN,SAAK,SAAS;AACd,SAAK,iBAAiB;AAEtB,SAAK,mBAAmB;AAAA,EAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,8BAA8B,GAAG,GAAGC,IAAG,aAAa;AAChD,SAAK,eAAe,8BAA8B,GAAG,GAAGA,IAAG,WAAW;AAAA,EAC1E;AAAA,EACA,kBAAkB,OAAO;AACrB,SAAK,OAAO,UAAU,KAAK,eAAe,OAAO,KAAK,KAAK,OAAO,SAAS,KAAK,OAAO,sBAAsB,iBAAiB,KAAK,CAAC;AACpI,SAAK,OAAO,UAAU,KAAK,UAAU,KAAK,YAAY,KAAK,KAAK;AAChE,UAAM,kBAAkB,KAAK;AAAA,EACjC;AACJ;;;AC9BO,IAAM,kBAAN,cAA8B,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO7C,YAAY,QAAQ,aAAa,UAAU;AACvC,UAAM;AACN,SAAK,SAAS;AACd,SAAK,cAAc;AACnB,SAAK,WAAW;AAIhB,SAAK,UAAU;AAEf,SAAK,mBAAmB;AAAA,EAC5B;AAAA,EACA,kBAAkB,OAAO;AACrB,QAAI,CAAC,KAAK,iBAAiB,CAAC,KAAK,YAAY,QAAQ,IAAI,KAAK,aAAa,GAAG;AAE1E,UAAI,KAAK,UAAU;AACf,aAAK,gBAAgB,KAAK,YAAY,QAAQ,IAAI,KAAK,QAAQ;AAAA,MACnE,OACK;AACD,aAAK,gBAAgB,KAAK,YAAY,QAAQ,OAAO,EAAE,KAAK,EAAE;AAAA,MAClE;AAAA,IACJ;AACA,QAAI,KAAK,eAAe;AACpB,WAAK,OAAO,UAAU,KAAK,cAAc,KAAK,KAAK,OAAO,SAAS,KAAK,OAAO,sBAAsB,iBAAiB,KAAK,CAAC;AAC5H,WAAK,OAAO,UAAU,KAAK,UAAU,KAAK,YAAY,KAAK,KAAK;AAAA,IACpE;AACA,UAAM,kBAAkB,KAAK;AAAA,EACjC;AACJ;;;AChCO,IAAM,oBAAN,cAAgC,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO/C,YAAY,QAAQ,aAAa,UAAU;AACvC,UAAM;AACN,SAAK,SAAS;AACd,SAAK,cAAc;AACnB,SAAK,OAAO,aAAK,OAAO;AACxB,SAAK,WAAW,IAAIC,cAAa,QAAQ;AAEzC,SAAK,mBAAmB;AAAA,EAC5B;AAAA,EACA,kBAAkB,OAAO;AACrB,QAAI,CAAC,KAAK,iBAAiB,CAAC,KAAK,YAAY,QAAQ,IAAI,KAAK,aAAa,GAAG;AAE1E,WAAK,gBAAgB,KAAK,YAAY,QAAQ,OAAO,EAAE,KAAK,EAAE;AAAA,IAClE;AACA,QAAI,KAAK,eAAe;AACpB,WAAK,SAAS,qBAAqB,KAAK,eAAe,KAAK,OAAO,sBAAsB,iBAAiB,KAAK;AAC/G,mBAAK,SAAS,KAAK,MAAM,KAAK,cAAc,KAAK,KAAK,OAAO,SAAS,KAAK,OAAO,sBAAsB,iBAAiB,KAAK,GAAG,KAAK,SAAS,IAAI;AACnJ,WAAK,OAAO,UAAU,KAAK,IAAI;AAC/B,WAAK,OAAO,UAAU,KAAK,UAAU,KAAK,YAAY,KAAK,KAAK;AAAA,IACpE;AACA,UAAM,kBAAkB,KAAK;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,SAAS,QAAQ;AAAA,EAC1B;AACJ;;;ACrCO,IAAM,oBAAN,cAAgC,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAShD,KAAK,aAAa,QAAQ,YAAY,SAAS;AAC3C,UAAM,MAAM,IAAIC,aAAY;AAC5B,UAAM,IAAI,cAAc,IAAI,UAAU,WAAW,IAAI,IAAI,iBAAiB;AAC1E,UAAMC,gBAAe,OAAO,gBAAgB,WAAW,cAAc;AACrE,MAAE,KAAK,MAAM;AACT,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,GAAG;AAC1D,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC,EAAE,MAAM,CAAC,MAAM;AACZ,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,CAAC;AAC3D,WAAK,QAAQ,UAAUA,aAAY;AACnC,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC;AACD,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AAAA,EAAE;AACd;;;AC3BO,IAAM,iBAAN,cAA6B,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ7C,KAAK,SAAS,QAAQ,YAAY,SAAS;AACvC,UAAM,MAAM,IAAIC,UAAS;AACzB,QAAI;AACJ,UAAMC,gBAAe,8BAA8B,KAAK,UAAU,WAAW,SAAS,CAAC;AACvF,SAAK,QAAQ,UAAUA,aAAY;AACnC,QAAI,SAAS;AACT,UAAI,OAAO,YAAY;AACnB,YAAI,IAAI,KAAK,OAAO;AAAA,eACf,QAAQ;AACb,YAAI,IAAI,KAAK,QAAQ,aAAa,QAAQ,WAAW,QAAQ,aAAa,QAAQ,cAAc,QAAQ,QAAQ;AAAA;AAEhH,YAAI,IAAI,gBAAgB,QAAQ,WAAW,QAAQ,aAAa,QAAQ,YAAY;AAAA,IAC5F,OACK;AACD,UAAI,IAAI,gBAAgB;AAAA,IAC5B;AACA,MAAE,KAAK,MAAM;AACT,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,GAAG;AAC1D,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC,EAAE,MAAM,CAAC,MAAM;AACZ,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,CAAC;AAC3D,WAAK,QAAQ,UAAUA,aAAY;AACnC,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC;AACD,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,SAAS,SAAS,QAAQ,YAAY,SAAS;AAC3C,UAAM,MAAM,IAAID,UAAS;AACzB,QAAI;AACJ,UAAMC,gBAAe,mCAAmC,KAAK,UAAU,WAAW,SAAS,CAAC;AAC5F,QAAI,SAAS;AACT,UAAI,QAAQ;AACR,YAAI,IAAI,KAAK,QAAQ,aAAa,QAAQ,WAAW,QAAQ,aAAa,QAAQ,cAAc,QAAQ,QAAQ;AAAA;AAEhH,YAAI,IAAI,gBAAgB,QAAQ,WAAW,QAAQ,aAAa,QAAQ,YAAY;AAAA,IAC5F,OACK;AACD,UAAI,IAAI,gBAAgB;AAAA,IAC5B;AACA,MAAE,KAAK,MAAM;AACT,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,GAAG;AAC1D,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC,EAAE,MAAM,CAAC,MAAM;AACZ,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,CAAC;AAC3D,WAAK,QAAQ,UAAUA,aAAY;AACnC,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC;AACD,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,uBAAuB,SAAS,QAAQ,YAAY,SAAS;AACzD,UAAM,MAAM,IAAID,UAAS;AACzB,QAAI;AACJ,UAAMC,gBAAe,wCAAwC,KAAK,UAAU,WAAW,SAAS,CAAC;AACjG,QAAI,SAAS;AACT,UAAI,QAAQ;AACR,YAAI,IAAI,KAAK,QAAQ,aAAa,QAAQ,WAAW,QAAQ,aAAa,QAAQ,cAAc,QAAQ,QAAQ;AAAA;AAEhH,YAAI,IAAI,8BAA8B,QAAQ,WAAW,QAAQ,aAAa,QAAQ,cAAc,QAAQ,QAAQ;AAAA,IAC5H,OACK;AACD,UAAI,IAAI,8BAA8B;AAAA,IAC1C;AACA,MAAE,KAAK,MAAM;AACT,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,GAAG;AAC1D,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC,EAAE,MAAM,CAAC,MAAM;AACZ,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,CAAC;AAC3D,WAAK,QAAQ,UAAUA,aAAY;AACnC,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC;AACD,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AAAA,EAAE;AACd;;;ACxGA,IAAI;AAKG,IAAM,qBAAN,cAAiC,MAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,EAKzD,YAAY,UAAU;AAClB,UAAM;AACN,SAAK,gBAAgB;AACrB,SAAK,YAAY;AACjB,SAAK,qBAAqB;AAC1B,SAAK,SAAS,CAAC,CAAC;AAChB,SAAK,aAAa,YAAY,IAAI,MAAM,uBAAuB,CAAC,GAAG,CAAC,CAAC;AACrE,SAAK,aAAa,UAAU,IAAI,MAAM,uBAAuB,CAAC,GAAG,CAAC,CAAC;AACnE,SAAK,aAAa,MAAM,IAAI,MAAM,uBAAuB,CAAC,GAAG,CAAC,CAAC;AAC/D,QAAI,CAAC,UAAU;AACX,UAAI,CAAC,mBAAmB;AACpB,4BAAoB,IAAI,eAAe,EAAE,KAAK;AAAA,MAClD;AAEA,iBAAW;AAAA,IACf;AACA,SAAK,YAAY;AAAA,EACrB;AAAA,EACA,iBAAiB;AACb,QAAI,KAAK;AACL;AACJ,QAAI,KAAK,UAAU,QAAQ,WAAW;AAClC;AACJ,SAAK,SAAS,IAAI,MAAM,sBAAsB,KAAK,UAAU,SAAS,CAAC,CAAC;AACxE,SAAK,gBAAgB;AAAA,EACzB;AAAA,EACA,aAAa;AACT,QAAI,KAAK;AACL;AACJ,QAAI,KAAK,UAAU,IAAI,WAAW;AAC9B;AACJ,SAAK,aAAa,MAAM,IAAI,MAAM,gBAAgB,KAAK,UAAU,KAAK,CAAC,CAAC;AACxE,SAAK,YAAY;AAAA,EACrB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,mBAAmB;AACnB,WAAO,KAAK;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,iBAAiB,GAAG;AACpB,SAAK,qBAAqB;AAC1B,QAAI,CAAC,KAAK,oBAAoB;AAC1B,UAAI,OAAO,KAAK,oBAAoB,YAAY;AAC5C,aAAK,gBAAgB,QAAQ;AAAA,MACjC;AACA,aAAO,KAAK;AAAA,IAChB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,0BAA0B,GAAG;AACzB,QAAI,KAAK,UAAU,SAAS,WAAW;AACnC;AACJ,QAAI,CAAC,EAAE;AACH;AACJ,SAAK,qBAAqB,EAAE,aAAa;AAAA,EAC7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,qBAAqB,GAAG;AACpB,SAAK,6BAA6B,EAAE,UAAU,EAAE,UAAU;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,6BAA6BC,WAAU,YAAY;AAC/C,QAAI,KAAK,UAAU,SAAS,WAAW;AACnC;AACJ,SAAK,eAAe;AACpB,SAAK,WAAW;AAChB,SAAK,UAAU,6BAA6BA,WAAU,UAAU;AAChE,QAAI,CAAC,KAAK,UAAU;AAChB,WAAK,WAAW,IAAI,aAAa,KAAK,UAAU,SAAS,MAAM;AAC/D,WAAK,oBAAoB,IAAI,MAAM,gBAAgB,KAAK,UAAU,CAAC;AACnE,WAAK,aAAa,YAAY,KAAK,iBAAiB;AAAA,IACxD;AACA,SAAK,SAAS,IAAI,KAAK,UAAU,QAAQ;AACzC,QAAI,KAAK;AACL,WAAK,kBAAkB,cAAc;AACzC,SAAK,sBAAsB;AAC3B,QAAI,CAAC,KAAK;AACN;AACJ,QAAI,CAAC,KAAK,SAAS;AACf,WAAK,UAAU,IAAI,aAAa,KAAK,UAAU,QAAQ,MAAM;AAC7D,WAAK,mBAAmB,IAAI,MAAM,gBAAgB,KAAK,SAAS,CAAC;AACjE,WAAK,aAAa,UAAU,KAAK,gBAAgB;AAAA,IACrD;AACA,SAAK,QAAQ,IAAI,KAAK,UAAU,OAAO;AACvC,QAAI,KAAK;AACL,WAAK,iBAAiB,cAAc;AAAA,EAC5C;AACJ;;;ACrGO,IAAM,eAAN,cAA2B,MAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMzC,YAAY,QAAQ,SAAS;AACzB,UAAM;AACN,SAAK,SAAS;AACd,SAAK,UAAU;AACf,SAAK,WAAW,IAAWC,UAAS;AACpC,SAAK,qBAAqB,IAAI,mBAAmB,KAAK,QAAQ;AAC9D,SAAK,WAAW,KAAK;AACrB,SAAK,WAAW,IAAI,MAAM,kBAAkB;AAAA,MACxC,YAAY;AAAA,IAChB,CAAC;AACD,SAAK,SACA,8BAA8B,MAAM,MAAM,MAAM,IAAI,EACpD,KAAK,MAAM;AAAE,UAAI;AAAI,cAAQ,KAAK,KAAK,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI;AAAA,IAAG,CAAC,EACpG,MAAM,MAAM;AAAE,UAAI;AAAI,cAAQ,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI;AAAA,IAAG,CAAC;AAC3G,SAAK,cAAc,OAAO;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,0BAA0B,GAAG;AACzB,SAAK,mBAAmB,0BAA0B,CAAC;AAAA,EACvD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,qBAAqB,GAAG;AACpB,SAAK,mBAAmB,qBAAqB,CAAC;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,6BAA6BC,WAAU,YAAY;AAC/C,SAAK,mBAAmB,6BAA6BA,WAAU,UAAU;AAAA,EAC7E;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,SAAS,QAAQ;AACtB,SAAK,mBAAmB,QAAQ;AAAA,EACpC;AACJ;;;AC5DA,IAAM,eAAe;AAKd,IAAM,qBAAN,cAAiC,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOjD,KAAK,QAAQ,YAAY,SAAS;AAC9B,SAAK,QAAQ,UAAU,YAAY;AACnC,WAAO,IAAI,aAAa,MAAM;AAC1B,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO;AACvD,WAAK,QAAQ,QAAQ,YAAY;AAAA,IACrC,GAAG,MAAM;AACL,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAC1D,WAAK,QAAQ,UAAU,YAAY;AACnC,WAAK,QAAQ,QAAQ,YAAY;AAAA,IACrC,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AAAA,EAAE;AACd;;;AC3BA,IAAMC,gBAAe;AAMd,IAAM,gBAAN,cAA4B,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM5C,KAAK,QAAQ,YAAY,SAAS;AAC9B,SAAK,QAAQ,UAAUA,aAAY;AACnC,kBAAc,EACT,KAAK,MAAM;AACZ,iBAAW,QAAQ,WAAW,SAAS,SAAS,OAAO;AACvD,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC,EACI,MAAM,CAAC,QAAQ;AAChB,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAC1D,WAAK,QAAQ,UAAUA,aAAY;AACnC,WAAK,QAAQ,QAAQA,aAAY;AAAA,IACrC,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ;AAAA,EAAE;AACd;;;AC7BA,IAAM,KAAN,MAAS;AAAA,EACL,YAAY,OAAO;AACf,SAAK,qBAAqB;AAC1B,SAAK,OAAO;AAAA,MACR,OAAO,SAAS,cAAc,KAAK;AAAA,MACnC,OAAO,SAAS,cAAc,KAAK;AAAA,MACnC,UAAU,SAAS,cAAc,KAAK;AAAA,MACtC,eAAe,SAAS,cAAc,KAAK;AAAA,IAC/C;AACA,SAAK,MAAM;AAAA,MACP,WAAW;AAAA,QACP,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,KAAK;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,iBAAiB;AAAA,QACjB,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,eAAe;AAAA,QACf,YAAY;AAAA,QACZ,gBAAgB;AAAA,QAChB,YAAY;AAAA,MAChB;AAAA,MACA,OAAO;AAAA,QACH,UAAU;AAAA,QACV,WAAW;AAAA,MACf;AAAA,MACA,OAAO;AAAA,QACH,UAAU;AAAA,MACd;AAAA,MACA,UAAU;AAAA,QACN,YAAY;AAAA,QACZ,gBAAgB;AAAA,QAChB,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,QAAQ;AAAA,MACZ;AAAA,MACA,eAAe;AAAA,QACX,WAAW;AAAA,QACX,qBAAqB;AAAA,QACrB,wBAAwB;AAAA,QACxB,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,YAAY;AAAA,MAChB;AAAA,IACJ;AAEA,SAAK,eAAe,CAAC,mBAAmB;AACpC,UAAI,iBAAiB,KAAK;AACtB;AACJ,WAAK,qBAAqB;AAC1B,YAAM,OAAO,SAAS,eAAe,6BAA6B;AAClE,WAAK,MAAM,QAAQ,GAAG,cAAc;AACpC,WAAK,MAAM,uBAAuB,GAAG,cAAc;AACnD,WAAK,MAAM,0BAA0B,GAAG,cAAc;AACtD,WAAK,iBAAiB,iBAAiB,MAAM;AACzC,YAAI,mBAAmB,KAAK;AACxB,eAAK,aAAa,MAAM,UAAU;AAClC,eAAK,aAAa,iBAAiB,iBAAiB,CAAC,OAAO;AACxD,gBAAI,GAAG,iBAAiB,WAAW;AAC/B,mBAAK,QAAQ;AAAA,YACjB;AAAA,UACJ,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AAAA,IACL;AACA,SAAK,UAAU,MAAM;AACjB,WAAK,aAAa,OAAO;AAAA,IAC7B;AACA,SAAK,cAAc;AACnB,SAAK,eAAe,SAAS,cAAc,KAAK;AAAA,EACpD;AAAA,EACA,aAAa;AAET,eAAW,OAAO,KAAK,MAAM;AAEzB,WAAK,KAAK,GAAG,EAAE,KAAK,iBAAiB,GAAG;AAAA,IAC5C;AACA,SAAK,aAAa;AAClB,SAAK,KAAK,MAAM,YAAY,KAAK,KAAK,KAAK;AAC3C,SAAK,KAAK,MAAM,YAAY,KAAK,KAAK,QAAQ;AAC9C,SAAK,KAAK,SAAS,YAAY,KAAK,KAAK,aAAa;AACtD,SAAK,aAAa,YAAY,KAAK,KAAK,KAAK;AAC7C,SAAK,KAAK,MAAM,YAAY;AAC5B,aAAS,KAAK,OAAO,KAAK,YAAY;AAAA,EAC1C;AAAA,EACA,eAAe;AACX,QAAI,IAAI,IAAI,IAAI,IAAI;AACpB,WAAO,OAAO,KAAK,IAAI,YAAY,KAAK,KAAK,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS;AAC3G,WAAO,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK;AACnG,WAAO,OAAO,KAAK,IAAI,QAAQ,KAAK,KAAK,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK;AACnG,WAAO,OAAO,KAAK,IAAI,WAAW,KAAK,KAAK,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AACzG,WAAO,OAAO,KAAK,IAAI,gBAAgB,KAAK,KAAK,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,aAAa;AACnH,WAAO,OAAO,KAAK,aAAa,OAAO,KAAK,IAAI,SAAS;AACzD,WAAO,OAAO,KAAK,KAAK,MAAM,OAAO,KAAK,IAAI,KAAK;AACnD,WAAO,OAAO,KAAK,KAAK,MAAM,OAAO,KAAK,IAAI,KAAK;AACnD,WAAO,OAAO,KAAK,KAAK,SAAS,OAAO,KAAK,IAAI,QAAQ;AACzD,WAAO,OAAO,KAAK,KAAK,cAAc,OAAO,KAAK,IAAI,aAAa;AAAA,EACvE;AACJ;AAKO,IAAM,kBAAN,cAA8B,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMpC,YAAY,SAAS;AACjB,UAAM,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,KAAK;AACrE,UAAM,sBAAsB,UAAU,MAAM;AACxC,WAAK,WAAW;AAAA,IACpB;AACA,UAAM,sBAAsB,SAAS,MAAM;AACvC,UAAI;AACJ,OAAC,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,OAAO;AAAA,IAChI;AACA,UAAM,sBAAsB,aAAa,CAAC,MAAM,aAAa,eAAe;AACxE,WAAK,aAAc,cAAc,aAAc,GAAG;AAAA,IACtD;AAAA,EACJ;AACJ;AAKO,IAAM,iBAAN,cAA6B,MAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,EAKrD,YAAY,SAAS;AACjB,UAAM,MAAM;AAAE,UAAI;AAAI,cAAQ,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,OAAO;AAAA,IAAG,GAAG,CAAC,KAAKC,SAAQ,UAAU;AACnL,UAAI;AACJ,WAAK,GAAG,cAAc,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAChF,WAAK,GAAG,aAAa;AACrB,OAAC,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,gBAAgB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,SAAS,KAAKA,SAAQ,KAAK;AACpJ,WAAK,GAAG,aAAcA,UAAS,QAAS,GAAG;AAAA,IAC/C,GAAG,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,OAAO;AACpE,SAAK,KAAK,IAAI,GAAG;AACjB,SAAK,kBAAkB;AAIvB,SAAK,UAAU,MAAM;AACjB,WAAK,GAAG,WAAW;AACnB,UAAI,KAAK;AACL,aAAK,gBAAgB;AAAA,IAC7B;AAKA,SAAK,WAAW,CAAC,aAAa;AAC1B,WAAK,kBAAkB;AAAA,IAC3B;AAIA,SAAK,UAAU,MAAM;AACjB,WAAK,GAAG,QAAQ;AAAA,IACpB;AACA,QAAI,cAAc,IAAI,EAAE,KAAK;AAAA,EACjC;AACJ;;;ACjLO,IAAM,uBAAN,MAA2B;AAAA;AAAA;AAAA;AAAA,EAI9B,cAAc;AACV,SAAK,eAAe,IAAI,MAAM,MAAM;AACpC,SAAK,eAAe,IAAI,MAAM,sBAAsB,KAAK;AAAA,MACrD,QAAQ,MAAM;AAAA,MACd,iBAAiB;AAAA,MACjB,WAAW,MAAM;AAAA,IACrB,CAAC;AACD,SAAK,aAAa,IAAI,MAAM,WAAW,KAAK,KAAM,KAAK,YAAY;AACnE,SAAK,iBAAiB,IAAI,MAAM,kBAAkB,EAAE,MAAM,MAAM,WAAW,CAAC;AAC5E,SAAK,cAAc,IAAI,MAAM,MAAM;AAInC,SAAK,iBAAiB,KAAK,aAAa;AACxC,SAAK,aAAa,IAAI,KAAK,UAAU;AACrC,UAAM,SAAS,IAAI,MAAM,KAAK,IAAI,MAAM,eAAe,IAAI,IAAI,EAAE,GAAG,KAAK,cAAc;AACvF,WAAO,SAAS,IAAI,GAAG,OAAO,KAAK,IAAI,CAAC;AACxC,SAAK,YAAY,IAAI,MAAM;AAC3B,SAAK,aAAa,IAAI,KAAK,WAAW;AAAA,EAC1C;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACN,SAAK,aAAa,QAAQ;AAC1B,SAAK,eAAe,QAAQ;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,UAAU,cAAc;AAC3B,QAAI,SAAS,MAAM,UAAU,EAAE,IAAI;AAC/B,WAAK,eAAe,WAAW,SAAS;AAAA;AAExC,WAAK,eAAe,aAAa,SAAS;AAC9C,SAAK,eAAe,MAAM,aAAa;AACvC,SAAK,YAAY,WAAW,KAAK,aAAa,UAAU;AACxD,SAAK,WAAW,OAAO,UAAU,KAAK,YAAY;AAAA,EACtD;AACJ;;;AC3CO,IAAM,mCAAN,cAA+C,MAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,EAKvE,YAAY,aAAa;AACrB,UAAM;AACN,SAAK,cAAc;AACnB,SAAK,gBAAgB;AACrB,SAAK,YAAY;AACjB,SAAK,qBAAqB;AAC1B,QAAI,KAAK,YAAY,QAAQ,SAAS,WAAW,GAAG;AAChD,YAAM,IAAI,MAAM,wCAAwC;AAAA,IAC5D;AACA,UAAM,cAAc,KAAK,YAAY,QAAQ,SAAS,SAAS;AAC/D,SAAK,WAAW,IAAI,aAAa,cAAc,CAAC;AAChD,SAAK,SAAS,IAAI,KAAK,YAAY,QAAQ,QAAQ;AACnD,SAAK,aAAa,YAAY,IAAI,MAAM,gBAAgB,KAAK,UAAU,CAAC,CAAC;AACzE,SAAK,aAAa,UAAU,IAAI,MAAM,uBAAuB,cAAc,GAAG,CAAC,CAAC;AAChF,SAAK,WAAW;AAChB,SAAK,eAAe;AACpB,SAAK,sBAAsB;AAC3B,SAAK,qBAAqB;AAC1B,SAAK,WAAW,SAAS,cAAc;AACvC,SAAK,WAAW,OAAO,cAAc;AACrC,QAAI,KAAK,WAAW;AAChB,WAAK,WAAW,GAAG,cAAc;AAAA,EACzC;AAAA;AAAA;AAAA;AAAA,EAIA,iBAAiB;AACb,QAAI;AACJ,QAAI,KAAK;AACL;AACJ,UAAM,KAAK,KAAK,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,QAAQ,UAAU,GAAG;AAC9F,WAAK,SAAS,IAAI,MAAM,sBAAsB,KAAK,YAAY,QAAQ,SAAS,CAAC,CAAC;AAClF,WAAK,gBAAgB;AAAA,IACzB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa;AACT,QAAI,KAAK;AACL;AACJ,QAAI,KAAK,YAAY,QAAQ,IAAI,SAAS,GAAG;AACzC,WAAK,aAAa,MAAM,IAAI,MAAM,gBAAgB,IAAI,aAAa,KAAK,YAAY,QAAQ,GAAG,GAAG,CAAC,CAAC;AACpG,WAAK,YAAY;AAAA,IACrB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,mBAAmB;AACnB,WAAO,KAAK;AAAA,EAChB;AACJ;;;ACvDO,IAAM,yBAAN,cAAqC,MAAM,KAAK;AAAA,EACnD,YAAY,QAAQ,UAAU;AAC1B,QAAI,CAAC,UAAU;AACX,YAAM,MAAM,IAAI,MAAM,cAAc,EAAE,KAAK,OAAO,MAAM,GAAG;AAC3D,UAAI,aAAa,MAAM;AAEvB,iBAAW,IAAI,MAAM,kBAAkB;AAAA,QACnC;AAAA,MACJ,CAAC;AAAA,IACL;AACA,UAAM,IAAI,iCAAiC,MAAM,GAAG,QAAQ;AAAA,EAChE;AACJ;;;AClBA,QAAQ,IAAI,uBAAuB,OAAO,EAAE;",
  "names": ["window", "undefined", "VERSION", "regexes", "str2", "str", "len", "UAParser", "ua", "parser", "barcode_format_t", "face_landmark_name_t", "instant_world_tracker_transform_orientation_t", "log_level_t", "frame_pixel_format_t", "image_target_type_t", "len", "decoder", "z", "projectionMatrix", "shader", "uvbo", "create", "create", "z", "len", "z2", "scale", "add", "clone", "copy", "create", "equals", "exactEquals", "fromValues", "mul", "multiply", "rotateX", "rotateY", "rotateZ", "scale", "set", "str", "sub", "subtract", "create", "clone", "z", "fromValues", "copy", "set", "add", "subtract", "multiply", "scale", "len", "rotateX", "rotateY", "rotateZ", "str", "exactEquals", "equals", "sub", "mul", "create", "normalize", "z", "len", "forEach", "create", "create", "normalize", "create", "fromValues", "dot", "normalize", "add", "angle", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "rotate", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat3", "transformMat4", "zero", "create", "clone", "fromValues", "copy", "set", "add", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "length", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "z", "lerp", "random", "transformMat3", "transformMat4", "rotate", "angle", "zero", "str", "exactEquals", "equals", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "EmbeddedVideoImplementation", "Event", "Event1", "Event", "Event1", "STRINGS", "lang", "locale", "str", "__awaiter", "div", "identity", "length", "identity", "shader", "vbo", "vertexShaderSrc", "fragmentShaderSrc", "cameraRotationForScreenOrientation", "shader", "vertexShaderSrc", "fragmentShaderSrc", "shader", "vertexShaderSrc", "fragmentShaderSrc", "SequenceRecorderPacketType", "z", "vbo", "shader", "__awaiter", "pipeline", "devices", "__awaiter", "__awaiter", "latest", "byId", "shader", "loadTexture", "vertexShaderSrc", "fragmentShaderSrc", "level", "internalFormat", "srcFormat", "srcType", "byId", "identity", "Event", "client", "projectionMatrix", "scale", "z", "identity", "latest", "byId", "angle", "length", "str", "byId", "decoder", "client", "str", "__awaiter", "loaded", "div", "projectionMatrix", "scale", "z", "identity", "VERSION", "initialize", "VERSION", "VERSION", "__awaiter", "VERSION", "initialize", "__awaiter", "__awaiter", "ImageTracker", "_z", "z", "__awaiter", "__awaiter", "FaceMesh", "identity", "CameraSource", "HTMLElementSource", "__awaiter", "SequenceSource", "Pipeline", "projectionMatrix", "FaceLandmark", "identity", "__awaiter", "Permission", "permissionRequestUI", "permissionDeniedUI", "setLogLevel", "Pipeline", "ImageTracker", "BarcodeFinder", "FaceTracker", "InstantWorldTracker", "CameraSource", "HTMLElementSource", "CameraPoseMode", "CameraMirrorMode", "CameraDirection", "Pipeline", "CameraSource", "HTMLElementSource", "ImageTracker", "z", "FaceLandmark", "FaceTracker", "itemFilename", "FaceMesh", "itemFilename", "identity", "FaceMesh", "identity", "itemFilename", "loaded"]
}
